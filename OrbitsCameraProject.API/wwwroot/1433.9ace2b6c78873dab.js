"use strict";(self.webpackChunkable_pro=self.webpackChunkable_pro||[]).push([[1433],{11433:(Qt,T,c)=>{c.r(T),c.d(T,{KanbanComponent:()=>Zt});var s=c(48728),k=c(72200),_=c(56147),S=c(17705),C=c(81391),O=c(29330),u=c(21413),b=c(22525);let x=(()=>{class n{constructor(){this.http=(0,s.WQX)(O.Qq),this.taskDetails=new u.B,this.editTask=this.taskDetails.asObservable(),this.storyDetails=new u.B,this.editStory=this.storyDetails.asObservable(),this.columnsSubject=new u.B,this.columns=this.columnsSubject.asObservable(),this.columnData=[],this.profileSubject=new u.B,this.profiles=this.profileSubject.asObservable(),this.profile=[],this.commentSubject=new u.B,this.comments=this.commentSubject.asObservable(),this.comment=[],this.itemSubject=new u.B,this.items=this.itemSubject.asObservable(),this.taskItems=[],this.userStorySubject=new u.B,this.userStory=this.userStorySubject.asObservable(),this.userStories=[]}editDetails(e){this.taskDetails.next(e)}editStoryDetails(e){this.storyDetails.next(e)}getColumns(){this.http.get(`${b.c.apiUrl}/api/kanban/columns`).subscribe(e=>{this.columnsSubject.next(e.columns),this.columnData=e.columns})}getProfiles(){this.http.get(`${b.c.apiUrl}/api/kanban/profiles`).subscribe(e=>{this.profileSubject.next(e.profiles),this.profile=e.profiles})}getComments(){this.http.get(`${b.c.apiUrl}/api/kanban/comments`).subscribe(e=>{this.commentSubject.next(e.comments),this.comment=e.comments})}getItems(){this.http.get(`${b.c.apiUrl}/api/kanban/items`).subscribe(e=>{this.itemSubject.next(e.items),this.taskItems=e.items})}getUserStory(){this.http.get(`${b.c.apiUrl}/api/kanban/userstory`).subscribe(e=>{this.userStorySubject.next(e.userStory),this.userStories=e.userStory})}deleteColumn(e){return this.http.get(`${b.c.apiUrl}/api/kanban/delete-column`),this.columnData=this.columnData.filter(a=>a.id!==e),this.columnsSubject.next(this.columnData)}deleteItems(e){return this.http.get(`${b.c.apiUrl}/api/kanban/delete-item`),this.taskItems=this.taskItems.filter(a=>a.id!==e.id),this.itemSubject.next(this.taskItems)}addNewColumn(e){this.columnData.push(e),this.columnsSubject.next(this.columnData)}addNewTask(e,a){const i=this.columnData.find(o=>o.itemIds.some(r=>a.includes(r)));i&&(i.itemIds.push(e.id),this.taskItems.push(e),this.columnsSubject.next(this.columnData),this.itemSubject.next(this.taskItems))}addNewComment(e,a){this.comment.push(e),this.commentSubject.next(this.comment);const i=this.taskItems.find(o=>o.id===a.id);i&&(i.commentIds||(i.commentIds=[]),i.commentIds.push(e.id)),this.itemSubject.next(this.taskItems)}editItem(e,a,i){{const r=this.userStories.findIndex(m=>m.id===a.id);-1!==r&&(this.userStories[r].itemIds=this.userStories[r].itemIds.filter(m=>m!==e.id),this.userStories[r].itemIds.push(e.id));for(const m of this.userStories)m.id!==a.id&&(m.itemIds=m.itemIds.filter(y=>y!==e.id))}{const r=this.columnData.findIndex(m=>m.id===i.id);-1!==r&&(this.columnData[r].itemIds=this.columnData[r].itemIds.filter(m=>m!==e.id),this.columnData[r].itemIds.push(e.id));for(const m of this.columnData)m.id!==i.id&&(m.itemIds=m.itemIds.filter(y=>y!==e.id))}this.userStorySubject.next(this.userStories),this.columnsSubject.next(this.columnData);const o=this.taskItems.find(r=>r.id===e.id);o&&(o.dueDate=e.dueDate,o.attachments=e.attachments,this.itemSubject.next(this.taskItems))}editUserStory(e,a){if(this.columnData.find(o=>o.id===a.id)){const o=this.userStories.find(r=>r.id===e.id);if(o){const r=o.columnId.split(","),m=a.id.toString();if(o.dueDate=e.dueDate,!r.includes(m)){const y=r.map(V=>V===e.columnId?m:V);o.columnId=y.join(","),this.userStorySubject.next(this.userStories)}}}}getColumnFromTitle(e){return this.columnData.find(a=>a.title===e)}static#t=this.\u0275fac=function(a){return new(a||n)};static#e=this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var t=c(73664),D=c(88834),h=c(59115),v=c(33746),f=c(5404),d=c(89417);const P=n=>({open:n});function N(n,l){if(1&n&&t.nrm(0,"img",28),2&n){const e=t.XpG().$implicit;t.Y8G("src",t.VkB("assets/images/profile/",e.image),t.B4B)}}function X(n,l){if(1&n){const e=t.RV6();t.j41(0,"div",2)(1,"div",20)(2,"a",21),t.bIt("click",function(){const i=s.eBV(e).$implicit,o=t.XpG();return s.Njj(o.editTaskOpen(i))}),t.j41(3,"div",22),t.EFF(4),t.k0s()(),t.j41(5,"div",23),t.nrm(6,"i",24),t.k0s(),t.j41(7,"mat-menu",null,0)(9,"button",25),t.bIt("click",function(){const i=s.eBV(e).$implicit,o=t.XpG();return s.Njj(o.editTaskOpen(i))}),t.EFF(10,"Edit"),t.k0s(),t.j41(11,"button",25),t.bIt("click",function(){const i=s.eBV(e).$implicit,o=t.XpG();return s.Njj(o.deleteTask(i))}),t.EFF(12,"Delete"),t.k0s()()(),t.j41(13,"a",26),t.bIt("click",function(){const i=s.eBV(e).$implicit,o=t.XpG();return s.Njj(o.editStoryOpen(o.getStoryId(i.id)))}),t.nrm(14,"i",27),t.EFF(15),t.k0s(),t.nVh(16,N,1,2,"img",28),t.k0s()}if(2&n){const e=l.$implicit,a=t.sdS(8),i=t.XpG();t.R7$(4),t.SpI(" ",e.title," "),t.R7$(),t.Y8G("matMenuTriggerFor",a),t.R7$(10),t.SpI(" User Story #",i.getStoryId(e.id)," "),t.R7$(),t.vxM(!1!==e.image?16:-1)}}let K=(()=>{class n{constructor(){this.kanbanService=(0,s.WQX)(x),this.title=(0,S.hFB)()}ngOnInit(){this.kanbanService.getItems(),this.columnData=this.kanbanService.getColumnFromTitle(this.title()),this.kanbanService.items.subscribe(e=>{this.taskItems=e.filter(a=>this.columnData?.itemIds.includes(a.id))})}drop(e){e.previousContainer===e.container?(0,C.HD)(e.container.data,e.previousIndex,e.currentIndex):(0,C.eg)(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex)}toggleTask(){this.taskAdd=!this.taskAdd}getStoryId(e){return this.userStoryId=this.kanbanService.userStories.filter(a=>a.itemIds.includes(e))[0]?.id,this.userStoryId}deleteTask(e){this.kanbanService.deleteItems(e)}editTaskOpen(e){this.kanbanService.editDetails(e)}editStoryOpen(e){this.kanbanService.editStoryDetails(e)}taskSubmit(){this.taskAdd=!1;const e={assign:"",attachments:[],commentIds:[],description:"",dueDate:new Date,id:`${Math.floor(1e3+9999*Math.random())}`,image:!1,priority:"low",title:this.inputDetails};this.kanbanService.addNewTask(e,this.columnData.itemIds)}static#t=this.\u0275fac=function(a){return new(a||n)};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-kanban-columns"]],inputs:{title:[1,"title"]},decls:23,vars:5,consts:[["menu","matMenu"],["cdkDropList","",3,"cdkDropListDropped","cdkDropListData"],["cdkDrag","",1,"kanban-card","m-b-10"],[1,"task-add",3,"ngClass"],[1,"grid"],["mat-stroked-button","",1,"m-t-10","new-task-add",3,"click"],[1,"kanban-card","m-t-10"],[1,"input-title"],[3,"ngSubmit"],["appearance","outline",1,"w-100","comment-section"],["matInput","","placeholder","Add Task","name","inputField",3,"ngModelChange","ngModel"],[1,"flex","align-item-center","justify-content-between"],[1,"flex","align-item-center"],[1,"pc-icon","m-r-10"],[0,"xlink","href","assets/fonts/custom-icon.svg#custom-profile-2user-outline"],[1,"pc-icon"],[0,"xlink","href","assets/fonts/custom-icon.svg#custom-calculator"],[1,"pc-icon","m-r-10",3,"click"],[1,"ti","ti-x","f-18","text-warn-500"],["mat-flat-button","","color","primary","type","submit",1,"submit-details"],[1,"task-header"],[3,"click"],[1,"m-b-5","text-accent-900","task-title","f-w-600"],[3,"matMenuTriggerFor"],[1,"ti","ti-dots-vertical"],["mat-menu-item","",3,"click"],["href","javascript:",1,"text-primary-500","text-stroy",3,"click"],[1,"ti","ti-stack","f-16","m-r-5"],[1,"img-fluid","kanban-img","m-t-10",3,"src"]],template:function(a,i){1&a&&(t.j41(0,"div",1),t.bIt("cdkDropListDropped",function(r){return i.drop(r)}),t.Z7z(1,X,17,4,"div",2,t.fX1),t.j41(3,"div",3)(4,"div",4)(5,"button",5),t.bIt("click",function(){return i.toggleTask()}),t.EFF(6,"Add Task"),t.k0s()(),t.j41(7,"div",6)(8,"div",7)(9,"form",8),t.bIt("ngSubmit",function(){return i.taskSubmit()}),t.j41(10,"mat-form-field",9)(11,"input",10),t.mxI("ngModelChange",function(r){return t.DH7(i.inputDetails,r)||(i.inputDetails=r),r}),t.k0s()(),t.j41(12,"div",11)(13,"div",12),s.qSk(),t.j41(14,"svg",13),t.nrm(15,"use",14),t.k0s(),t.j41(16,"svg",15),t.nrm(17,"use",16),t.k0s()(),s.joV(),t.j41(18,"div",12)(19,"div",17),t.bIt("click",function(){return i.toggleTask()}),t.nrm(20,"i",18),t.k0s(),t.j41(21,"button",19),t.EFF(22,"Add"),t.k0s()()()()()()()()),2&a&&(t.Y8G("cdkDropListData",i.taskItems),t.R7$(),t.Dyx(i.taskItems),t.R7$(2),t.Y8G("ngClass",t.eq3(3,P,i.taskAdd)),t.R7$(8),t.R50("ngModel",i.inputDetails))},dependencies:[k.MD,k.YU,_.G,D.$z,h.kk,h.fb,h.Cp,v.fg,f.j,C.O7,C.T1,d.qT,d.me,d.BC,d.cb,d.vS,d.cV],styles:[".kanban-dashboard .kanban-column{background:var(--accent-200);border-radius:12px;flex:0 0 auto;max-width:100%;margin-bottom:12px;width:16%;padding:16px;min-width:250px;border:1px solid rgba(219,224,229,.65)}  .kanban-dashboard .kanban-column:not(:last-child){margin-right:1.5rem}  .able-pro-rtl   .kanban-dashboard .kanban-column:not(:last-child){margin-left:1.5rem;margin-right:0rem}  .kanban-dashboard .kanban-column .kanban-header{display:flex;align-items:center;padding-bottom:16px}  .kanban-dashboard .kanban-column .kanban-header .kanban-delete{color:var(--warn-500)}  .kanban-dashboard .kanban-column .kanban-header .kanban-delete:hover{background:var(--warn-100)}  .dark   .kanban-dashboard .kanban-column .kanban-header .kanban-delete:hover{background:var(--warn-900)}  .kanban-dashboard .kanban-column .kanban-header .form-control{display:block;width:100%;padding:.65rem .75rem;font-size:.875rem;font-weight:400;line-height:1.5;color:#212529;border:1px solid #ced4da;border-radius:6px;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}  .kanban-dashboard .kanban-column .kanban-header .form-control:not(:focus){border-color:transparent;background:transparent;box-shadow:none}  .dark   .kanban-dashboard .kanban-column .kanban-header .form-control{color:#fff!important;background-color:var(--accent-200)}  .kanban-dashboard .kanban-column .kanban-body .kanban-card{position:relative;display:flex;flex-direction:column;border-radius:8px;padding:16px;background:var(--accent-50)}  .dark   .kanban-dashboard .kanban-column .kanban-body .kanban-card{background:var(--accent-100)!important}  .kanban-dashboard .kanban-column .kanban-body .task-header{display:flex;flex-direction:row;justify-content:space-between;align-items:center;margin-bottom:-6px;position:relative}  .kanban-dashboard .kanban-column .kanban-body .task-header .task-title{margin:0;display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;vertical-align:middle;cursor:pointer;width:calc(100% - 17px);position:absolute;top:0}  .kanban-dashboard .kanban-column .kanban-body .task-header .task-title:hover{text-decoration:underline}  .kanban-dashboard .kanban-column .kanban-body .text-stroy{font-size:.75rem;display:flex;margin-top:10px}  .kanban-dashboard .kanban-column .kanban-body .kanban-img{border-radius:12px}  .kanban-dashboard .kanban-column .kanban-body .pc-icon{cursor:pointer}  .kanban-dashboard .task-add .kanban-card{display:none!important}  .kanban-dashboard .task-add.open .mat-mdc-outlined-button.new-task-add{display:none}  .kanban-dashboard .task-add.open .kanban-card{display:block!important}  .kanban-dashboard .mat-mdc-outlined-button.new-task-add{border-style:dashed!important;color:var(--accent-600)!important;border-color:var(--accent-600)!important;background-color:var(--accent-100)!important}  .kanban-dashboard .mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:transparent!important}  .kanban-dashboard .submit-details.mat-mdc-unelevated-button.mat-mdc-button-base{height:25px}"]})}return n})();var w=c(9010),Y=c(81074),A=c(75747),p=c(90645);const z=()=>["expandedDetail"];function L(n,l){1&n&&(t.j41(0,"th",33)(1,"div",34)(2,"div",35),t.EFF(3,"Add"),t.k0s(),t.nrm(4,"i",36),t.k0s()())}function J(n,l){1&n&&(t.j41(0,"mat-icon"),t.EFF(1,"keyboard_arrow_right"),t.k0s())}function W(n,l){1&n&&(t.j41(0,"mat-icon"),t.EFF(1,"keyboard_arrow_down"),t.k0s())}function Z(n,l){if(1&n){const e=t.RV6();t.j41(0,"td",37)(1,"div",38)(2,"a",39),t.nrm(3,"i",40),t.k0s(),t.j41(4,"button",41),t.bIt("click",function(i){const o=s.eBV(e).$implicit,r=t.XpG();return r.expandedElement=r.expandedElement===o?null:o,s.Njj(i.stopPropagation())}),t.nVh(5,J,2,0,"mat-icon")(6,W,2,0,"mat-icon"),t.k0s()()()}if(2&n){const e=l.$implicit,a=t.XpG();t.R7$(5),t.vxM(a.expandedElement!==e?5:6)}}function Q(n,l){1&n&&(t.j41(0,"th",42),t.EFF(1,"ID"),t.k0s())}function q(n,l){if(1&n&&(t.j41(0,"td",43)(1,"div",38),t.nrm(2,"i",44),t.EFF(3),t.k0s()()),2&n){const e=l.$implicit;t.R7$(3),t.SpI(" ",e.id," ")}}function tt(n,l){1&n&&(t.j41(0,"th",45),t.EFF(1,"Title"),t.k0s())}function et(n,l){if(1&n&&(t.j41(0,"td",46),t.EFF(1),t.k0s()),2&n){const e=l.$implicit;t.R7$(),t.JRh(e.title)}}function nt(n,l){1&n&&t.nrm(0,"th",47)}function at(n,l){if(1&n&&(t.j41(0,"td",48)(1,"button",49),t.nrm(2,"i"),t.k0s(),t.j41(3,"mat-menu",null,0)(5,"button",50),t.EFF(6,"Edit"),t.k0s(),t.j41(7,"button",50),t.EFF(8,"Delete"),t.k0s()()()),2&n){const e=l.$implicit,a=t.sdS(4);t.R7$(),t.Y8G("matMenuTriggerFor",a),t.R7$(),t.HbH(e.edit)}}function it(n,l){1&n&&(t.j41(0,"th",51),t.EFF(1,"Status"),t.k0s())}function ot(n,l){if(1&n&&(t.j41(0,"td",52),t.EFF(1),t.k0s()),2&n){const e=l.$implicit;t.R7$(),t.JRh(e.status)}}function st(n,l){1&n&&(t.j41(0,"th",53),t.EFF(1,"Assigned To"),t.k0s())}function lt(n,l){if(1&n&&(t.j41(0,"td",54),t.EFF(1),t.k0s()),2&n){const e=l.$implicit;t.R7$(),t.JRh(e.assigned)}}function rt(n,l){1&n&&(t.j41(0,"th",55),t.EFF(1,"Priority"),t.k0s())}function ct(n,l){if(1&n&&(t.j41(0,"td",56),t.EFF(1),t.k0s()),2&n){const e=l.$implicit;t.R7$(),t.JRh(e.priority)}}function mt(n,l){1&n&&(t.j41(0,"th",57),t.EFF(1,"Due Date"),t.k0s())}function dt(n,l){if(1&n&&(t.j41(0,"td",58),t.EFF(1),t.k0s()),2&n){const e=l.$implicit;t.R7$(),t.JRh(e.date)}}function pt(n,l){1&n&&t.nrm(0,"td",68)}function ut(n,l){if(1&n&&(t.j41(0,"td",43)(1,"div",38),t.nrm(2,"i",69),t.EFF(3),t.k0s()()),2&n){const e=l.$implicit;t.R7$(3),t.SpI(" ",e.id," ")}}function kt(n,l){if(1&n&&(t.j41(0,"td",70),t.EFF(1),t.k0s()),2&n){const e=l.$implicit;t.R7$(),t.JRh(e.title)}}function bt(n,l){if(1&n&&(t.j41(0,"td",48)(1,"button",49),t.nrm(2,"i"),t.k0s(),t.j41(3,"mat-menu",null,0)(5,"button",50),t.EFF(6,"Edit"),t.k0s(),t.j41(7,"button",50),t.EFF(8,"Delete"),t.k0s()()()),2&n){const e=l.$implicit,a=t.sdS(4);t.R7$(),t.Y8G("matMenuTriggerFor",a),t.R7$(),t.HbH(e.edit)}}function ht(n,l){if(1&n&&(t.j41(0,"td",52),t.EFF(1),t.k0s()),2&n){const e=l.$implicit;t.R7$(),t.JRh(e.state)}}function ft(n,l){if(1&n&&(t.j41(0,"td",54),t.EFF(1),t.k0s()),2&n){const e=l.$implicit;t.R7$(),t.JRh(e.assigned)}}function gt(n,l){if(1&n&&(t.j41(0,"td",56),t.EFF(1),t.k0s()),2&n){const e=l.$implicit;t.R7$(),t.JRh(e.priority)}}function _t(n,l){if(1&n&&(t.j41(0,"td",58),t.EFF(1),t.k0s()),2&n){const e=l.$implicit;t.R7$(),t.JRh(e.date)}}function Ct(n,l){1&n&&t.nrm(0,"td",37)}function Dt(n,l){1&n&&t.nrm(0,"tr",71)}function yt(n,l){if(1&n&&(t.j41(0,"td",59)(1,"div",60)(2,"div",61)(3,"table",62),t.qex(4,4),t.DNE(5,pt,1,0,"td",63),t.bVm(),t.qex(6,7),t.DNE(7,ut,4,1,"td",9),t.bVm(),t.qex(8,10),t.DNE(9,kt,2,1,"td",64),t.bVm(),t.qex(10,13),t.DNE(11,bt,9,3,"td",15),t.bVm(),t.qex(12,65),t.DNE(13,ht,2,1,"td",18),t.bVm(),t.qex(14,19),t.DNE(15,ft,2,1,"td",21),t.bVm(),t.qex(16,22),t.DNE(17,gt,2,1,"td",24),t.bVm(),t.qex(18,25),t.DNE(19,_t,2,1,"td",27),t.bVm(),t.qex(20,66),t.DNE(21,Ct,1,0,"td",6),t.bVm(),t.DNE(22,Dt,1,0,"tr",67),t.k0s()()()()),2&n){const e=l.$implicit,a=t.XpG();t.BMQ("colspan",a.columnsToDisplayWithExpand.length),t.R7$(),t.AVh("collapsed",a.expandedElement===e),t.R7$(2),t.Y8G("dataSource",a.dataSource1),t.R7$(19),t.Y8G("matRowDefColumns",a.collapseColumns)}}function xt(n,l){1&n&&t.nrm(0,"tr",72)}function vt(n,l){if(1&n){const e=t.RV6();t.j41(0,"tr",73),t.bIt("click",function(){const i=s.eBV(e).$implicit,o=t.XpG();return s.Njj(o.expandedElement=o.expandedElement===i?null:i)}),t.k0s()}if(2&n){const e=l.$implicit,a=t.XpG();t.AVh("example-expanded-row",a.expandedElement===e)}}function jt(n,l){1&n&&t.nrm(0,"tr",74)}const St=[{position:1,id:"9992",title:"School Management Backend",status:"Active",assigned:"Maddison Wilber",edit:"ti ti-dots-vertical",priority:"Low",date:"07/22/2022"},{position:2,id:"7323",title:"Lunch Beauty Application",status:"Active",assigned:"John Doe",edit:"ti ti-dots-vertical",priority:"Low",date:"07/22/2022"},{position:3,id:"2440",title:"Inventory Implementation & Design",status:"New",assigned:"Barney Thea",edit:"ti ti-dots-vertical",priority:"High",date:"07/22/2022"},{position:4,id:"8214",title:"Theme migration from v4 to v5",status:"Active",assigned:"Maddison Wilber",edit:"ti ti-dots-vertical",priority:"Medium",date:"07/22/2022"},{position:5,id:"5612",title:"Online fees payment & instant announcements",status:"New",assigned:"John Doe",edit:"ti ti-dots-vertical",priority:"High",date:"07/22/2022"}],wt=[{position:1,priority:"Low",id:"7690",edit:"ti ti-dots-vertical",title:"Online fees payment & instant announcements",state:"Active",assigned:"Barney Thea",date:"5 May 2023"},{position:2,priority:"Low",id:"4642",edit:"ti ti-dots-vertical",title:"Attendance checking & homework details",state:"New",assigned:"Barney Thea",date:"3 Jun 2023"},{position:3,priority:"High",id:"1125",edit:"ti ti-dots-vertical",title:"Admission, Staff & Schedule management",state:"Active",assigned:"Maddison Wilber",date:"25 May 2023"}];let Ft=(()=>{class n{constructor(){this.dataSource=St,this.dataSource1=wt,this.columnsToDisplay=["position","id","title","edit","status","assigned","priority","date"],this.columnsToDisplayWithExpand=[...this.columnsToDisplay],this.displayedColumns=["position","id","title","edit","status","assigned","priority","date"],this.collapseColumns=["position","id","title","edit","state","assigned","priority","date"]}static#t=this.\u0275fac=function(a){return new(a||n)};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-kanban-backlogs"]],decls:32,vars:5,consts:[["menu","matMenu"],[1,"m-t-25"],[1,"kanban-backlog"],["mat-table","","multiTemplateDataRows","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","position"],["mat-header-cell","","class","add-task",4,"matHeaderCellDef"],["mat-cell","","class","add-task",4,"matCellDef"],["matColumnDef","id"],["mat-header-cell","","class","user-id",4,"matHeaderCellDef"],["mat-cell","","class","user-id",4,"matCellDef"],["matColumnDef","title"],["mat-header-cell","","class","user-title",4,"matHeaderCellDef"],["mat-cell","","class","story-title user-title",4,"matCellDef"],["matColumnDef","edit"],["mat-header-cell","","class","kanban-drop user-edit",4,"matHeaderCellDef"],["mat-cell","","class","user-edit",4,"matCellDef"],["matColumnDef","status"],["mat-header-cell","","class","user-live",4,"matHeaderCellDef"],["mat-cell","","class","user-live",4,"matCellDef"],["matColumnDef","assigned"],["mat-header-cell","","class","user-assigned",4,"matHeaderCellDef"],["mat-cell","","class","user-assigned",4,"matCellDef"],["matColumnDef","priority"],["mat-header-cell","","class","user-priority",4,"matHeaderCellDef"],["mat-cell","","class","user-priority",4,"matCellDef"],["matColumnDef","date"],["mat-header-cell","","class","user-date",4,"matHeaderCellDef"],["mat-cell","","class","user-date",4,"matCellDef"],["matColumnDef","expandedDetail"],["mat-cell","","class","collapse_data",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","kanban-row",3,"example-expanded-row","click",4,"matRowDef","matRowDefColumns"],["mat-row","","class","kanban-detail-row",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"add-task"],["mat-flat-button","","matTooltip","Add User Story",1,"user-story-button","mat-body","f-w-700"],[1,"m-b-0"],[1,"ti","ti-plus","m-l-10","f-w-700"],["mat-cell","",1,"add-task"],[1,"flex","align-item-center"],["href","javascript:",1,"avatar","avatar-xs","bg-primary-100"],["matTooltip","Add Task",1,"ti","ti-circle-plus","f-18"],["mat-icon-button","","aria-label","expand row",3,"click"],["mat-header-cell","",1,"user-id"],["mat-cell","",1,"user-id"],[1,"ti","ti-stack","f-18","m-r-5","text-primary-500"],["mat-header-cell","",1,"user-title"],["mat-cell","",1,"story-title","user-title"],["mat-header-cell","",1,"kanban-drop","user-edit"],["mat-cell","",1,"user-edit"],["mat-button","",3,"matMenuTriggerFor"],["mat-menu-item",""],["mat-header-cell","",1,"user-live"],["mat-cell","",1,"user-live"],["mat-header-cell","",1,"user-assigned"],["mat-cell","",1,"user-assigned"],["mat-header-cell","",1,"user-priority"],["mat-cell","",1,"user-priority"],["mat-header-cell","",1,"user-date"],["mat-cell","",1,"user-date"],["mat-cell","",1,"collapse_data"],[1,"children-content"],[1,"kanban-diagram"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["mat-cell","","style","width: 140px","class","add-task",4,"matCellDef"],["mat-cell","","class","user-title",4,"matCellDef"],["matColumnDef","state"],["matColumnDef","expand"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-cell","",1,"add-task",2,"width","140px"],[1,"ti","ti-book","f-18","m-r-5","text-primary-500"],["mat-cell","",1,"user-title"],["mat-row",""],["mat-header-row",""],["mat-row","",1,"kanban-row",3,"click"],["mat-row","",1,"kanban-detail-row"]],template:function(a,i){1&a&&(t.j41(0,"div",1)(1,"div",2)(2,"table",3),t.qex(3,4),t.DNE(4,L,5,0,"th",5)(5,Z,7,1,"td",6),t.bVm(),t.qex(6,7),t.DNE(7,Q,2,0,"th",8)(8,q,4,1,"td",9),t.bVm(),t.qex(9,10),t.DNE(10,tt,2,0,"th",11)(11,et,2,1,"td",12),t.bVm(),t.qex(12,13),t.DNE(13,nt,1,0,"th",14)(14,at,9,3,"td",15),t.bVm(),t.qex(15,16),t.DNE(16,it,2,0,"th",17)(17,ot,2,1,"td",18),t.bVm(),t.qex(18,19),t.DNE(19,st,2,0,"th",20)(20,lt,2,1,"td",21),t.bVm(),t.qex(21,22),t.DNE(22,rt,2,0,"th",23)(23,ct,2,1,"td",24),t.bVm(),t.qex(24,25),t.DNE(25,mt,2,0,"th",26)(26,dt,2,1,"td",27),t.bVm(),t.qex(27,28),t.DNE(28,yt,23,5,"td",29),t.bVm(),t.DNE(29,xt,1,0,"tr",30)(30,vt,1,2,"tr",31)(31,jt,1,0,"tr",32),t.k0s()()()),2&a&&(t.R7$(2),t.Y8G("dataSource",i.dataSource),t.R7$(27),t.Y8G("matHeaderRowDef",i.columnsToDisplayWithExpand),t.R7$(),t.Y8G("matRowDefColumns",i.columnsToDisplayWithExpand),t.R7$(),t.Y8G("matRowDefColumns",t.lJ4(4,z)))},dependencies:[k.MD,_.G,D.$z,w.M,Y.An,h.kk,h.fb,h.Cp,A.e,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.KS,p.$R,p.YZ,p.NB],styles:[".kanban-backlog[_ngcontent-%COMP%]   .add-task[_ngcontent-%COMP%]{width:120px;min-width:120px;padding:.9rem 1.75rem;cursor:pointer}.kanban-backlog[_ngcontent-%COMP%]   .add-task[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{color:var(--primary-500)}  .dark .kanban-backlog .add-task .avatar{color:#fff!important}.kanban-backlog[_ngcontent-%COMP%]   .user-id[_ngcontent-%COMP%]{width:110px}.kanban-backlog[_ngcontent-%COMP%]   .user-edit[_ngcontent-%COMP%]{width:60px}.kanban-backlog[_ngcontent-%COMP%]   .user-live[_ngcontent-%COMP%]{width:90px}.kanban-backlog[_ngcontent-%COMP%]   .user-assigned[_ngcontent-%COMP%]{width:140px}.kanban-backlog[_ngcontent-%COMP%]   .user-priority[_ngcontent-%COMP%]{width:85px}.kanban-backlog[_ngcontent-%COMP%]   .user-date[_ngcontent-%COMP%]{width:120px}.kanban-backlog[_ngcontent-%COMP%]   .kanban-drop[_ngcontent-%COMP%]{width:60px;min-width:60px;padding:.9rem 1.75rem}.kanban-backlog[_ngcontent-%COMP%]   .user-story-button[_ngcontent-%COMP%]{border:1px dotted;border-radius:8px;display:flex;align-items:center;justify-content:center}.kanban-backlog[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.kanban-backlog[_ngcontent-%COMP%]   .story-title[_ngcontent-%COMP%]{cursor:pointer}.kanban-backlog[_ngcontent-%COMP%]   tr.kanban-detail-row[_ngcontent-%COMP%]{height:0}.kanban-backlog[_ngcontent-%COMP%]   tr.kanban-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:#f5f5f5}  .dark .kanban-backlog tr.kanban-row:not(.example-expanded-row):hover{background:var(--accent-300)!important}.kanban-backlog[_ngcontent-%COMP%]   tr.kanban-row[_ngcontent-%COMP%]:not(.example-expanded-row):active{background:#efefef}.kanban-backlog[_ngcontent-%COMP%]   .kanban-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.kanban-backlog[_ngcontent-%COMP%]   .kanban-diagram[_ngcontent-%COMP%]{font-weight:lighter;height:auto}.kanban-backlog[_ngcontent-%COMP%]   .example-element-symbol[_ngcontent-%COMP%]{font-weight:700;font-size:40px;line-height:normal}.kanban-backlog[_ngcontent-%COMP%]   .example-element-description[_ngcontent-%COMP%]{padding:16px}.kanban-backlog[_ngcontent-%COMP%]   .example-element-description-attribution[_ngcontent-%COMP%]{opacity:.5}  .mdc-data-table__content td.collapse_data .children-content{height:0;min-height:0;animation:225ms cubic-bezier(.4,0,.2,1)}  .mdc-data-table__content td.collapse_data .children-content.collapsed{height:auto;min-height:auto;animation:225ms cubic-bezier(.4,0,.2,1)}"]})}return n})(),F=(()=>{class n{constructor(){this.taskSlider=new u.B,this.storySlider=new u.B,this.taskSliderClosed=!0,this.storySliderClosed=!0}toggleTask(){this.taskSliderClosed=!this.taskSliderClosed,this.taskSlider.next(this.taskSliderClosed)}toggleStory(){this.storySliderClosed=!this.storySliderClosed,this.storySlider.next(this.storySliderClosed)}static#t=this.\u0275fac=function(a){return new(a||n)};static#e=this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var M=c(97880),I=c(90882),R=c(71997),j=c(5951),B=c(72923),E=c(25079),g=c(25084),$=c(16735);const Tt=["task"],Mt=()=>({height:"calc(100vh - 88px)",position:"relative"});function It(n,l){if(1&n&&(t.j41(0,"mat-option",17)(1,"div",45),t.nrm(2,"img",51),t.EFF(3),t.k0s()()),2&n){const e=l.$implicit;t.Y8G("value",e.id),t.R7$(2),t.Y8G("src",t.VkB("assets/images/user/",e.avatar),t.B4B),t.R7$(),t.SpI(" ",e.name," ")}}function Rt(n,l){if(1&n&&(t.j41(0,"mat-option",17),t.EFF(1),t.k0s()),2&n){const e=l.$implicit;t.Y8G("value",e),t.R7$(),t.Lme("",e.id," - ",e.title)}}function Bt(n,l){if(1&n&&(t.j41(0,"mat-option",17),t.EFF(1),t.k0s()),2&n){const e=l.$implicit;t.Y8G("value",e),t.R7$(),t.SpI(" ",e.title," ")}}function Et(n,l){if(1&n&&t.nrm(0,"img",55),2&n){const e=t.XpG().$implicit;t.Y8G("src",e.data,t.B4B)}}function $t(n,l){1&n&&t.nrm(0,"i",56)}function Gt(n,l){if(1&n){const e=t.RV6();t.j41(0,"div",33)(1,"div",52)(2,"a",53),t.bIt("click",function(){const i=s.eBV(e).$index,o=t.XpG(3);return s.Njj(o.removeFile(i))}),t.nrm(3,"i",54),t.k0s(),t.nVh(4,Et,1,1,"img",55)(5,$t,1,0,"i",56),t.k0s()()}if(2&n){const e=l.$implicit,a=t.XpG(3);t.R7$(4),t.vxM(a.isImage(e)?4:5)}}function Vt(n,l){if(1&n&&t.Z7z(0,Gt,6,1,"div",33,t.fX1),2&n){const e=t.XpG(2);t.Dyx(e.selectedFiles)}}function Ot(n,l){if(1&n&&(t.j41(0,"app-card",57)(1,"div",32)(2,"div",58)(3,"div",45)(4,"div",59),t.nrm(5,"img",60),t.k0s(),t.j41(6,"div",61)(7,"div",62),t.EFF(8),t.k0s()()()(),t.j41(9,"div",59)(10,"div",63)(11,"div",45),t.nrm(12,"i",64),t.EFF(13),t.k0s()()()(),t.j41(14,"p"),t.EFF(15),t.k0s()()),2&n){const e=l.$implicit;t.Y8G("showHeader",!1),t.R7$(5),t.Y8G("src",t.VkB("assets/images/user/",e.profile.avatar),t.B4B),t.R7$(3),t.JRh(e.profile.name),t.R7$(5),t.SpI(" ",e.profile.time," "),t.R7$(2),t.JRh(e.comment.comment)}}function Pt(n,l){if(1&n&&t.Z7z(0,Ot,16,6,"app-card",57,t.fX1),2&n){const e=t.XpG(2);t.Dyx(e.commentList)}}function Nt(n,l){if(1&n){const e=t.RV6();t.j41(0,"div",3)(1,"div",4)(2,"h4"),t.EFF(3),t.k0s(),t.j41(4,"div",5)(5,"button",6),t.bIt("click",function(){s.eBV(e);const i=t.XpG();return s.Njj(i.deleteTask(i.taskDetails))}),t.nrm(6,"i",7),t.k0s(),t.j41(7,"button",6),t.bIt("click",function(){s.eBV(e);const i=t.XpG();return s.Njj(i.closeEditSlider())}),t.nrm(8,"i",8),t.k0s()()()(),t.nrm(9,"mat-divider"),t.j41(10,"app-scrollbar",9)(11,"div",10)(12,"form",11),t.bIt("ngSubmit",function(){s.eBV(e);const i=t.XpG();return s.Njj(i.changeItemDetails())}),t.j41(13,"label",12),t.EFF(14,"Title"),t.k0s(),t.j41(15,"mat-form-field",13)(16,"input",14),t.mxI("ngModelChange",function(i){s.eBV(e);const o=t.XpG();return t.DH7(o.taskDetails.title,i)||(o.taskDetails.title=i),s.Njj(i)}),t.k0s()(),t.j41(17,"label",15),t.EFF(18,"Assign To"),t.k0s(),t.j41(19,"mat-form-field",13)(20,"mat-select",16),t.mxI("ngModelChange",function(i){s.eBV(e);const o=t.XpG();return t.DH7(o.taskDetails.assign,i)||(o.taskDetails.assign=i),s.Njj(i)}),t.Z7z(21,It,4,4,"mat-option",17,t.fX1),t.k0s()(),t.j41(23,"label",18),t.EFF(24,"Prioritize"),t.k0s(),t.j41(25,"mat-radio-group",19),t.mxI("ngModelChange",function(i){s.eBV(e);const o=t.XpG();return t.DH7(o.taskDetails.priority,i)||(o.taskDetails.priority=i),s.Njj(i)}),t.j41(26,"mat-radio-button",20),t.EFF(27,"Low"),t.k0s(),t.j41(28,"mat-radio-button",21),t.EFF(29,"Medium"),t.k0s(),t.j41(30,"mat-radio-button",22),t.EFF(31,"High"),t.k0s()(),t.j41(32,"label",23),t.EFF(33,"Due Date"),t.k0s(),t.j41(34,"mat-form-field",13)(35,"input",24),t.mxI("ngModelChange",function(i){s.eBV(e);const o=t.XpG();return t.DH7(o.taskDate,i)||(o.taskDate=i),s.Njj(i)}),t.k0s(),t.nrm(36,"mat-datepicker-toggle",25)(37,"mat-datepicker",null,1),t.k0s(),t.j41(39,"label",26),t.EFF(40,"Description"),t.k0s(),t.j41(41,"mat-form-field",13)(42,"textarea",27),t.mxI("ngModelChange",function(i){s.eBV(e);const o=t.XpG();return t.DH7(o.taskDetails.description,i)||(o.taskDetails.description=i),s.Njj(i)}),t.k0s()(),t.j41(43,"label",28),t.EFF(44,"User Story"),t.k0s(),t.j41(45,"mat-form-field",13)(46,"mat-select",29),t.mxI("ngModelChange",function(i){s.eBV(e);const o=t.XpG();return t.DH7(o.selectUserStroy,i)||(o.selectUserStroy=i),s.Njj(i)}),t.Z7z(47,Rt,2,3,"mat-option",17,t.fX1),t.k0s()(),t.j41(49,"label",30),t.EFF(50,"State"),t.k0s(),t.j41(51,"mat-form-field",13)(52,"mat-select",31),t.mxI("ngModelChange",function(i){s.eBV(e);const o=t.XpG();return t.DH7(o.getColumnData,i)||(o.getColumnData=i),s.Njj(i)}),t.Z7z(53,Bt,2,2,"mat-option",17,t.fX1),t.k0s()(),t.j41(55,"label",23),t.EFF(56,"Attachments:"),t.k0s(),t.j41(57,"div",32)(58,"div",33)(59,"input",34),t.bIt("change",function(i){s.eBV(e);const o=t.XpG();return s.Njj(o.onFileSelected(i))}),t.k0s(),t.j41(60,"label",35),t.nrm(61,"i",36),t.k0s()(),t.nVh(62,Vt,2,0),t.k0s(),t.j41(63,"div",37)(64,"div",38)(65,"button",39),t.bIt("click",function(){s.eBV(e);const i=t.XpG();return s.Njj(i.closeEditSlider())}),t.EFF(66,"Submit"),t.k0s()()()(),t.nVh(67,Pt,2,0),t.j41(68,"app-card",40)(69,"form",41),t.bIt("submit",function(){s.eBV(e);const i=t.XpG();return s.Njj(i.newCommitSubmit())}),t.j41(70,"mat-form-field",42)(71,"input",43),t.mxI("ngModelChange",function(i){s.eBV(e);const o=t.XpG();return t.DH7(o.newComment,i)||(o.newComment=i),s.Njj(i)}),t.k0s()(),t.j41(72,"div",44)(73,"div",45)(74,"div",46),t.nrm(75,"i",47),t.k0s(),t.j41(76,"div",46),t.nrm(77,"i",48),t.k0s(),t.j41(78,"div",46),t.nrm(79,"i",49),t.k0s()(),t.j41(80,"div")(81,"button",50),t.EFF(82,"Comment"),t.k0s()()()()()()()}if(2&n){const e=t.sdS(38),a=t.XpG();t.R7$(3),t.JRh(a.taskDetails.title),t.R7$(7),t.Y8G("customStyle",t.lJ4(18,Mt)),t.R7$(6),t.R50("ngModel",a.taskDetails.title),t.R7$(4),t.R50("ngModel",a.taskDetails.assign),t.R7$(),t.Dyx(a.assignProfile),t.R7$(4),t.R50("ngModel",a.taskDetails.priority),t.R7$(),t.Y8G("checked","low"===a.taskDetails.priority),t.R7$(2),t.Y8G("checked","medium"===a.taskDetails.priority),t.R7$(2),t.Y8G("checked","high"===a.taskDetails.priority),t.R7$(5),t.Y8G("matDatepicker",e),t.R50("ngModel",a.taskDate),t.R7$(),t.Y8G("for",e),t.R7$(6),t.R50("ngModel",a.taskDetails.description),t.R7$(4),t.R50("ngModel",a.selectUserStroy),t.R7$(),t.Dyx(a.userStory),t.R7$(5),t.R50("ngModel",a.getColumnData),t.R7$(),t.Dyx(a.columnsDetails),t.R7$(9),t.vxM(null!=a.taskDetails&&a.taskDetails.attachments&&a.taskDetails.attachments.length>0?62:-1),t.R7$(5),t.vxM(null!=a.taskDetails&&a.taskDetails.commentIds&&(null==a.taskDetails?null:a.taskDetails.commentIds.length)>0?67:-1),t.R7$(),t.Y8G("showHeader",!1),t.R7$(3),t.R50("ngModel",a.newComment)}}let Xt=(()=>{class n{constructor(){this.layoutService=(0,s.WQX)(F),this.kanbanService=(0,s.WQX)(x),this.task=(0,S.ebz)("task"),this.selectedFiles=[],this.commentCounter=6}ngOnInit(){this.layoutService.taskSlider.subscribe(()=>{this.task().toggle()}),this.kanbanService.editTask.subscribe(e=>{if(this.taskDetails=e,this.columnsDetails=this.kanbanService.columnData,this.userComment=this.kanbanService.comment,this.assignProfile=this.kanbanService.profile,this.userStory=this.kanbanService.userStories,this.taskDate=new Date(this.taskDetails.dueDate),this.selectedProfile=this.assignProfile.find(a=>a.id===this.taskDetails.assign),this.selectUserStroy=this.userStory.filter(a=>a.itemIds.includes(e.id))[0]||{},this.getColumnData=this.columnsDetails.filter(a=>a.itemIds.includes(e.id))[0],this.taskDetails?.commentIds){const a=[...this.taskDetails.commentIds].reverse().map(i=>{const o=this.userComment.filter(m=>m.id===i)[0],r=this.assignProfile.filter(m=>m.id===o.profileId)[0];return{comment:o,profile:r}});this.commentList=a}})}closeEditSlider(){this.layoutService.toggleTask()}deleteTask(e){this.kanbanService.deleteItems(e),this.layoutService.toggleTask()}onFileSelected(e){const a=e.target.files;if(a&&a.length>0)for(const i of e.target.files){const o=new FileReader;o.onload=r=>{this.selectedFiles.push({file:i,data:r.target.result})},o.readAsDataURL(i)}}isImage(e){return e.file.type.startsWith("image/")}removeFile(e){this.selectedFiles.splice(e,1)}changeItemDetails(){const e=this.selectedFiles.map(i=>({fileName:i.file.name,fileType:i.file.type,data:i.data}));this.kanbanService.editItem({assign:this.taskDetails.assign,attachments:e.length>0?e:[],commentIds:this.taskDetails.commentIds,description:this.taskDetails.description,dueDate:this.taskDate,id:this.taskDetails.id,image:!1,priority:this.taskDetails.priority,title:this.taskDetails.title},this.selectUserStroy,this.getColumnData)}newCommitSubmit(){const e={id:"comment-"+this.commentCounter++,comment:this.newComment,profileId:"profile-3"};this.kanbanService.addNewComment(e,this.taskDetails)}static#t=this.\u0275fac=function(a){return new(a||n)};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-task-details"]],viewQuery:function(a,i){1&a&&t.wEZ(i.task,Tt,5),2&a&&t.NyB()},decls:3,vars:1,consts:[["task",""],["picker",""],["position","end","mode","over",1,"kanban-drawer"],[1,"header-title"],[1,"kanban-header-title"],[1,"flex","align-item-center","hei-10"],["mat-icon-button","",3,"click"],[1,"ti","ti-trash","f-20","text-warn-500"],[1,"ti","ti-x","f-20"],[3,"customStyle"],[1,"p-20"],[3,"ngSubmit"],["for","title",1,"f-w-500"],["appearance","outline",1,"w-100","m-t-5"],["matInput","","name","title","type","text",3,"ngModelChange","ngModel"],["for","assign",1,"f-w-500"],["name","assign",3,"ngModelChange","ngModel"],[3,"value"],["for","priority",1,"f-w-500"],["name","priority",1,"block",3,"ngModelChange","ngModel"],["color","primary","value","low",3,"checked"],["color","warn","value","medium",3,"checked"],["value","high",3,"checked"],["for","phone",1,"f-w-500"],["matInput","","name","date",3,"ngModelChange","matDatepicker","ngModel"],["matIconSuffix","",3,"for"],["for","description",1,"f-w-500"],["matInput","","name","description","rows","3",3,"ngModelChange","ngModel"],["for","story",1,"f-w-500"],["name","story",3,"ngModelChange","ngModel"],["for","state",1,"f-w-500"],["name","state",3,"ngModelChange","ngModel"],[1,"flex","align-item-center","m-b-10"],[1,"presentation"],["type","file","id","flup",1,"d-none",3,"change"],["for","flup",1,"inner-attachments"],[1,"ti","ti-camera","f-24"],[1,"col-12"],[1,"grid"],["mat-flat-button","","type","submit","color","primary",1,"m-b-30",3,"click"],["padding","10",3,"showHeader"],[3,"submit"],["appearance","outline",1,"w-100","comment-section"],["matInput","","placeholder","Add Comment Here","name","inputField",3,"ngModelChange","ngModel"],[1,"flex","align-item-center","justify-content-between"],[1,"flex","align-item-center"],[1,"avatar","avatar-s"],[1,"ti","ti-camera","f-20","text-primary-500"],[1,"ti","ti-paperclip","f-20","text-primary-500"],[1,"ti","ti-brand-android","f-20","text-primary-500"],["mat-flat-button","","color","primary","type","submit"],["alt","images",1,"img-fuild","m-r-10","border-50","wid-35",3,"src"],[1,"inner-attachments"],[3,"click"],[1,"ti","ti-x","close-file"],["alt","Uploaded Image",1,"img-fluid",3,"src"],[1,"ti","ti-file-minus","f-24"],["padding","10","cardClass","bg-accent-200",3,"showHeader"],[1,"flex-grow-1","m-r-15"],[1,"flex-shrink-0"],["alt","avatar",1,"wid-30","img-user","border-50",3,"src"],[1,"flex-grow-1","m-l-10"],[1,"mat-body","f-w-600"],[1,"block-inline","m-r-10"],[1,"fas","fa-circle","f-8","m-r-10"]],template:function(a,i){1&a&&(t.j41(0,"mat-drawer",2,0),t.nVh(2,Nt,83,19),t.k0s()),2&a&&(t.R7$(2),t.vxM(i.taskDetails?2:-1))},dependencies:[k.MD,_.G,I.qe,D.$z,w.M,R.q,v.fg,f.j,f.g,j.VT,j._g,B.g,E.M,g.Vh,g.bZ,g.bU,d.qT,d.me,d.BC,d.cb,d.vS,d.cV,$.i,M.o],styles:[".mat-drawer.kanban-drawer{z-index:1025;width:450px;position:fixed}@media (max-width: 576px){  .mat-drawer.kanban-drawer{width:320px}}  .mat-drawer.kanban-drawer .header-title{padding:25px 0 25px 25px}  .able-pro-rtl   .mat-drawer.kanban-drawer .header-title{padding:25px 25px 25px 0}  .mat-drawer.kanban-drawer .header-title .kanban-header-title{display:flex;margin-left:-4px;align-items:center;justify-content:space-between}  .mat-drawer.kanban-drawer .header-title h4{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;font-size:1.25rem;font-weight:600;width:calc(100% - 34px);margin:0}  .mat-drawer.kanban-drawer .presentation{outline:none;border-radius:8px;background-color:var(--accent-50);border:1px dashed rgb(91,107,121);padding:0;margin:8px;width:64px;height:64px}  .mat-drawer.kanban-drawer .presentation .d-none{display:none}  .dark   .mat-drawer.kanban-drawer .presentation{background-color:var(--accent-300)!important}  .mat-drawer.kanban-drawer .presentation .inner-attachments{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;cursor:pointer;position:relative}  .mat-drawer.kanban-drawer .presentation .inner-attachments .close-file{border-radius:50%;position:absolute;top:3px;right:3px;font-size:8px;background-color:var(--warn-500);color:#fff}  .mat-drawer.kanban-drawer .avatar-s:hover{background:var(--primary-50)}"]})}return n})();const Kt=["story"],Ut=()=>({height:"calc(100vh - 88px)",position:"relative"});function Ht(n,l){if(1&n&&(t.j41(0,"mat-option",18)(1,"div",41),t.nrm(2,"img",47),t.EFF(3),t.k0s()()),2&n){const e=l.$implicit;t.Y8G("value",e.id),t.R7$(2),t.Y8G("src",t.VkB("assets/images/user/",e.avatar),t.B4B),t.R7$(),t.SpI(" ",e.name," ")}}function Yt(n,l){if(1&n&&(t.j41(0,"mat-option",18),t.EFF(1),t.k0s()),2&n){const e=l.$implicit;t.Y8G("value",e),t.R7$(),t.SpI(" ",e.title," ")}}function At(n,l){if(1&n&&(t.j41(0,"app-card",36)(1,"div",48)(2,"div",49)(3,"div",41)(4,"div",50),t.nrm(5,"img",51),t.k0s(),t.j41(6,"div",52)(7,"div",53),t.EFF(8),t.k0s()()()(),t.j41(9,"div",50)(10,"div",54)(11,"div",41),t.nrm(12,"i",55),t.EFF(13),t.k0s()()()(),t.j41(14,"p"),t.EFF(15),t.k0s()()),2&n){const e=l.$implicit;t.Y8G("showHeader",!1),t.R7$(5),t.Y8G("src",t.VkB("assets/images/user/",e.profile.avatar),t.B4B),t.R7$(3),t.JRh(e.profile.name),t.R7$(5),t.SpI(" ",e.profile.time," "),t.R7$(2),t.JRh(e.comment.comment)}}function zt(n,l){if(1&n){const e=t.RV6();t.j41(0,"div",3)(1,"div",4)(2,"h4"),t.EFF(3),t.k0s(),t.j41(4,"div",5)(5,"button",6),t.nrm(6,"i",7),t.k0s(),t.j41(7,"button",8),t.bIt("click",function(){s.eBV(e);const i=t.XpG();return s.Njj(i.closeEditDetails())}),t.nrm(8,"i",9),t.k0s()()()(),t.nrm(9,"mat-divider"),t.j41(10,"app-scrollbar",10)(11,"div",11)(12,"form",12),t.bIt("submit",function(){s.eBV(e);const i=t.XpG();return s.Njj(i.storyForms())}),t.j41(13,"label",13),t.EFF(14,"Title"),t.k0s(),t.j41(15,"mat-form-field",14)(16,"input",15),t.mxI("ngModelChange",function(i){s.eBV(e);const o=t.XpG();return t.DH7(o.storyDetails.title,i)||(o.storyDetails.title=i),s.Njj(i)}),t.k0s()(),t.j41(17,"label",16),t.EFF(18,"Assign To"),t.k0s(),t.j41(19,"mat-form-field",14)(20,"mat-select",17),t.mxI("ngModelChange",function(i){s.eBV(e);const o=t.XpG();return t.DH7(o.storyDetails.assign,i)||(o.storyDetails.assign=i),s.Njj(i)}),t.Z7z(21,Ht,4,4,"mat-option",18,t.fX1),t.k0s()(),t.j41(23,"label",19),t.EFF(24,"Prioritize"),t.k0s(),t.j41(25,"mat-radio-group",20),t.mxI("ngModelChange",function(i){s.eBV(e);const o=t.XpG();return t.DH7(o.storyDetails.priority,i)||(o.storyDetails.priority=i),s.Njj(i)}),t.j41(26,"mat-radio-button",21),t.EFF(27,"Low"),t.k0s(),t.j41(28,"mat-radio-button",22),t.EFF(29,"Medium"),t.k0s(),t.j41(30,"mat-radio-button",23),t.EFF(31,"High"),t.k0s()(),t.j41(32,"label",24),t.EFF(33,"Due Date"),t.k0s(),t.j41(34,"mat-form-field",14)(35,"input",25),t.mxI("ngModelChange",function(i){s.eBV(e);const o=t.XpG();return t.DH7(o.storyDate,i)||(o.storyDate=i),s.Njj(i)}),t.k0s(),t.nrm(36,"mat-datepicker-toggle",26)(37,"mat-datepicker",null,1),t.k0s(),t.j41(39,"label",27),t.EFF(40,"Acceptance"),t.k0s(),t.j41(41,"mat-form-field",14)(42,"textarea",28),t.mxI("ngModelChange",function(i){s.eBV(e);const o=t.XpG();return t.DH7(o.storyDetails.acceptance,i)||(o.storyDetails.acceptance=i),s.Njj(i)}),t.k0s()(),t.j41(43,"label",29),t.EFF(44,"Description"),t.k0s(),t.j41(45,"mat-form-field",14)(46,"textarea",30),t.mxI("ngModelChange",function(i){s.eBV(e);const o=t.XpG();return t.DH7(o.storyDetails.description,i)||(o.storyDetails.description=i),s.Njj(i)}),t.k0s()(),t.j41(47,"label",31),t.EFF(48,"State"),t.k0s(),t.j41(49,"mat-form-field",14)(50,"mat-select",32),t.mxI("ngModelChange",function(i){s.eBV(e);const o=t.XpG();return t.DH7(o.getColumnData,i)||(o.getColumnData=i),s.Njj(i)}),t.Z7z(51,Yt,2,2,"mat-option",18,t.fX1),t.k0s()(),t.j41(53,"div",33)(54,"div",34)(55,"button",35),t.bIt("click",function(){s.eBV(e);const i=t.XpG();return s.Njj(i.closeEditDetails())}),t.EFF(56,"Save"),t.k0s()()()(),t.Z7z(57,At,16,6,"app-card",36,t.fX1),t.j41(59,"app-card",37)(60,"mat-form-field",38),t.nrm(61,"input",39),t.k0s(),t.j41(62,"div",40)(63,"div",41)(64,"div",42),t.nrm(65,"i",43),t.k0s(),t.j41(66,"div",42),t.nrm(67,"i",44),t.k0s(),t.j41(68,"div",42),t.nrm(69,"i",45),t.k0s()(),t.j41(70,"div")(71,"button",46),t.EFF(72,"Comment"),t.k0s()()()()()()}if(2&n){const e=t.sdS(38),a=t.XpG();t.R7$(3),t.JRh(a.storyDetails.title),t.R7$(7),t.Y8G("customStyle",t.lJ4(15,Ut)),t.R7$(6),t.R50("ngModel",a.storyDetails.title),t.R7$(4),t.R50("ngModel",a.storyDetails.assign),t.R7$(),t.Dyx(a.assignProfile),t.R7$(4),t.R50("ngModel",a.storyDetails.priority),t.R7$(),t.Y8G("checked","low"===a.storyDetails.priority),t.R7$(2),t.Y8G("checked","medium"===a.storyDetails.priority),t.R7$(2),t.Y8G("checked","high"===a.storyDetails.priority),t.R7$(5),t.Y8G("matDatepicker",e),t.R50("ngModel",a.storyDate),t.R7$(),t.Y8G("for",e),t.R7$(6),t.R50("ngModel",a.storyDetails.acceptance),t.R7$(4),t.R50("ngModel",a.storyDetails.description),t.R7$(4),t.R50("ngModel",a.getColumnData),t.R7$(),t.Dyx(a.columnsDetails),t.R7$(6),t.Dyx(a.commentList),t.R7$(2),t.Y8G("showHeader",!1)}}let Lt=(()=>{class n{constructor(){this.layoutService=(0,s.WQX)(F),this.kanbanService=(0,s.WQX)(x),this.story=(0,S.ebz)("story"),this.selectedOption="1",this.selectedStoryFiles=[]}ngOnInit(){this.layoutService.storySlider.subscribe(()=>{this.story().toggle()}),this.kanbanService.editStory.subscribe(e=>{if(this.columnsDetails=this.kanbanService.columnData,this.userComment=this.kanbanService.comment,this.assignProfile=this.kanbanService.profile,this.storyDetails=this.kanbanService.userStories.find(a=>a.id===e.toString()),this.storyDate=new Date(this.storyDetails.dueDate),this.selectedProfile=this.assignProfile.find(a=>a.id==this.storyDetails.assign),this.getColumnData=this.columnsDetails.filter(a=>a.id===this.storyDetails.columnId)[0],this.storyDetails?.commentIds){const a=[...this.storyDetails.commentIds].reverse().map(i=>{const o=this.userComment.filter(m=>m.id===i)[0],r=this.assignProfile.filter(m=>m.id===o.profileId)[0];return{comment:o,profile:r}});this.commentList=a}})}closeEditDetails(){this.layoutService.toggleStory()}storyForms(){this.kanbanService.editUserStory({acceptance:this.storyDetails.acceptance,assign:this.storyDetails.assign,columnId:this.storyDetails.columnId,commentIds:this.storyDetails.commentIds,description:this.storyDetails.description,dueDate:this.storyDate,id:this.storyDetails.id,itemIds:this.storyDetails.itemIds,title:this.storyDetails.title,priority:this.storyDetails.priority},this.getColumnData)}static#t=this.\u0275fac=function(a){return new(a||n)};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-user-story-details"]],viewQuery:function(a,i){1&a&&t.wEZ(i.story,Kt,5),2&a&&t.NyB()},decls:3,vars:1,consts:[["story",""],["picker",""],["position","end","mode","over",1,"kanban-drawer"],[1,"header-title"],[1,"kanban-header-title"],[1,"flex","align-item-center","hei-10"],["mat-icon-button",""],[1,"ti","ti-trash","f-20","text-warn-500"],["mat-icon-button","",3,"click"],[1,"ti","ti-x","f-20"],[3,"customStyle"],[1,"p-20"],[3,"submit"],["for","Title",1,"f-w-500"],["appearance","outline",1,"w-100","m-t-5"],["matInput","","type","text","name","title",3,"ngModelChange","ngModel"],["for","Assign",1,"f-w-500"],["name","assign",3,"ngModelChange","ngModel"],[3,"value"],["for","Prioritize",1,"f-w-500"],["name","priority",1,"block",3,"ngModelChange","ngModel"],["color","primary","value","low",3,"checked"],["color","warn","value","medium",3,"checked"],["value","high",3,"checked"],["for","date",1,"f-w-500"],["matInput","","name","date",3,"ngModelChange","matDatepicker","ngModel"],["matIconSuffix","",3,"for"],["for","acceptance",1,"f-w-500"],["matInput","","rows","3","name","acceptance",3,"ngModelChange","ngModel"],["for","description",1,"f-w-500"],["matInput","","name","description","rows","3",3,"ngModelChange","ngModel"],["for","state",1,"f-w-500"],["name","state",3,"ngModelChange","ngModel"],[1,"col-12"],[1,"grid"],["mat-flat-button","","color","primary",1,"m-b-30",3,"click"],["padding","10","cardClass","bg-accent-200",3,"showHeader"],["padding","10",3,"showHeader"],["appearance","outline",1,"w-100","comment-section"],["matInput","","placeholder","Add Comment Here"],[1,"flex","align-item-center","justify-content-between"],[1,"flex","align-item-center"],[1,"avatar","avatar-s"],[1,"ti","ti-camera","f-20","text-primary-500"],[1,"ti","ti-paperclip","f-20","text-primary-500"],[1,"ti","ti-brand-android","f-20","text-primary-500"],["mat-flat-button","","color","primary"],["alt","images",1,"img-fuild","m-r-10","border-50","wid-35",3,"src"],[1,"flex","align-item-center","m-b-10"],[1,"flex-grow-1","m-r-15"],[1,"flex-shrink-0"],["alt","avatar",1,"wid-30","img-user","border-50",3,"src"],[1,"flex-grow-1","m-l-10"],[1,"mat-body","f-w-600"],[1,"block-inline","m-r-10"],[1,"fas","fa-circle","f-8","m-r-10"]],template:function(a,i){1&a&&(t.j41(0,"mat-drawer",2,0),t.nVh(2,zt,73,16),t.k0s()),2&a&&(t.R7$(2),t.vxM(i.storyDetails?2:-1))},dependencies:[k.MD,_.G,I.qe,D.$z,w.M,R.q,v.fg,f.j,f.g,j.VT,j._g,B.g,E.M,g.Vh,g.bZ,g.bU,d.qT,d.me,d.BC,d.cb,d.vS,d.cV,$.i,M.o],encapsulation:2})}return n})();var G=c(96850);const Jt=n=>({open:n});function Wt(n,l){if(1&n){const e=t.RV6();t.j41(0,"div",4)(1,"div",23),t.nrm(2,"input",24),t.j41(3,"div",25)(4,"a",26),t.bIt("click",function(){const i=s.eBV(e).$implicit,o=t.XpG();return s.Njj(o.deleteColumn(i.id))}),t.nrm(5,"i",27),t.k0s()()(),t.j41(6,"div",28),t.nrm(7,"app-kanban-columns",29),t.k0s()()}if(2&n){const e=l.$implicit;t.R7$(2),t.Y8G("value",e.title),t.R7$(5),t.Y8G("title",e.title)}}let Zt=(()=>{class n{constructor(){this.kanbanService=(0,s.WQX)(x),this.layoutService=(0,s.WQX)(F)}ngOnInit(){this.kanbanService.getColumns(),this.kanbanService.columns.subscribe(e=>{this.columns=e}),this.kanbanService.getItems(),this.kanbanService.items.subscribe(e=>{this.items=e}),this.kanbanService.getComments(),this.kanbanService.comments.subscribe(e=>{this.userComment=e}),this.kanbanService.getProfiles(),this.kanbanService.profiles.subscribe(e=>{this.Profile=e}),this.kanbanService.getUserStory(),this.kanbanService.userStory.subscribe(e=>{this.userStory=e}),this.kanbanService.editTask.subscribe(()=>{this.layoutService.storySliderClosed||this.layoutService.toggleStory(),this.layoutService.taskSliderClosed&&this.layoutService.toggleTask()}),this.kanbanService.editStory.subscribe(()=>{this.layoutService.taskSliderClosed||this.layoutService.toggleTask(),this.layoutService.storySliderClosed&&this.layoutService.toggleStory()})}toggleColumn(){this.columnAdd=!this.columnAdd}deleteColumn(e){this.kanbanService.deleteColumn(e)}columnSubmit(){this.columnAdd=!1,this.kanbanService.addNewColumn({id:"",title:this.newColumns,itemIds:[]})}static#t=this.\u0275fac=function(a){return new(a||n)};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-kanban"]],decls:31,vars:4,consts:[["mat-stretch-tabs","false","mat-align-tabs","start"],["label","View As Board"],[1,"m-t-25"],["cdkDropListGroup","",1,"kanban-dashboard"],[1,"kanban-column"],[1,"column-add",3,"ngClass"],[1,"grid"],["mat-stroked-button","",1,"new-column-add",3,"click"],[1,"kanban-card"],[3,"submit"],[1,"input-title"],["appearance","outline",1,"w-100","comment-section"],["matInput","","placeholder","Add Columns","name","column",3,"ngModelChange","ngModel"],[1,"flex","align-item-center","justify-content-between"],[1,"flex","align-item-center"],[1,"pc-icon","m-r-10"],[0,"xlink","href","assets/fonts/custom-icon.svg#custom-profile-2user-outline"],[1,"pc-icon"],[0,"xlink","href","assets/fonts/custom-icon.svg#custom-calculator"],[1,"pc-icon","m-r-10",3,"click"],[1,"ti","ti-x","f-18","text-warn-500"],["mat-flat-button","","color","primary","type","submit",1,"submit-details"],["label","Backlogs"],[1,"kanban-header"],["type","text",1,"form-control","flex-grow-1",3,"value"],[1,"m-l-10"],["href","javascript:",1,"avatar","avatar-s","kanban-delete",3,"click"],[1,"ti","ti-trash","f-20"],[1,"kanban-body"],[3,"title"]],template:function(a,i){1&a&&(t.j41(0,"mat-tab-group",0)(1,"mat-tab",1)(2,"div",2)(3,"div",3),t.Z7z(4,Wt,8,2,"div",4,t.fX1),t.j41(6,"div",4)(7,"div",5)(8,"div",6)(9,"button",7),t.bIt("click",function(){return i.toggleColumn()}),t.EFF(10,"Add Columns"),t.k0s()(),t.j41(11,"div",8)(12,"form",9),t.bIt("submit",function(){return i.columnSubmit()}),t.j41(13,"div",10)(14,"mat-form-field",11)(15,"input",12),t.mxI("ngModelChange",function(r){return t.DH7(i.newColumns,r)||(i.newColumns=r),r}),t.k0s()(),t.j41(16,"div",13)(17,"div",14),s.qSk(),t.j41(18,"svg",15),t.nrm(19,"use",16),t.k0s(),t.j41(20,"svg",17),t.nrm(21,"use",18),t.k0s()(),s.joV(),t.j41(22,"div",14)(23,"div",19),t.bIt("click",function(){return i.toggleColumn()}),t.nrm(24,"i",20),t.k0s(),t.j41(25,"button",21),t.EFF(26,"Add"),t.k0s()()()()()()()()()()(),t.j41(27,"mat-tab",22),t.nrm(28,"app-kanban-backlogs"),t.k0s()(),t.nrm(29,"app-task-details")(30,"app-user-story-details")),2&a&&(t.R7$(4),t.Dyx(i.columns),t.R7$(3),t.Y8G("ngClass",t.eq3(2,Jt,i.columnAdd)),t.R7$(8),t.R50("ngModel",i.newColumns))},dependencies:[k.MD,k.YU,_.G,D.$z,v.fg,f.j,G.mq,G.T8,C.RK,d.qT,d.me,d.BC,d.cb,d.vS,d.cV,Xt,K,Ft,Lt],styles:[".kanban-dashboard[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;overflow-x:auto;overflow-y:hidden;align-items:flex-start}.kanban-dashboard[_ngcontent-%COMP%]   .kanban-card[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;border-radius:8px;padding:16px;background:var(--accent-50)}  .dark .kanban-dashboard .kanban-card{background:var(--accent-100)!important}.kanban-dashboard[_ngcontent-%COMP%]   .column-add[_ngcontent-%COMP%]   .kanban-card[_ngcontent-%COMP%]{display:none!important}.kanban-dashboard[_ngcontent-%COMP%]   .column-add.open[_ngcontent-%COMP%]   .mat-mdc-outlined-button.new-column-add[_ngcontent-%COMP%]{display:none}.kanban-dashboard[_ngcontent-%COMP%]   .column-add.open[_ngcontent-%COMP%]   .kanban-card[_ngcontent-%COMP%]{display:block!important}.kanban-dashboard[_ngcontent-%COMP%]   .mat-mdc-outlined-button.new-column-add[_ngcontent-%COMP%]{border-style:dashed!important;color:var(--accent-600)!important;border-color:var(--accent-600)!important;background-color:var(--accent-100)!important}  .mat-mdc-form-field.comment-section .mdc-notched-outline__leading,   .mat-mdc-form-field.comment-section .mdc-notched-outline__notch,   .mat-mdc-form-field.comment-section .mdc-notched-outline__trailing{border:none!important;border-top:none!important;border-bottom:none!important}  .mat-mdc-form-field.comment-section .mat-mdc-text-field-wrapper{padding-left:0;padding-right:0}  .mat-mdc-form-field.comment-section .mat-mdc-text-field-wrapper.mdc-text-field--outlined .mat-mdc-form-field-infix{padding:0}  .mat-mdc-form-field.comment-section .mat-mdc-form-field-infix{min-height:30px}"]})}return n})()}}]);