"use strict";(self.webpackChunkable_pro=self.webpackChunkable_pro||[]).push([[3422],{3422:(I,C,r)=>{r.r(C),r.d(C,{ReportListComponent:()=>Et,ReportWhatsAppDialogComponent:()=>L});var u=r(8728),b=r(7705),p=r(2200),R=r(3243),f=r(8132),d=r(9417),h=r(645),i=r(8834),o=r(357),_=r(6751),g=r(3746),O=r(6053),P=r(2487),M=r(2986),F=r(6848),w=r(7509),$=r(5366),D=r(8937),y=r(1557),T=r(6001),N=r(2754),W=r(6109),x=r(8018),j=r(1413),k=r(152),B=r(3294),E=r(6977),G=r(7753),t=r(3664),U=r(9010),K=r(1074),v=r(4507),Q=r(7575),V=r(5747),H=r(3791),Y=r(5079),X=r(6735),J=r(8863);const z=["loadMoreTrigger"],Z=a=>["/online-course/report/details",a],q=a=>({report:a});function tt(a,l){}function et(a,l){if(1&a){const e=t.RV6();t.j41(0,"button",38),t.nI1(1,"translate"),t.bIt("click",function(){u.eBV(e);const s=t.XpG();return u.Njj(s.clearSearch())}),t.j41(2,"mat-icon"),t.EFF(3,"close"),t.k0s()()}2&a&&t.BMQ("aria-label",t.bMT(1,1,"\u0627\u0632\u0627\u0644\u0647 \u0627\u0644\u0628\u062d\u062b"))}function nt(a,l){if(1&a&&(t.j41(0,"mat-option",15),t.EFF(1),t.k0s()),2&a){const e=l.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function at(a,l){if(1&a&&(t.j41(0,"mat-option",15),t.EFF(1),t.k0s()),2&a){const e=l.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function it(a,l){if(1&a&&(t.j41(0,"mat-option",15),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a){const e=l.$implicit;t.Y8G("value",e.value),t.R7$(),t.SpI(" ",t.bMT(2,2,e.translationKey)," ")}}function st(a,l){1&a&&t.nrm(0,"mat-progress-bar",39)}function rt(a,l){1&a&&(t.j41(0,"th",40),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.JRh(t.bMT(2,1,"\u0637\u0627\u0644\u0628")))}function ot(a,l){if(1&a&&(t.j41(0,"td",41),t.EFF(1),t.k0s()),2&a){const e=l.$implicit,n=t.XpG();t.R7$(),t.SpI(" ",n.getStudentDisplay(e)," ")}}function lt(a,l){1&a&&(t.j41(0,"th",42),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.JRh(t.bMT(2,1,"\u062d\u0644\u0642\u0629")))}function ut(a,l){if(1&a&&(t.j41(0,"td",43),t.EFF(1),t.k0s()),2&a){const e=l.$implicit,n=t.XpG();t.R7$(),t.SpI(" ",n.getCircleDisplay(e)," ")}}function ct(a,l){1&a&&(t.j41(0,"th",42),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.JRh(t.bMT(2,1,"\u0627\u0644\u062d\u0627\u0644\u0629")))}function dt(a,l){if(1&a&&(t.j41(0,"td",43)(1,"span"),t.EFF(2),t.k0s()()),2&a){const e=l.$implicit,n=t.XpG();t.R7$(),t.HbH(t.VkB("status-pill ",n.getStatusConfig(e.attendStatueId).class)),t.R7$(),t.JRh(n.getStatusConfig(e.attendStatueId).label)}}function ht(a,l){1&a&&(t.j41(0,"th",42),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.JRh(t.bMT(2,1,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e")))}function pt(a,l){if(1&a&&(t.j41(0,"td",43),t.EFF(1),t.k0s()),2&a){const e=l.$implicit,n=t.XpG();t.R7$(),t.SpI(" ",n.formatDate(e.creationTime)," ")}}function mt(a,l){1&a&&(t.j41(0,"th",42),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.JRh(t.bMT(2,1,"Minutes")))}function _t(a,l){if(1&a&&(t.j41(0,"td",43),t.EFF(1),t.k0s()),2&a){const e=l.$implicit;t.R7$(),t.SpI(" ",e.minutes??"\u2014"," ")}}function ft(a,l){1&a&&(t.j41(0,"th",44),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.JRh(t.bMT(2,1,"\u0627\u0644\u0627\u062c\u0631\u0627\u0621\u0627\u062a")))}function gt(a,l){if(1&a){const e=t.RV6();t.j41(0,"li",47),t.nI1(1,"translate"),t.j41(2,"a",51),t.bIt("click",function(){u.eBV(e);const s=t.XpG().$implicit,c=t.XpG();return u.Njj(c.onEdit(s))}),t.nrm(3,"i",53),t.k0s()()}2&a&&t.Y8G("matTooltip",t.bMT(1,1,"\u062a\u0639\u062f\u064a\u0644"))}function Ct(a,l){if(1&a){const e=t.RV6();t.j41(0,"td",43)(1,"div",45)(2,"ul",46)(3,"li",47),t.nI1(4,"translate"),t.j41(5,"a",48),t.nrm(6,"i",49),t.k0s()(),t.DNE(7,gt,4,3,"li",50),t.j41(8,"li",47),t.nI1(9,"translate"),t.j41(10,"a",51),t.bIt("click",function(){const s=u.eBV(e).$implicit,c=t.XpG();return u.Njj(c.onSendWhatsApp(s))}),t.nrm(11,"i",52),t.k0s()()()()()}if(2&a){const e=l.$implicit,n=t.XpG();t.R7$(3),t.Y8G("matTooltip",t.bMT(4,5,"\u0639\u0631\u0636")),t.R7$(2),t.Y8G("routerLink",t.eq3(9,Z,e.id))("state",t.eq3(11,q,e)),t.R7$(2),t.Y8G("ngIf",n.canManageReports),t.R7$(),t.Y8G("matTooltip",t.bMT(9,7,"\u0648\u0627\u062a\u0633\u0627\u0628"))}}function bt(a,l){1&a&&t.nrm(0,"tr",54)}function Rt(a,l){1&a&&t.nrm(0,"tr",55)}function Mt(a,l){1&a&&(t.j41(0,"tr",56)(1,"td",57),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&a&&(t.R7$(2),t.JRh(t.bMT(3,1,"No Reports Found")))}let Et=(()=>{class a{set loadMoreTrigger(e){this.loadMoreElement=e,this.setupIntersectionObserver()}constructor(){this.reportService=(0,u.WQX)(P.o),this.circleService=(0,u.WQX)(M.K),this.lookupService=(0,u.WQX)(F.s),this.fb=(0,u.WQX)(d.ok),this.toast=(0,u.WQX)(w.f),this.auth=(0,u.WQX)($.k),this.translate=(0,u.WQX)(x.c$),this.dialog=(0,u.WQX)(o.h),this.cdr=(0,u.WQX)(b.gRc),this.router=(0,u.WQX)(R.Ix),this.filterForm=this.fb.group({searchTerm:[""],circleId:[null],studentId:[null],residentId:[null],residentGroup:["all"]}),this.displayedColumns=["student","circle","status","creationTime","minutes","actions"],this.dataSource=new h.I6,this.totalCount=0,this.pageSize=10,this.pageIndex=0,this.filter={skipCount:0,maxResultCount:10},this.circles=[],this.students=[],this.allStudents=[],this.nationalities=[],this.residencyGroupOptions=N.w,this.isLoading=!1,this.isLoadingStudents=!1,this.isLoadingMore=!1,this.destroy$=new j.B,this.selectedResidencyGroup="all",this.role=this.auth.getRole(),this.canManageReports=this.role!==D.m.Student;const e=this.auth.currentUserValue;if(this.role===D.m.Teacher&&e?.user?.id){const n=Number(e.user.id);this.teacherId=Number.isNaN(n)?void 0:n}}ngOnInit(){this.loadCircles(),this.loadNationalities(),this.loadAllStudents(),this.loadReports(),this.filterForm.get("searchTerm")?.valueChanges.pipe((0,k.B)(300),(0,B.F)(),(0,E.Q)(this.destroy$)).subscribe(()=>this.onSearch()),this.filterForm.get("circleId")?.valueChanges.pipe((0,E.Q)(this.destroy$)).subscribe(e=>this.onCircleChange(e)),this.filterForm.get("studentId")?.valueChanges.pipe((0,E.Q)(this.destroy$)).subscribe(()=>this.applyFilters()),this.filterForm.get("residentId")?.valueChanges.pipe((0,E.Q)(this.destroy$)).subscribe(e=>this.onResidencyChange(e)),this.filterForm.get("residentGroup")?.valueChanges.pipe((0,E.Q)(this.destroy$)).subscribe(e=>this.onResidencyGroupChange(e))}ngOnDestroy(){this.intersectionObserver?.disconnect(),this.destroy$.next(),this.destroy$.complete()}loadCircles(){this.circleService.getAll({skipCount:0,maxResultCount:100}).subscribe(e=>{this.circles=e.isSuccess&&e.data?.items?e.data.items:[]})}loadNationalities(){this.lookupService.getAllNationalities().subscribe(e=>{this.nationalities=e.isSuccess&&Array.isArray(e.data)?e.data:[]})}loadAllStudents(e){this.isLoadingStudents=!0,this.lookupService.getUsersForSelects({skipCount:0,maxResultCount:100,searchTerm:e?.trim()||void 0,residentGroup:this.selectedResidencyGroup},Number(D.m.Student),0,0,0,this.selectedResidentId??void 0).subscribe({next:n=>{if(n.isSuccess&&n.data?.items){const s=n.data.items.filter(c=>this.matchesSelectedResidentId(c.residentId)&&this.matchesSelectedResidency(c.residentId)).map(c=>this.mapLookupToStudentOption(c));this.allStudents=s,this.selectedCircleId||(this.students=[...s])}else this.allStudents=[],this.selectedCircleId||(this.students=[]);this.isLoadingStudents=!1},error:()=>{this.allStudents=[],this.selectedCircleId||(this.students=[]),this.isLoadingStudents=!1}})}mapLookupToStudentOption(e){return{id:e.id,name:e.fullName||e.email||`Student #${e.id}`}}onCircleChange(e){this.selectedCircleId=e??void 0,this.filterForm.patchValue({studentId:null},{emitEvent:!1}),e?(this.isLoadingStudents=!0,this.circleService.get(e).subscribe({next:n=>{if(n.isSuccess&&n.data?.students){const s=n.data.students.filter(m=>this.matchesSelectedResidentId(m.student?.residentId)&&this.matchesSelectedResidency(m.student?.residentId??null)).map(m=>this.mapCircleStudentToOption(m)).filter(m=>!!m),c=new Map(s.map(m=>[m.id,m]));this.students=Array.from(c.values())}else this.students=[];this.isLoadingStudents=!1,this.applyFilters()},error:()=>{this.students=[],this.isLoadingStudents=!1,this.applyFilters()}})):(this.students=[...this.allStudents],this.applyFilters())}mapCircleStudentToOption(e){const n=e.student,s=n?.id??e.studentId??e.id;if(null==s)return;const c=n?.fullName||e.fullName||("number"==typeof s?`Student #${s}`:`Student #${Number(s)}`);return{id:Number(s),name:c}}applyFilters(){const{circleId:e,studentId:n}=this.filterForm.value;this.selectedCircleId=e??void 0,this.selectedStudentId=n??void 0,this.filter.residentGroup=this.selectedResidencyGroup,this.filter.skipCount=0,this.pageIndex=0,this.loadReports()}onResidencyChange(e){this.selectedResidentId=e&&e>0?e:null,this.filterForm.patchValue({studentId:null},{emitEvent:!1}),this.students=[],this.loadAllStudents();const n=this.selectedCircleId??null;null!==n?this.onCircleChange(n):this.applyFilters()}onResidencyGroupChange(e){this.selectedResidencyGroup=e??"all",this.filterForm.patchValue({studentId:null},{emitEvent:!1}),this.students=[],this.loadAllStudents();const n=this.selectedCircleId??null;null!==n?this.onCircleChange(n):this.applyFilters()}matchesSelectedResidentId(e){return!this.selectedResidentId||this.selectedResidentId<=0||e===this.selectedResidentId}matchesSelectedResidency(e){if(!this.selectedResidencyGroup||"all"===this.selectedResidencyGroup)return!0;const n=this.getNationalityById(e);return(0,W.rJ)(n??null,this.selectedResidencyGroup)}getNationalityById(e){if(null!=e)return this.nationalities.find(n=>n.id===Number(e))}onSearch(){const e=(this.filterForm.value.searchTerm||"").toString().trim();this.filter.searchTerm=e.length?e:void 0,this.pageIndex=0,this.loadReports()}clearSearch(){this.filterForm.patchValue({searchTerm:""},{emitEvent:!1}),this.onSearch()}loadReports(e=!1){this.isLoading=!e,this.isLoadingMore=e,this.filter.residentGroup=this.selectedResidencyGroup,this.filter.skipCount=this.pageIndex*this.pageSize,this.filter.maxResultCount=this.pageSize,this.reportService.getAll(this.filter,{circleId:this.selectedCircleId,studentId:this.selectedStudentId,teacherId:this.teacherId,residentId:this.selectedResidentId??void 0,residentGroup:this.selectedResidencyGroup}).subscribe({next:n=>{n.isSuccess&&n.data?.items?(this.dataSource.data=e?[...this.dataSource.data,...n.data.items]:n.data.items,this.totalCount=Number(n.data.totalCount)||0):(e||(this.dataSource.data=[]),this.totalCount=0),this.isLoading=!1,this.isLoadingMore=!1,this.cdr.detectChanges()},error:()=>{e||(this.dataSource.data=[]),this.totalCount=0,this.isLoading=!1,this.isLoadingMore=!1,this.toast.error("Error loading reports"),this.cdr.detectChanges()}})}setupIntersectionObserver(){this.loadMoreElement&&(this.intersectionObserver?.disconnect(),this.intersectionObserver=new IntersectionObserver(e=>{e.some(n=>n.isIntersecting)&&this.loadNextPage()},{root:null,rootMargin:"0px 0px 20% 0px"}),this.intersectionObserver.observe(this.loadMoreElement.nativeElement))}loadNextPage(){this.isLoading||this.isLoadingMore||this.hasMoreResults()&&(this.pageIndex+=1,this.loadReports(!0))}hasMoreResults(){return this.dataSource.data.length<this.totalCount}getStudentDisplay(e){return e.studentName||e.student||e.studentFullName||("number"==typeof e.studentId?`Student #${e.studentId}`:"")}getCircleDisplay(e){return e.circleName||e.circle||e.circleTitle||("number"==typeof e.circleId?`Circle #${e.circleId}`:"")}getStatusConfig(e){const n={label:this.translate.instant("Attendance.Unknown"),class:"status-pill--muted"};switch(e){case y.E.Attended:return{label:this.translate.instant("Attendance.Attended"),class:"status-pill--success"};case y.E.ExcusedAbsence:return{label:this.translate.instant("Attendance.ExcusedAbsence"),class:"status-pill--warning"};case y.E.UnexcusedAbsence:return{label:this.translate.instant("Attendance.UnexcusedAbsence"),class:"status-pill--danger"};default:return n}}formatDate(e){if(!e)return"\u2014";const n=e instanceof Date?e:new Date(e);return Number.isNaN(n.getTime())?"\u2014":n.toLocaleString()}getTeacherDisplay(e){return e.teacherName||e.teacher||e.teacherFullName||("number"==typeof e.teacherId?`Teacher #${e.teacherId}`:"")}onSendWhatsApp(e){if(!e)return;const n=this.buildWhatsAppPayload(e);this.openWhatsAppDialog(n)}buildWhatsAppPayload(e){const n=this.getStudentDisplay(e)||this.translate.instant("\u0637\u0627\u0644\u0628"),A=`\u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u0637\u0627\u0644\u0628 ${n}\n\u0627\u0644\u062d\u0644\u0642\u0629: ${this.getCircleDisplay(e)||"\u2014"}\n\u0627\u0644\u0645\u0639\u0644\u0645: ${this.getTeacherDisplay(e)||"\u2014"}\n\u0627\u0644\u062d\u0627\u0644\u0629: ${this.getStatusConfig(e.attendStatueId).label}\n\u0627\u0644\u062f\u0642\u0627\u0626\u0642: ${e.minutes??"\u2014"}`,S=Number(e.attendStatueId)===y.E.Attended?this.buildAttendedDetails(e):"";return{studentName:n,message:S?`${A}\n${S}`:A}}buildAttendedDetails(e){const n=[],s=this.getSurahName(e.newId);return s&&n.push(`\u0627\u0644\u0633\u0648\u0631\u0629 \u0627\u0644\u062c\u062f\u064a\u062f\u0629: ${s}`),e.newFrom&&n.push(`\u0627\u0644\u062c\u062f\u064a\u062f \u0645\u0646: ${e.newFrom}`),e.newTo&&n.push(`\u0627\u0644\u062c\u062f\u064a\u062f \u0625\u0644\u0649: ${e.newTo}`),e.newRate&&n.push(`\u062a\u0642\u064a\u064a\u0645 \u0627\u0644\u062c\u062f\u064a\u062f: ${e.newRate}`),e.recentPast&&n.push(`\u0627\u0644\u0645\u0627\u0636\u064a \u0627\u0644\u0642\u0631\u064a\u0628: ${e.recentPast}`),e.recentPastRate&&n.push(`\u062a\u0642\u064a\u064a\u0645 \u0627\u0644\u0645\u0627\u0636\u064a \u0627\u0644\u0642\u0631\u064a\u0628: ${e.recentPastRate}`),e.distantPast&&n.push(`\u0627\u0644\u0645\u0627\u0636\u064a \u0627\u0644\u0628\u0639\u064a\u062f: ${e.distantPast}`),e.distantPastRate&&n.push(`\u062a\u0642\u064a\u064a\u0645 \u0627\u0644\u0645\u0627\u0636\u064a \u0627\u0644\u0628\u0639\u064a\u062f: ${e.distantPastRate}`),e.farthestPast&&n.push(`\u0627\u0644\u0623\u0628\u0639\u062f: ${e.farthestPast}`),e.farthestPastRate&&n.push(`\u062a\u0642\u064a\u064a\u0645 \u0627\u0644\u0623\u0628\u0639\u062f: ${e.farthestPastRate}`),e.theWordsQuranStranger&&n.push(`\u063a\u0631\u064a\u0628 \u0627\u0644\u0642\u0631\u0622\u0646: ${e.theWordsQuranStranger}`),e.intonation&&n.push(`\u0627\u0644\u062a\u062c\u0648\u064a\u062f: ${e.intonation}`),e.other&&n.push(`\u0645\u0644\u0627\u062d\u0638\u0627\u062a: ${e.other}`),n.join("\n")}getSurahName(e){if(!e)return null;const n=Object.keys(T.Y).find(s=>T.Y[s]===Number(e));return n?String(n):null}openWhatsAppDialog(e){this.dialog.open(L,{data:e,width:"420px"}).afterClosed().subscribe(s=>{s&&this.launchWhatsApp(e.message)})}launchWhatsApp(e){const n=e?`https://wa.me/?text=${encodeURIComponent(e)}`:"https://wa.me/";window.open(n,"_blank")}onEdit(e){const n=Number(e?.id);!Number.isFinite(n)||n<=0?this.toast.error("Invalid report identifier"):this.router.navigate(["/online-course/report/edit",n],{state:{report:e}})}static#t=this.\u0275fac=function(n){return new(n||a)};static#e=this.\u0275cmp=t.VBU({type:a,selectors:[["app-report-list"]],viewQuery:function(n,s){if(1&n&&t.GBs(z,5),2&n){let c;t.mGM(c=t.lsd())&&(s.loadMoreTrigger=c.first)}},decls:75,vars:43,consts:[["headerOptionsTemplate",""],["loadMoreTrigger",""],[3,"isLoading"],[1,"row","p-t-25"],[1,"col-12"],["padding","0","cardClass","sm-block",3,"cardTitle"],[1,"p-b-15"],[1,"table-container","table-responsive"],[1,"filter-form",3,"ngSubmit","formGroup"],[1,"row","g-3","p-15"],[1,"col-12","col-md-6","col-xl-3"],["appearance","outline",1,"w-100"],["matInput","","formControlName","searchTerm",3,"keyup.enter","placeholder"],["mat-icon-button","","matSuffix","","type","button",3,"click",4,"ngIf"],["formControlName","circleId",3,"disabled"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["formControlName","studentId",3,"disabled"],["formControlName","residentGroup"],["mode","indeterminate",4,"ngIf"],[1,"table-responsive","report-table-container"],["mat-table","",1,"mat-elevation-z8","report-table",3,"dataSource"],["matColumnDef","student"],["mat-header-cell","","class","p-l-25",4,"matHeaderCellDef"],["mat-cell","","class","p-l-25 text-nowrap",4,"matCellDef"],["matColumnDef","circle"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","text-nowrap",4,"matCellDef"],["matColumnDef","status"],["matColumnDef","creationTime"],["matColumnDef","minutes"],["matColumnDef","actions"],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[1,"app-paginator"],[1,"text-muted"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["mode","indeterminate"],["mat-header-cell","",1,"p-l-25"],["mat-cell","",1,"p-l-25","text-nowrap"],["mat-header-cell",""],["mat-cell","",1,"text-nowrap"],["mat-header-cell","",1,"text-center"],[1,"text-center"],[1,"list-inline","p-l-0"],[1,"list-inline-item","m-r-10",3,"matTooltip"],[1,"avatar","avatar-xs","text-muted",3,"routerLink","state"],[1,"ti","ti-eye","f-18"],["class","list-inline-item m-r-10",3,"matTooltip",4,"ngIf"],["type","button",1,"avatar","avatar-xs","text-muted",3,"click"],[1,"ti","ti-brand-whatsapp","f-18"],[1,"ti","ti-pencil","f-18"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","6",1,"mat-cell"]],template:function(n,s){if(1&n){const c=t.RV6();t.j41(0,"app-loading-overlay",2)(1,"div",3)(2,"div",4)(3,"app-card",5),t.nI1(4,"translate"),t.DNE(5,tt,0,0,"ng-template",null,0,t.C5r),t.j41(7,"div",6)(8,"div",7)(9,"form",8),t.bIt("ngSubmit",function(){return u.eBV(c),u.Njj(s.onSearch())}),t.j41(10,"div",9)(11,"div",10)(12,"mat-form-field",11)(13,"mat-label"),t.EFF(14),t.nI1(15,"translate"),t.k0s(),t.j41(16,"input",12),t.nI1(17,"translate"),t.bIt("keyup.enter",function(){return u.eBV(c),u.Njj(s.onSearch())}),t.k0s(),t.DNE(18,et,4,3,"button",13),t.k0s()(),t.j41(19,"div",10)(20,"mat-form-field",11)(21,"mat-label"),t.EFF(22),t.nI1(23,"translate"),t.k0s(),t.j41(24,"mat-select",14)(25,"mat-option",15),t.EFF(26),t.nI1(27,"translate"),t.k0s(),t.DNE(28,nt,2,2,"mat-option",16),t.k0s()()(),t.j41(29,"div",10)(30,"mat-form-field",11)(31,"mat-label"),t.EFF(32),t.nI1(33,"translate"),t.k0s(),t.j41(34,"mat-select",17)(35,"mat-option",15),t.EFF(36),t.nI1(37,"translate"),t.k0s(),t.DNE(38,at,2,2,"mat-option",16),t.k0s()()(),t.j41(39,"div",10)(40,"mat-form-field",11)(41,"mat-label"),t.EFF(42),t.nI1(43,"translate"),t.k0s(),t.j41(44,"mat-select",18),t.DNE(45,it,3,4,"mat-option",16),t.k0s()()()()(),t.DNE(46,st,1,0,"mat-progress-bar",19),t.j41(47,"div",20)(48,"table",21),t.qex(49,22),t.DNE(50,rt,3,3,"th",23)(51,ot,2,1,"td",24),t.bVm(),t.qex(52,25),t.DNE(53,lt,3,3,"th",26)(54,ut,2,1,"td",27),t.bVm(),t.qex(55,28),t.DNE(56,ct,3,3,"th",26)(57,dt,3,4,"td",27),t.bVm(),t.qex(58,29),t.DNE(59,ht,3,3,"th",26)(60,pt,2,1,"td",27),t.bVm(),t.qex(61,30),t.DNE(62,mt,3,3,"th",26)(63,_t,2,1,"td",27),t.bVm(),t.qex(64,31),t.DNE(65,ft,3,3,"th",32)(66,Ct,12,13,"td",27),t.bVm(),t.DNE(67,bt,1,0,"tr",33)(68,Rt,1,0,"tr",34)(69,Mt,4,3,"tr",35),t.k0s()(),t.j41(70,"div",36,1)(72,"span",37),t.EFF(73),t.nI1(74,"translate"),t.k0s()()()()()()()()}2&n&&(t.Y8G("isLoading",s.isLoading),t.R7$(3),t.Y8G("cardTitle",t.bMT(4,25,"\u062a\u0642\u0627\u0631\u064a\u0631 \u0627\u0644\u062d\u0644\u0642\u0627\u062a")),t.R7$(6),t.Y8G("formGroup",s.filterForm),t.R7$(5),t.JRh(t.bMT(15,27,"\u0628\u062d\u062b")),t.R7$(2),t.Y8G("placeholder",t.bMT(17,29,"\u0628\u062d\u062b")),t.R7$(2),t.Y8G("ngIf",s.filterForm.value.searchTerm),t.R7$(4),t.JRh(t.bMT(23,31,"\u0627\u0644\u062d\u0644\u0642\u0629")),t.R7$(2),t.Y8G("disabled",s.isLoadingStudents),t.R7$(),t.Y8G("value",null),t.R7$(),t.JRh(t.bMT(27,33,"\u0643\u0644 \u0627\u0644\u062d\u0644\u0642\u0627\u062a")),t.R7$(2),t.Y8G("ngForOf",s.circles),t.R7$(4),t.JRh(t.bMT(33,35,"\u0627\u0644\u0637\u0627\u0644\u0628")),t.R7$(2),t.Y8G("disabled",s.isLoadingStudents),t.R7$(),t.Y8G("value",null),t.R7$(),t.JRh(t.bMT(37,37,"\u0643\u0644 \u0627\u0644\u0637\u0644\u0627\u0628")),t.R7$(2),t.Y8G("ngForOf",s.students),t.R7$(4),t.JRh(t.bMT(43,39,"\u0627\u0644\u0627\u0642\u0627\u0645\u0629")),t.R7$(3),t.Y8G("ngForOf",s.residencyGroupOptions),t.R7$(),t.Y8G("ngIf",s.isLoading),t.R7$(2),t.Y8G("dataSource",s.dataSource),t.R7$(19),t.Y8G("matHeaderRowDef",s.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",s.displayedColumns),t.R7$(2),t.AVh("d-none",!s.hasMoreResults()),t.R7$(3),t.SpI(" ",t.bMT(74,41,s.isLoadingMore?"Loading more...":"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644")," "))},dependencies:[p.MD,p.Sq,p.bT,O.G,U.M,K.An,g.fg,v.j,v.M,v.g,Q.HM,V.e,H.g,Y.M,h.Zl,h.tL,h.ji,h.cC,h.YV,h.iL,h.KS,h.$R,h.YZ,h.NB,h.ky,d.qT,d.me,d.BC,d.cb,d.j4,d.JD,X.i,J.m,x.D9,f.iI,f.Wk,G.q,o.l,i.Hl,_.M,g.fS,d.X1],styles:[".filter-form[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.08)}.filter-form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{margin:0}.table-responsive[_ngcontent-%COMP%]{position:relative;overflow-x:auto;-webkit-overflow-scrolling:touch}.mat-progress-bar[_ngcontent-%COMP%]{margin:0 15px}.report-table-container[_ngcontent-%COMP%]{margin-top:5px}.report-table-container[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]{width:100%;border-spacing:0;min-width:920px}.report-table-container[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .report-table-container[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;vertical-align:middle}.report-table-container[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:var(--pc-font-muted);font-weight:700;font-size:13px;letter-spacing:.2px}.report-table-container[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:var(--pc-font-dark)}.report-table-container[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .student-cell[_ngcontent-%COMP%], .report-table-container[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .circle-cell[_ngcontent-%COMP%]{font-weight:700;white-space:nowrap}.report-table-container[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .circle-cell[_ngcontent-%COMP%]{color:var(--pc-font-muted)}.report-table-container[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .date-cell[_ngcontent-%COMP%]{color:var(--pc-font-muted);white-space:nowrap}.report-table-container[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .actions-cell[_ngcontent-%COMP%]{min-width:120px}.report-table-container[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .status-cell[_ngcontent-%COMP%]{white-space:nowrap}.report-table-container[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .status-pill[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:6px 12px;border-radius:999px;font-weight:700;font-size:12px;line-height:1.2;text-transform:none}.report-table-container[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .status-pill--success[_ngcontent-%COMP%]{background:var(--success-50);color:var(--success-600)}.report-table-container[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .status-pill--warning[_ngcontent-%COMP%]{background:var(--warning-50);color:var(--warning-700)}.report-table-container[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .status-pill--danger[_ngcontent-%COMP%]{background:var(--danger-50);color:var(--danger-600)}.report-table-container[_ngcontent-%COMP%]   .report-table[_ngcontent-%COMP%]   .status-pill--muted[_ngcontent-%COMP%]{background:var(--accent-100);color:var(--pc-font-muted)}"]})}return a})(),L=(()=>{class a{constructor(){this.dialogRef=(0,u.WQX)(o.k),this.data=(0,u.WQX)(o.e)}onCancel(){this.dialogRef.close(null)}onSend(){this.dialogRef.close(!0)}static#t=this.\u0275fac=function(n){return new(n||a)};static#e=this.\u0275cmp=t.VBU({type:a,selectors:[["app-report-whatsapp-dialog"]],decls:13,vars:1,consts:[["mat-dialog-title",""],["align","end"],["mat-button","","type","button",3,"click"],["mat-flat-button","","color","primary","type","button",3,"click"]],template:function(n,s){1&n&&(t.j41(0,"h2",0),t.EFF(1,"\u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u062a\u0642\u0631\u064a\u0631 \u0639\u0628\u0631 \u0648\u0627\u062a\u0633\u0627\u0628"),t.k0s(),t.j41(2,"mat-dialog-content")(3,"p"),t.EFF(4," \u0633\u064a\u062a\u0645 \u0641\u062a\u062d \u0648\u0627\u062a\u0633\u0627\u0628 \u0644\u0627\u062e\u062a\u064a\u0627\u0631 \u062c\u0647\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0627\u0644\u062e\u0627\u0635\u0629 \u0628\u0627\u0644\u0637\u0627\u0644\u0628 "),t.j41(5,"strong"),t.EFF(6),t.k0s(),t.EFF(7,". "),t.k0s()(),t.j41(8,"mat-dialog-actions",1)(9,"button",2),t.bIt("click",function(){return s.onCancel()}),t.EFF(10,"\u0625\u0644\u063a\u0627\u0621"),t.k0s(),t.j41(11,"button",3),t.bIt("click",function(){return s.onSend()}),t.EFF(12," \u0625\u0631\u0633\u0627\u0644 \u0648\u0627\u062a\u0633\u0627\u0628 "),t.k0s()()),2&n&&(t.R7$(6),t.JRh(s.data.studentName))},dependencies:[p.MD,o.l,o.b,o.M,o.c,i.Hl,i.$z],encapsulation:2})}return a})()},6109:(I,C,r)=>{r.d(C,{JY:()=>d,QO:()=>f,rJ:()=>h});const u=20,b=["egypt","\u0645\u0635\u0631"],p=new Set([971,966,965,974,973,968,967,962,961,963,964,970,249,218,213,212,216,222,252,253,269]),R=["saudi","\u0627\u0644\u0633\u0639\u0648\u062f","emirates","\u0627\u0644\u0625\u0645\u0627\u0631\u0627\u062a","kuwait","\u0627\u0644\u0643\u0648\u064a\u062a","bahrain","\u0627\u0644\u0628\u062d\u0631\u064a\u0646","qatar","\u0642\u0637\u0631","oman","\u0639\u0645\u0627\u0646","yemen","\u0627\u0644\u064a\u0645\u0646","jordan","\u0627\u0644\u0623\u0631\u062f\u0646","lebanon","\u0644\u0628\u0646\u0627\u0646","syria","\u0633\u0648\u0631\u064a\u0627","iraq","\u0627\u0644\u0639\u0631\u0627\u0642","palestine","\u0641\u0644\u0633\u0637\u064a\u0646","sudan","\u0627\u0644\u0633\u0648\u062f\u0627\u0646","libya","\u0644\u064a\u0628\u064a\u0627","algeria","\u0627\u0644\u062c\u0632\u0627\u0626\u0631","morocco","\u0627\u0644\u0645\u063a\u0631\u0628","tunisia","\u062a\u0648\u0646\u0633","mauritania","\u0645\u0648\u0631\u064a\u062a\u0627\u0646\u064a\u0627","somalia","\u0627\u0644\u0635\u0648\u0645\u0627\u0644","djibouti","\u062c\u064a\u0628\u0648\u062a\u064a","comoros","\u062c\u0632\u0631 \u0627\u0644\u0642\u0645\u0631"];function f(i){if(!i)return!1;const o=Number(i.telCode);if(Number.isFinite(o)&&o===u)return!0;const _=String(i.name??"").toLowerCase();return b.some(g=>_.includes(g))}function d(i){if(!i||f(i))return!1;const o=Number(i.telCode);if(Number.isFinite(o)&&p.has(o))return!0;const _=String(i.name??"").toLowerCase();return R.some(g=>_.includes(g))}function h(i,o){switch(o){case"egyptian":return f(i);case"arab":return d(i);case"foreign":return!i||!f(i)&&!d(i);default:return!0}}},7753:(I,C,r)=>{r.d(C,{q:()=>f});var u=r(2200),b=r(4412),p=r(3664);const R=["*"];let f=(()=>{class d{constructor(){this.loadingValue=!1,this.hadithIndex=0,this.showHadithValue=!1,this.defaultHadithList=[{text:"\u062e\u064e\u064a\u0652\u0631\u064f\u0643\u064f\u0645\u0652 \u0645\u064e\u0646 \u062a\u064e\u0639\u064e\u0644\u064e\u0651\u0645\u064e \u0627\u0644\u0652\u0642\u064f\u0631\u0652\u0622\u0646\u064e \u0648\u064e\u0639\u064e\u0644\u064e\u0651\u0645\u064e\u0647\u064f",translation:"\u201cThe best among you are those who learn the Qur\u2019an and teach it.\u201d",reference:"\u0635\u062d\u064a\u062d \u0627\u0644\u0628\u062e\u0627\u0631\u064a",eyebrow:"\u0641\u0636\u0644 \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064a\u0645"},{text:"\u0627\u0642\u0652\u0631\u064e\u0624\u0648\u0627 \u0627\u0644\u0642\u064f\u0631\u0652\u0622\u0646\u064e\u060c \u0641\u064e\u0625\u0650\u0646\u0651\u064e\u0647\u064f \u064a\u064e\u0623\u0652\u062a\u0650\u064a \u064a\u064e\u0648\u0652\u0645\u064e \u0627\u0644\u0642\u0650\u064a\u064e\u0627\u0645\u064e\u0629\u0650 \u0634\u064e\u0641\u0650\u064a\u0639\u064b\u0627 \u0644\u0623\u064e\u0635\u0652\u062d\u064e\u0627\u0628\u0650\u0647\u0650",translation:"\u201cRecite the Qur\u2019an, for it will come as an intercessor for its companions on the Day of Resurrection.\u201d",reference:"\u0635\u062d\u064a\u062d \u0645\u0633\u0644\u0645",eyebrow:"\u0641\u0636\u0644 \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064a\u0645"},{text:"\u0625\u0650\u0646\u0651\u064e \u0627\u0644\u0651\u064e\u0630\u0650\u064a \u0644\u064e\u064a\u0652\u0633\u064e \u0641\u0650\u064a \u062c\u064e\u0648\u0652\u0641\u0650\u0647\u0650 \u0634\u064e\u064a\u0652\u0621\u064c \u0645\u0650\u0646\u064e \u0627\u0644\u0642\u064f\u0631\u0652\u0622\u0646\u0650 \u0643\u064e\u0627\u0644\u0652\u0628\u064e\u064a\u0652\u062a\u0650 \u0627\u0644\u0652\u062e\u064e\u0631\u0650\u0628\u0650",translation:"\u201cThe one who has nothing of the Qur\u2019an in his heart is like a ruined house.\u201d",reference:"\u0633\u0646\u0646 \u0627\u0644\u062a\u0631\u0645\u0630\u064a",eyebrow:"\u0641\u0636\u0644 \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064a\u0645"},{text:"\u062a\u064e\u0639\u064e\u0627\u0647\u064e\u062f\u064f\u0648\u0627 \u0627\u0644\u0642\u064f\u0631\u0652\u0622\u0646\u064e\u060c \u0641\u064e\u0648\u064e\u0627\u0644\u0651\u064e\u0630\u0650\u064a \u0646\u064e\u0641\u0652\u0633\u064f \u0645\u064f\u062d\u064e\u0645\u0651\u064e\u062f\u064d \u0628\u0650\u064a\u064e\u062f\u0650\u0647\u0650 \u0644\u064e\u0647\u064f\u0648\u064e \u0623\u064e\u0634\u064e\u062f\u0651\u064f \u062a\u064e\u0641\u064e\u0644\u0651\u064f\u062a\u064b\u0627 \u0645\u0650\u0646\u064e \u0627\u0644\u0625\u0650\u0628\u0650\u0644\u0650 \u0641\u0650\u064a \u0639\u064f\u0642\u064f\u0644\u0650\u0647\u064e\u0627",translation:"\u201cKeep revising the Qur\u2019an, for it slips away faster than camels from their tethers.\u201d",reference:"\u0645\u062a\u0641\u0642 \u0639\u0644\u064a\u0647",eyebrow:"\u0641\u0636\u0644 \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064a\u0645"},{text:"\u0645\u064e\u062b\u064e\u0644\u064f \u0627\u0644\u0645\u064f\u0624\u0652\u0645\u0650\u0646\u0650 \u0627\u0644\u0651\u064e\u0630\u0650\u064a \u064a\u064e\u0642\u0652\u0631\u064e\u0623\u064f \u0627\u0644\u0642\u064f\u0631\u0652\u0622\u0646\u064e \u0643\u064e\u0645\u064e\u062b\u064e\u0644\u0650 \u0627\u0644\u0623\u064f\u062a\u0652\u0631\u064f\u062c\u0651\u064e\u0629\u0650\u061b \u0631\u0650\u064a\u062d\u064f\u0647\u064e\u0627 \u0637\u064e\u064a\u0651\u0650\u0628\u064c \u0648\u064e\u0637\u064e\u0639\u0652\u0645\u064f\u0647\u064e\u0627 \u0637\u064e\u064a\u0651\u0650\u0628\u064c",translation:"\u201cThe believer who recites the Qur\u2019an is like a citrus fruit: its scent is pleasant and its taste is pleasant.\u201d",reference:"\u0645\u062a\u0641\u0642 \u0639\u0644\u064a\u0647",eyebrow:"\u0641\u0636\u0644 \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064a\u0645"},{text:"\u0627\u0642\u0652\u0631\u064e\u0624\u0648\u0627 \u0633\u064f\u0648\u0631\u064e\u0629\u064e \u0627\u0644\u0628\u064e\u0642\u064e\u0631\u064e\u0629\u0650\u061b \u0641\u064e\u0625\u0650\u0646\u0651\u064e \u0623\u064e\u062e\u0652\u0630\u064e\u0647\u064e\u0627 \u0628\u064e\u0631\u064e\u0643\u064e\u0629\u064c\u060c \u0648\u064e\u062a\u064e\u0631\u0652\u0643\u064e\u0647\u064e\u0627 \u062d\u064e\u0633\u0652\u0631\u064e\u0629\u064c",translation:"\u201cRecite Surah al-Baqarah, for taking it brings blessing and abandoning it brings regret.\u201d",reference:"\u0635\u062d\u064a\u062d \u0645\u0633\u0644\u0645",eyebrow:"\u0641\u0636\u0644 \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064a\u0645"},{text:"\u0625\u0650\u0630\u064e\u0627 \u0642\u064e\u0627\u0645\u064e \u0623\u064e\u062d\u064e\u062f\u064f\u0643\u064f\u0645\u0652 \u0628\u0650\u0627\u0644\u0644\u0651\u064e\u064a\u0652\u0644\u0650 \u0641\u064e\u0639\u064e\u062c\u064e\u0632\u064e \u0639\u064e\u0646\u0652 \u0627\u0644\u0642\u0650\u0631\u064e\u0627\u0621\u064e\u0629\u0650\u060c \u0641\u064e\u0644\u0652\u064a\u064e\u0646\u064e\u0645\u0652\u060c \u062b\u064f\u0645\u0651\u064e \u0644\u0650\u064a\u064e\u0642\u064f\u0645\u0652",translation:"\u201cIf one of you stands to pray at night and finds difficulty in reciting, let him sleep, then stand again.\u201d",reference:"\u0635\u062d\u064a\u062d \u0645\u0633\u0644\u0645",eyebrow:"\u0641\u0636\u0644 \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064a\u0645"},{text:"\u064a\u064f\u0642\u064e\u0627\u0644\u064f \u0644\u0650\u0635\u064e\u0627\u062d\u0650\u0628\u0650 \u0627\u0644\u0642\u064f\u0631\u0652\u0622\u0646\u0650 \u0627\u0642\u0652\u0631\u064e\u0623\u0652 \u0648\u064e\u0627\u0631\u0652\u062a\u064e\u0642\u0650 \u0648\u064e\u0631\u064e\u062a\u0651\u0650\u0644\u0652 \u0643\u064e\u0645\u064e\u0627 \u0643\u064f\u0646\u0652\u062a\u064e \u062a\u064f\u0631\u064e\u062a\u0651\u0650\u0644\u064f \u0641\u0650\u064a \u0627\u0644\u062f\u0651\u064f\u0646\u0652\u064a\u064e\u0627",translation:"\u201cIt will be said to the companion of the Qur\u2019an: Recite, ascend, and recite as you used to in the world.\u201d",reference:"\u0633\u0646\u0646 \u0623\u0628\u064a \u062f\u0627\u0648\u062f",eyebrow:"\u0641\u0636\u0644 \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064a\u0645"},{text:"\u0627\u0644\u0652\u0645\u064e\u0627\u0647\u0650\u0631\u064f \u0628\u0650\u0627\u0644\u0652\u0642\u064f\u0631\u0652\u0622\u0646\u0650 \u0645\u064e\u0639\u064e \u0627\u0644\u0633\u0651\u064e\u0641\u064e\u0631\u064e\u0629\u0650 \u0627\u0644\u0652\u0643\u0650\u0631\u064e\u0627\u0645\u0650 \u0627\u0644\u0652\u0628\u064e\u0631\u064e\u0631\u064e\u0629\u0650",translation:"\u201cThe skilled reciter of the Qur\u2019an will be with the noble and righteous scribes (the angels).\u201d",reference:"\u0645\u062a\u0641\u0642 \u0639\u0644\u064a\u0647",eyebrow:"\u0641\u0636\u0644 \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064a\u0645"},{text:"\u0645\u064e\u0646\u0652 \u0642\u064e\u0631\u064e\u0623\u064e \u062d\u064e\u0631\u0652\u0641\u064b\u0627 \u0645\u0650\u0646\u0652 \u0643\u0650\u062a\u064e\u0627\u0628\u0650 \u0627\u0644\u0644\u0647\u0650 \u0641\u064e\u0644\u064e\u0647\u064f \u0628\u0650\u0647\u0650 \u062d\u064e\u0633\u064e\u0646\u064e\u0629\u064c\u060c \u0648\u064e\u0627\u0644\u062d\u064e\u0633\u064e\u0646\u064e\u0629\u064f \u0628\u0650\u0639\u064e\u0634\u0652\u0631\u0650 \u0623\u064e\u0645\u0652\u062b\u064e\u0627\u0644\u0650\u0647\u064e\u0627",translation:"\u201cWhoever recites a letter from the Book of Allah will have one good deed, and it will be multiplied tenfold.\u201d",reference:"\u0633\u0646\u0646 \u0627\u0644\u062a\u0631\u0645\u0630\u064a",eyebrow:"\u0641\u0636\u0644 \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064a\u0645"},{text:"\u0625\u0650\u0646\u0651\u064e \u0627\u0644\u0642\u064f\u0631\u0652\u0622\u0646\u064e \u064a\u064e\u0631\u0652\u0641\u064e\u0639\u064f \u0623\u064e\u0642\u0652\u0648\u064e\u0627\u0645\u064b\u0627 \u0648\u064e\u064a\u064e\u0636\u064e\u0639\u064f \u0622\u062e\u064e\u0631\u0650\u064a\u0646\u064e",translation:"\u201cIndeed, the Qur\u2019an elevates some people and lowers others.\u201d",reference:"\u0635\u062d\u064a\u062d \u0645\u0633\u0644\u0645",eyebrow:"\u0641\u0636\u0644 \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064a\u0645"},{text:"\u0646\u064e\u0648\u0651\u0650\u0631\u064f\u0648\u0627 \u0628\u064f\u064a\u064f\u0648\u062a\u064e\u0643\u064f\u0645\u0652 \u0628\u0650\u0627\u0644\u0635\u0651\u064e\u0644\u064e\u0627\u0629\u0650 \u0648\u064e\u062a\u0650\u0644\u064e\u0627\u0648\u064e\u0629\u0650 \u0627\u0644\u0642\u064f\u0631\u0652\u0622\u0646\u0650",translation:"\u201cIlluminate your homes with prayer and recitation of the Qur\u2019an.\u201d",reference:"\u0627\u0644\u0645\u0639\u062c\u0645 \u0627\u0644\u0643\u0628\u064a\u0631 \u0644\u0644\u0637\u0628\u0631\u0627\u0646\u064a",eyebrow:"\u0641\u0636\u0644 \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064a\u0645"}],this.eventHadithLists=[{name:"\u064a\u0648\u0645 \u0639\u0631\u0641\u0629",match:({day:i,month:o})=>12===o&&9===i,hadiths:[{text:"\u0635\u0650\u064a\u064e\u0627\u0645\u064f \u064a\u064e\u0648\u0652\u0645\u0650 \u0639\u064e\u0631\u064e\u0641\u064e\u0629\u064e \u0623\u064e\u062d\u0652\u062a\u064e\u0633\u0650\u0628\u064f \u0639\u064e\u0644\u064e\u0649 \u0627\u0644\u0644\u0651\u064e\u0647\u0650 \u0623\u064e\u0646\u0652 \u064a\u064f\u0643\u064e\u0641\u0651\u0650\u0631\u064e \u0627\u0644\u0633\u0651\u064e\u0646\u064e\u0629\u064e \u0627\u0644\u0651\u064e\u062a\u0650\u064a \u0642\u064e\u0628\u0652\u0644\u064e\u0647\u064f \u0648\u064e\u0627\u0644\u0633\u0651\u064e\u0646\u064e\u0629\u064e \u0627\u0644\u0651\u064e\u062a\u0650\u064a \u0628\u064e\u0639\u0652\u062f\u064e\u0647\u064f",translation:"\u201cFasting the Day of Arafah expiates the previous year and the coming year.\u201d",reference:"\u0635\u062d\u064a\u062d \u0645\u0633\u0644\u0645",eyebrow:"\u0641\u0636\u0627\u0626\u0644 \u064a\u0648\u0645 \u0639\u0631\u0641\u0629"},{text:"\u0627\u0644\u062d\u064e\u062c\u0651\u064f \u0639\u064e\u0631\u064e\u0641\u064e\u0629\u064f",translation:"\u201cHajj is Arafah.\u201d",reference:"\u0633\u0646\u0646 \u0627\u0644\u062a\u0631\u0645\u0630\u064a",eyebrow:"\u0641\u0636\u0627\u0626\u0644 \u064a\u0648\u0645 \u0639\u0631\u0641\u0629"}]},{name:"\u064a\u0648\u0645 \u0627\u0644\u0646\u062d\u0631",match:({day:i,month:o})=>12===o&&10===i,hadiths:[{text:"\u0623\u064e\u0639\u0652\u0638\u064e\u0645\u064f \u0627\u0644\u0623\u064e\u064a\u0651\u064e\u0627\u0645\u0650 \u0639\u0650\u0646\u062f\u064e \u0627\u0644\u0644\u0651\u064e\u0647\u0650 \u064a\u064e\u0648\u0652\u0645\u064f \u0627\u0644\u0646\u0651\u064e\u062d\u0652\u0631\u0650 \u062b\u064f\u0645\u0651\u064e \u064a\u064e\u0648\u0652\u0645\u064f \u0627\u0644\u0642\u064e\u0631\u0651\u0650",translation:"\u201cThe greatest day with Allah is the Day of Sacrifice, then the Day of Rest.\u201d",reference:"\u0633\u0646\u0646 \u0623\u0628\u064a \u062f\u0627\u0648\u062f",eyebrow:"\u0641\u0636\u0627\u0626\u0644 \u064a\u0648\u0645 \u0627\u0644\u0646\u062d\u0631"},{text:"\u0645\u064e\u0627 \u0639\u064e\u0645\u0650\u0644\u064e \u0627\u0628\u0652\u0646\u064f \u0622\u062f\u064e\u0645\u064e \u064a\u064e\u0648\u0652\u0645\u064e \u0627\u0644\u0646\u0651\u064e\u062d\u0652\u0631\u0650 \u0639\u064e\u0645\u064e\u0644\u064b\u0627 \u0623\u064e\u062d\u064e\u0628\u0651\u064e \u0625\u0650\u0644\u064e\u0649 \u0627\u0644\u0644\u0651\u064e\u0647\u0650 \u0645\u0650\u0646\u0652 \u0625\u0650\u0647\u0652\u0631\u064e\u0627\u0642\u0650 \u0627\u0644\u062f\u0651\u064e\u0645\u0650",translation:"\u201cNo deed is more beloved to Allah on the Day of Sacrifice than shedding blood (of the sacrifice).\u201d",reference:"\u0633\u0646\u0646 \u0627\u0644\u062a\u0631\u0645\u0630\u064a",eyebrow:"\u0641\u0636\u0627\u0626\u0644 \u064a\u0648\u0645 \u0627\u0644\u0646\u062d\u0631"}]},{name:"\u0639\u064a\u062f \u0627\u0644\u0641\u0637\u0631",match:({day:i,month:o})=>10===o&&1===i,hadiths:[{text:"\u0646\u064e\u0647\u064e\u0649 \u0631\u064e\u0633\u064f\u0648\u0644\u064f \u0627\u0644\u0644\u0651\u064e\u0647\u0650 \ufdfa \u0639\u064e\u0646\u0652 \u0635\u064e\u0648\u0652\u0645\u0650 \u064a\u064e\u0648\u0652\u0645\u0650 \u0627\u0644\u0641\u0650\u0637\u0652\u0631\u0650 \u0648\u064e\u064a\u064e\u0648\u0652\u0645\u0650 \u0627\u0644\u0623\u064e\u0636\u0652\u062d\u064e\u0649",translation:"\u201cThe Messenger of Allah forbade fasting on the Day of Fitr and the Day of Adha.\u201d",reference:"\u0645\u062a\u0641\u0642 \u0639\u0644\u064a\u0647",eyebrow:"\u064a\u0648\u0645 \u0627\u0644\u0639\u064a\u062f"},{text:"\u0632\u064e\u0643\u064e\u0627\u0629\u064f \u0627\u0644\u0641\u0650\u0637\u0652\u0631\u0650 \u0637\u064f\u0647\u0652\u0631\u064e\u0629\u064c \u0644\u0650\u0644\u0635\u0651\u064e\u0627\u0626\u0650\u0645\u0650 \u0645\u0650\u0646\u064e \u0627\u0644\u0644\u0651\u064e\u063a\u0652\u0648\u0650 \u0648\u064e\u0627\u0644\u0631\u0651\u064e\u0641\u064e\u062b\u0650",translation:"\u201cZakat al-Fitr is a purification for the fasting person from idle talk and obscenity.\u201d",reference:"\u0633\u0646\u0646 \u0623\u0628\u064a \u062f\u0627\u0648\u062f",eyebrow:"\u064a\u0648\u0645 \u0627\u0644\u0639\u064a\u062f"}]},{name:"\u0639\u0627\u0634\u0648\u0631\u0627\u0621",match:({day:i,month:o})=>1===o&&10===i,hadiths:[{text:"\u0635\u0650\u064a\u064e\u0627\u0645\u064f \u064a\u064e\u0648\u0652\u0645\u0650 \u0639\u064e\u0627\u0634\u064f\u0648\u0631\u064e\u0627\u0621\u064e \u0623\u064e\u062d\u0652\u062a\u064e\u0633\u0650\u0628\u064f \u0639\u064e\u0644\u064e\u0649 \u0627\u0644\u0644\u0651\u064e\u0647\u0650 \u0623\u064e\u0646\u0652 \u064a\u064f\u0643\u064e\u0641\u0651\u0650\u0631\u064e \u0627\u0644\u0633\u0651\u064e\u0646\u064e\u0629\u064e \u0627\u0644\u0651\u064e\u062a\u0650\u064a \u0642\u064e\u0628\u0652\u0644\u064e\u0647\u064f",translation:"\u201cFasting the Day of Ashura expiates the previous year.\u201d",reference:"\u0635\u062d\u064a\u062d \u0645\u0633\u0644\u0645",eyebrow:"\u0641\u0636\u0627\u0626\u0644 \u0639\u0627\u0634\u0648\u0631\u0627\u0621"},{text:"\u0643\u064e\u0627\u0646\u064e \u0627\u0644\u0646\u0651\u064e\u0628\u0650\u064a\u0651\u064f \ufdfa \u064a\u064e\u062a\u064e\u062d\u064e\u0631\u0651\u064e\u0649 \u0635\u0650\u064a\u064e\u0627\u0645\u064e \u064a\u064e\u0648\u0652\u0645\u0650 \u0639\u064e\u0627\u0634\u064f\u0648\u0631\u064e\u0627\u0621\u064e",translation:"\u201cThe Prophet used to be keen on fasting the Day of Ashura.\u201d",reference:"\u0635\u062d\u064a\u062d \u0627\u0644\u0628\u062e\u0627\u0631\u064a",eyebrow:"\u0641\u0636\u0627\u0626\u0644 \u0639\u0627\u0634\u0648\u0631\u0627\u0621"}]},{name:"\u0644\u064a\u0644\u0629 \u0627\u0644\u0642\u062f\u0631",match:({day:i,month:o})=>9===o&&27===i,hadiths:[{text:"\u0645\u064e\u0646\u0652 \u0642\u064e\u0627\u0645\u064e \u0644\u064e\u064a\u0652\u0644\u064e\u0629\u064e \u0627\u0644\u0642\u064e\u062f\u0652\u0631\u0650 \u0625\u0650\u064a\u0645\u064e\u0627\u0646\u064b\u0627 \u0648\u064e\u0627\u062d\u0652\u062a\u0650\u0633\u064e\u0627\u0628\u064b\u0627 \u063a\u064f\u0641\u0650\u0631\u064e \u0644\u064e\u0647\u064f \u0645\u064e\u0627 \u062a\u064e\u0642\u064e\u062f\u0651\u064e\u0645\u064e \u0645\u0650\u0646\u0652 \u0630\u064e\u0646\u0652\u0628\u0650\u0647\u0650",translation:"\u201cWhoever stands in prayer on Laylat al-Qadr with faith and seeking reward will be forgiven.\u201d",reference:"\u0645\u062a\u0641\u0642 \u0639\u0644\u064a\u0647",eyebrow:"\u0641\u0636\u0627\u0626\u0644 \u0644\u064a\u0644\u0629 \u0627\u0644\u0642\u062f\u0631"}]},{name:"\u0631\u0645\u0636\u0627\u0646",match:({month:i})=>9===i,hadiths:[{text:"\u0625\u0650\u0630\u064e\u0627 \u062c\u064e\u0627\u0621\u064e \u0631\u064e\u0645\u064e\u0636\u064e\u0627\u0646\u064f \u0641\u064f\u062a\u0651\u0650\u062d\u064e\u062a\u0652 \u0623\u064e\u0628\u0652\u0648\u064e\u0627\u0628\u064f \u0627\u0644\u062c\u064e\u0646\u0651\u064e\u0629\u0650 \u0648\u064e\u063a\u064f\u0644\u0651\u0650\u0642\u064e\u062a\u0652 \u0623\u064e\u0628\u0652\u0648\u064e\u0627\u0628\u064f \u0627\u0644\u0646\u0651\u064e\u0627\u0631\u0650",translation:"\u201cWhen Ramadan begins, the gates of Paradise are opened and the gates of Hell are closed.\u201d",reference:"\u0645\u062a\u0641\u0642 \u0639\u0644\u064a\u0647",eyebrow:"\u0641\u0636\u0627\u0626\u0644 \u0631\u0645\u0636\u0627\u0646"},{text:"\u0645\u064e\u0646\u0652 \u0635\u064e\u0627\u0645\u064e \u0631\u064e\u0645\u064e\u0636\u064e\u0627\u0646\u064e \u0625\u0650\u064a\u0645\u064e\u0627\u0646\u064b\u0627 \u0648\u064e\u0627\u062d\u0652\u062a\u0650\u0633\u064e\u0627\u0628\u064b\u0627 \u063a\u064f\u0641\u0650\u0631\u064e \u0644\u064e\u0647\u064f \u0645\u064e\u0627 \u062a\u064e\u0642\u064e\u062f\u0651\u064e\u0645\u064e \u0645\u0650\u0646\u0652 \u0630\u064e\u0646\u0652\u0628\u0650\u0647\u0650",translation:"\u201cWhoever fasts Ramadan with faith and seeking reward will be forgiven.\u201d",reference:"\u0645\u062a\u0641\u0642 \u0639\u0644\u064a\u0647",eyebrow:"\u0641\u0636\u0627\u0626\u0644 \u0631\u0645\u0636\u0627\u0646"}]}],this.hadithList=this.resolveHadithList(),this.currentHadith$=new b.t(this.hadithList[0])}set isLoading(i){i!==this.loadingValue&&(this.loadingValue=i,i&&this.showHadithValue&&this.showNextHadith())}get isLoading(){return this.loadingValue}set showHadith(i){this.showHadithValue=i,i&&this.loadingValue&&this.showNextHadith()}get showHadith(){return this.showHadithValue}getRandomHadithIndex(){if(this.hadithList.length<=1)return 0;let i;do{i=Math.floor(Math.random()*this.hadithList.length)}while(i===this.hadithIndex);return i}showNextHadith(){this.hadithIndex=this.getRandomHadithIndex(),this.currentHadith$.next(this.hadithList[this.hadithIndex])}resolveHadithList(){const i=this.getHijriDateParts();if(i){const o=this.eventHadithLists.find(_=>_.match(i));if(o?.hadiths.length)return o.hadiths}return this.defaultHadithList}getHijriDateParts(){try{const o=new Intl.DateTimeFormat("en-US-u-ca-islamic",{day:"numeric",month:"numeric"}).formatToParts(new Date),_=o.find(M=>"day"===M.type)?.value,g=o.find(M=>"month"===M.type)?.value,O=_?Number(_):NaN,P=g?Number(g):NaN;return Number.isNaN(O)||Number.isNaN(P)?null:{day:O,month:P}}catch{return null}}static#t=this.\u0275fac=function(o){return new(o||d)};static#e=this.\u0275cmp=p.VBU({type:d,selectors:[["app-loading-overlay"]],inputs:{isLoading:"isLoading",showHadith:"showHadith"},ngContentSelectors:R,decls:3,vars:2,consts:[[1,"loading-overlay"],[1,"loading-overlay__content"]],template:function(o,_){1&o&&(p.NAR(),p.j41(0,"div",0)(1,"div",1),p.SdG(2),p.k0s()()),2&o&&p.AVh("loading",_.isLoading)},dependencies:[u.MD],styles:["[_nghost-%COMP%]{display:block;font-family:Amiri Quran}.loading-overlay[_ngcontent-%COMP%]{position:relative;font-family:Amiri Quran}.loading-overlay__content[_ngcontent-%COMP%]{transition:filter .2s ease,opacity .2s ease;font-family:Amiri Quran}.loading-overlay.loading[_ngcontent-%COMP%]   .loading-overlay__content[_ngcontent-%COMP%]{filter:blur(2px);opacity:.55;pointer-events:none;font-family:Amiri Quran}.loading-overlay__backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background-color:#ffffffb3;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);z-index:1000;pointer-events:all;font-family:Amiri Quran}.hadith-view[_ngcontent-%COMP%]{max-width:520px;width:calc(100% - 32px);padding:32px;border-radius:24px;background:linear-gradient(135deg,#095f6ef2,#113152e6);color:#fff;box-shadow:0 20px 60px #0928454d;text-align:center;font-family:Amiri Quran}.hadith-view__eyebrow[_ngcontent-%COMP%]{font-size:.85rem;letter-spacing:.12em;text-transform:uppercase;color:#ffffffe6;margin-bottom:16px}.hadith-view__quote[_ngcontent-%COMP%]{margin:0 0 16px;font-size:1.35rem;line-height:1.8;font-weight:600}.hadith-view__quote-text[_ngcontent-%COMP%]{display:inline-block}.hadith-view__reference[_ngcontent-%COMP%]{margin:0 0 8px;font-weight:500;color:#ffffffe6}.hadith-view__translation[_ngcontent-%COMP%]{margin:0;font-size:.95rem;color:#ffffffd9}"],changeDetection:0})}return d})()}}]);