"use strict";(self.webpackChunkable_pro=self.webpackChunkable_pro||[]).push([[4099],{64099:(O,h,o)=>{o.r(h),o.d(h,{RegisterComponent:()=>N});var l=o(48728),g=o(72200),r=o(89417),m=o(35568),M=o(38132),d=o(99830),p=o(56147),u=o(75366),v=o(72709),b=o(87509),f=o(88937),P=o(8223),E=o(76848),k=o(53964),t=o(73664),y=o(82765),F=o(88834),w=o(9010),R=o(81074),D=o(33746),C=o(5404),I=o(72923),j=o(25079),x=o(16735);const T=a=>[a];function B(a,s){if(1&a&&(t.j41(0,"mat-error"),t.EFF(1),t.k0s()),2&a){const e=t.XpG();t.R7$(),t.JRh(e.getErrorMessage())}}function W(a,s){if(1&a&&(t.j41(0,"mat-option",45),t.EFF(1),t.k0s()),2&a){const e=s.$implicit;t.Y8G("value",e.dialCode),t.R7$(),t.Lme(" ",e.name," (",e.dialCode,") ")}}function $(a,s){if(1&a&&(t.j41(0,"mat-option",45),t.EFF(1),t.k0s()),2&a){const e=s.$implicit;t.Y8G("value",e.dialCode),t.R7$(),t.Lme(" ",e.name," (",e.dialCode,") ")}}function S(a,s){if(1&a&&(t.j41(0,"mat-option",45),t.EFF(1),t.k0s()),2&a){const e=s.$implicit;t.Y8G("value",e.id),t.R7$(),t.JRh(e.label)}}function A(a,s){if(1&a&&(t.j41(0,"mat-option",45),t.EFF(1),t.k0s()),2&a){const e=s.$implicit;t.Y8G("value",e.id),t.R7$(),t.JRh(e.name)}}function L(a,s){if(1&a&&(t.j41(0,"mat-option",45),t.EFF(1),t.k0s()),2&a){const e=s.$implicit;t.Y8G("value",e.id),t.R7$(),t.JRh(e.name)}}function U(a,s){if(1&a&&(t.j41(0,"mat-option",45),t.EFF(1),t.k0s()),2&a){const e=s.$implicit;t.Y8G("value",e.id),t.R7$(),t.JRh(e.label)}}let N=(()=>{class a{constructor(){this.fb=(0,l.WQX)(r.ok),this.userService=(0,l.WQX)(v.D),this.toast=(0,l.WQX)(b.f),this.lookupService=(0,l.WQX)(E.s),this.countryService=(0,l.WQX)(k.o),this.router=(0,l.WQX)(m.Ix),this.authenticationService=(0,l.WQX)(u.k),this.hide=!0,this.coHide=!0,this.nationalities=[],this.governorates=[],this.countries=[],this.phoneFormats={"+1":{mask:"000-000-0000",placeholder:"123-456-7890"},"+44":{mask:"0000 000000",placeholder:"7123 456789"},"+966":{mask:"0000000000",placeholder:"5XXXXXXXXX"}},this.mobileMask="",this.mobilePlaceholder="",this.secondMobileMask="",this.secondMobilePlaceholder="",this.userTypes=[{id:f.m.Manager,label:"\u0645\u0634\u0631\u0641"},{id:f.m.BranchLeader,label:"\u0645\u0633\u0626\u0648\u0644 \u0641\u0631\u0639"},{id:f.m.Teacher,label:"\u0645\u0639\u0644\u0645"},{id:f.m.Student,label:"\u0637\u0627\u0644\u0628"}],this.Branch=[{id:P.E.Mens,label:"\u0627\u0644\u0631\u062c\u0627\u0644"},{id:P.E.Women,label:"\u0627\u0644\u0646\u0633\u0627\u0621"}]}ngOnInit(){this.registerForm=this.fb.group({fullName:["",r.k0.required],email:["",[r.k0.required,r.k0.email]],mobileCountryDialCode:[null,r.k0.required],mobile:["",r.k0.required],secondMobileCountryDialCode:[""],secondMobile:[""],passwordHash:["",[r.k0.required,r.k0.minLength(6)]],confirmPassword:["",r.k0.required],userTypeId:[null,r.k0.required],nationalityId:[null,r.k0.required],governorateId:[null,r.k0.required],branchId:[null,r.k0.required]}),this.lookupService.getAllNationalities().subscribe(e=>{e.isSuccess&&(this.nationalities=e.data)}),this.lookupService.getAllGovernorates().subscribe(e=>{e.isSuccess&&(this.governorates=e.data)}),this.countryService.getCountries().subscribe(e=>{this.countries=e})}get form(){return this.registerForm.controls}getErrorMessage(){return this.form.email.hasError("required")?"You must enter an email":this.form.email.hasError("email")?"Not a valid email":""}onCountryCodeChange(e){const c=this.registerForm.get(e)?.value,n=this.phoneFormats[c]||{mask:"",placeholder:""};"mobileCountryDialCode"===e?(this.mobileMask=n.mask,this.mobilePlaceholder=n.placeholder):(this.secondMobileMask=n.mask,this.secondMobilePlaceholder=n.placeholder)}onSubmit(){if(this.registerForm.invalid)return void this.registerForm.markAllAsTouched();if(this.form.passwordHash.value!==this.form.confirmPassword.value)return void this.toast.error("Passwords do not match");const e=this.registerForm.value,c=i=>i.replace(/\D/g,""),n={fullName:e.fullName,email:e.email,mobile:`${e.mobileCountryDialCode}${c(e.mobile)}`,secondMobile:e.secondMobile?`${e.secondMobileCountryDialCode}${c(e.secondMobile)}`:void 0,passwordHash:e.passwordHash,userTypeId:Number(e.userTypeId),nationalityId:e.nationalityId,governorateId:e.governorateId,branchId:e.branchId};this.userService.createUser(n).subscribe({next:i=>{i.isSuccess?(this.toast.success(i.message||"User created successfully"),this.registerForm.reset(),this.router.navigate(["/login"])):i.errors?.length?i.errors.forEach(_=>this.toast.error(_.message)):this.toast.error("Error creating user")},error:()=>this.toast.error("Error creating user")})}static#t=this.\u0275fac=function(c){return new(c||a)};static#e=this.\u0275cmp=t.VBU({type:a,selectors:[["app-register"]],features:[t.Jv_([(0,d.Dw)()])],decls:109,vars:28,consts:[[1,"auth-main"],[1,"auth-wrapper","version-1"],[1,"auth-form"],[1,"auth-background"],[1,"yellow-circle"],[1,"red-circle"],[1,"main-form"],["padding","40",1,"auth-form-card",3,"showHeader"],[1,"text-center"],["href","javascript:"],["src","assets/images/logo-dark.svg","alt","logo"],[1,"login-with"],["mat-stroked-button","",1,"m-t-10","text-muted"],[1,"flex"],["src","assets/images/authentication/facebook.svg","alt","facebook"],[1,"mat-body","p-l-10"],["src","assets/images/authentication/twitter.svg","alt","facebook"],["src","assets/images/authentication/google.svg","alt","facebook"],[1,"separator"],[1,"text-center","m-b-25","f-20","f-w-500"],[1,"row","text-start",3,"ngSubmit","formGroup"],[1,"col-12"],[1,"f-w-500"],["appearance","outline",1,"w-100","m-t-5"],["type","text","matInput","","formControlName","fullName","placeholder","Full Name"],["matInput","","formControlName","email","required","","placeholder","Email Address"],["formControlName","mobileCountryDialCode","matPrefix","","placeholder","+1",1,"dial-code-select",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","mobile",3,"click","mask","placeholder","dropSpecialCharacters","validation"],["formControlName","secondMobileCountryDialCode","matPrefix","","placeholder","+1",1,"dial-code-select",3,"selectionChange"],["matInput","","formControlName","secondMobile",3,"click","mask","placeholder","dropSpecialCharacters","validation"],["matInput","","formControlName","passwordHash","placeholder","Enter Password",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["matInput","","formControlName","confirmPassword","placeholder","Enter Confirm Password",3,"type"],["formControlName","userTypeId","placeholder","Select user type"],["formControlName","nationalityId","placeholder","Select nationality"],["formControlName","governorateId","placeholder","Select governorate"],["formControlName","branchId","placeholder","Select branch"],[1,"check-me"],["color","primary",1,"float-start"],[1,"grid"],["mat-flat-button","","color","primary","type","submit",1,"b-rad-20","m-t-15"],[1,"check-me","m-t-15"],[1,"text-muted"],[1,"text-primary-500",3,"routerLink"],[3,"value"]],template:function(c,n){1&c&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.nrm(4,"div",4)(5,"div",5),t.k0s(),t.j41(6,"div",6)(7,"app-card",7)(8,"div",8)(9,"a",9),t.nrm(10,"img",10),t.k0s(),t.j41(11,"div",11)(12,"button",12)(13,"div",13),t.nrm(14,"img",14),t.j41(15,"span",15),t.EFF(16,"Sign In with Facebook"),t.k0s()()(),t.j41(17,"button",12)(18,"div",13),t.nrm(19,"img",16),t.j41(20,"span",15),t.EFF(21,"Sign In with Twitter"),t.k0s()()(),t.j41(22,"button",12)(23,"div",13),t.nrm(24,"img",17),t.j41(25,"span",15),t.EFF(26,"Sign In with Google"),t.k0s()()()()(),t.j41(27,"div",18)(28,"span"),t.EFF(29,"OR"),t.k0s()(),t.j41(30,"div",19),t.EFF(31,"Sign up with your work email."),t.k0s(),t.j41(32,"form",20),t.bIt("ngSubmit",function(){return n.onSubmit()}),t.j41(33,"div",21)(34,"label",22),t.EFF(35,"Full Name"),t.k0s(),t.j41(36,"mat-form-field",23),t.nrm(37,"input",24),t.k0s()(),t.j41(38,"div",21)(39,"label",22),t.EFF(40,"Enter Your Email"),t.k0s(),t.j41(41,"mat-form-field",23),t.nrm(42,"input",25),t.nVh(43,B,2,1,"mat-error"),t.k0s()(),t.j41(44,"div",21)(45,"label",22),t.EFF(46,"Mobile"),t.k0s(),t.j41(47,"mat-form-field",23)(48,"mat-select",26),t.bIt("selectionChange",function(){return n.onCountryCodeChange("mobileCountryDialCode")}),t.DNE(49,W,2,3,"mat-option",27),t.k0s(),t.j41(50,"input",28),t.bIt("click",function(_){return _.stopPropagation()}),t.k0s()()(),t.j41(51,"div",21)(52,"label",22),t.EFF(53,"Second Mobile"),t.k0s(),t.j41(54,"mat-form-field",23)(55,"mat-select",29),t.bIt("selectionChange",function(){return n.onCountryCodeChange("secondMobileCountryDialCode")}),t.DNE(56,$,2,3,"mat-option",27),t.k0s(),t.j41(57,"input",30),t.bIt("click",function(_){return _.stopPropagation()}),t.k0s()()(),t.j41(58,"div",21)(59,"label",22),t.EFF(60,"Enter your password"),t.k0s(),t.j41(61,"mat-form-field",23),t.nrm(62,"input",31),t.j41(63,"button",32),t.bIt("click",function(){return n.hide=!n.hide}),t.j41(64,"mat-icon"),t.EFF(65),t.k0s()()()(),t.j41(66,"div",21)(67,"label",22),t.EFF(68,"Enter your Confirm Password"),t.k0s(),t.j41(69,"mat-form-field",23),t.nrm(70,"input",33),t.j41(71,"button",32),t.bIt("click",function(){return n.coHide=!n.coHide}),t.j41(72,"mat-icon"),t.EFF(73),t.k0s()()()(),t.j41(74,"div",21)(75,"label",22),t.EFF(76,"User Type"),t.k0s(),t.j41(77,"mat-form-field",23)(78,"mat-select",34),t.DNE(79,S,2,2,"mat-option",27),t.k0s()()(),t.j41(80,"div",21)(81,"label",22),t.EFF(82,"Nationality"),t.k0s(),t.j41(83,"mat-form-field",23)(84,"mat-select",35),t.DNE(85,A,2,2,"mat-option",27),t.k0s()()(),t.j41(86,"div",21)(87,"label",22),t.EFF(88,"Governorate"),t.k0s(),t.j41(89,"mat-form-field",23)(90,"mat-select",36),t.DNE(91,L,2,2,"mat-option",27),t.k0s()()(),t.j41(92,"div",21)(93,"label",22),t.EFF(94,"Branch"),t.k0s(),t.j41(95,"mat-form-field",23)(96,"mat-select",37),t.DNE(97,U,2,2,"mat-option",27),t.k0s()()(),t.j41(98,"div",38)(99,"mat-checkbox",39),t.EFF(100,"I agree to all the Terms & Condition"),t.k0s()(),t.j41(101,"div",40)(102,"button",41),t.EFF(103,"Register"),t.k0s()()(),t.j41(104,"div",42)(105,"div",43),t.EFF(106,"Don't have an Account?"),t.k0s(),t.j41(107,"a",44),t.EFF(108," Login Account "),t.k0s()()()()()()()),2&c&&(t.R7$(7),t.Y8G("showHeader",!1),t.R7$(25),t.Y8G("formGroup",n.registerForm),t.R7$(11),t.vxM(n.form.email.invalid&&(n.form.email.dirty||n.form.email.touched)?43:-1),t.R7$(6),t.Y8G("ngForOf",n.countries),t.R7$(),t.Y8G("mask",n.mobileMask)("placeholder",n.mobilePlaceholder)("dropSpecialCharacters",!1)("validation",!!n.mobileMask),t.R7$(6),t.Y8G("ngForOf",n.countries),t.R7$(),t.Y8G("mask",n.secondMobileMask)("placeholder",n.secondMobilePlaceholder)("dropSpecialCharacters",!1)("validation",!!n.secondMobileMask),t.R7$(5),t.Y8G("type",n.hide?"password":"text"),t.R7$(),t.BMQ("aria-label","Hide password")("aria-pressed",n.hide),t.R7$(2),t.JRh(n.hide?"visibility_off":"visibility"),t.R7$(5),t.Y8G("type",n.coHide?"password":"text"),t.R7$(),t.BMQ("aria-label","Hide password")("aria-pressed",n.coHide),t.R7$(2),t.JRh(n.coHide?"visibility_off":"visibility"),t.R7$(6),t.Y8G("ngForOf",n.userTypes),t.R7$(6),t.Y8G("ngForOf",n.nationalities),t.R7$(6),t.Y8G("ngForOf",n.governorates),t.R7$(6),t.Y8G("ngForOf",n.Branch),t.R7$(10),t.Y8G("routerLink",t.eq3(26,T,n.authenticationService.isLoggedIn()?"/authentication-1/login":"/login")))},dependencies:[g.MD,g.Sq,p.G,y.So,F.$z,w.M,R.An,D.fg,C.j,C.b,C.e,C.g,I.g,j.M,r.qT,r.me,r.BC,r.cb,r.YS,r.j4,r.JD,x.i,M.iI,M.Wk,d.Zr],styles:['.auth-main[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:100vh;background-color:#f5f7fa}.auth-wrapper[_ngcontent-%COMP%]{display:flex;width:100%;max-width:900px;background:#fff;box-shadow:0 2px 8px #0000001a;border-radius:8px;overflow:hidden}.auth-wrapper[_ngcontent-%COMP%]   .auth-side-content[_ngcontent-%COMP%]{flex:1;display:none}.auth-wrapper[_ngcontent-%COMP%]   .auth-form[_ngcontent-%COMP%]{flex:1;padding:2rem}@media (min-width: 768px){.auth-wrapper[_ngcontent-%COMP%]   .auth-side-content[_ngcontent-%COMP%]{display:block}}.login-with[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.separator[_ngcontent-%COMP%]{position:relative;text-align:center;margin:1.5rem 0}.separator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;background:#fff;padding:0 1rem;z-index:1}.separator[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:0;right:0;border-top:1px solid #e0e0e0;z-index:0}.check-me[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}[_nghost-%COMP%]     .mat-mdc-form-field-prefix, [_nghost-%COMP%]     .dial-code-select{width:90px!important;flex:0 0 90px}[_nghost-%COMP%]     .mat-mdc-text-field-wrapper{padding:0!important}[_nghost-%COMP%]     div#mat-select-value-0, [_nghost-%COMP%]     div#mat-select-value-1{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-align:center}','.auth-main[_ngcontent-%COMP%]   .auth-wrapper.version-1[_ngcontent-%COMP%]{display:flex;align-items:stretch}.auth-main[_ngcontent-%COMP%]   .auth-wrapper.version-1[_ngcontent-%COMP%]   .auth-form[_ngcontent-%COMP%]{flex-direction:column;background-size:cover;position:relative;justify-content:center}.auth-main[_ngcontent-%COMP%]   .auth-wrapper.version-1[_ngcontent-%COMP%]   .auth-form[_ngcontent-%COMP%]   .auth-background[_ngcontent-%COMP%]{position:absolute;filter:blur(140px);z-index:-1;inset:0;overflow:hidden}.auth-main[_ngcontent-%COMP%]   .auth-wrapper.version-1[_ngcontent-%COMP%]   .auth-form[_ngcontent-%COMP%]   .auth-background[_ngcontent-%COMP%]:before{content:" ";width:300px;height:300px;border-radius:50%;background-color:#f7dcb3;position:absolute;top:0;right:0;opacity:1}  .dark .auth-main .auth-wrapper.version-1 .auth-form .auth-background:before{background-color:#d35a00!important;opacity:.6!important}.auth-main[_ngcontent-%COMP%]   .auth-wrapper.version-1[_ngcontent-%COMP%]   .auth-form[_ngcontent-%COMP%]   .yellow-circle[_ngcontent-%COMP%]{width:250px;height:250px;border-radius:50%;background-color:#c0e5d9;margin-left:160px;position:absolute;bottom:180px;opacity:1}  .dark .auth-main .auth-wrapper.version-1 .auth-form .yellow-circle{background-color:#107d4f!important;opacity:.8!important}.auth-main[_ngcontent-%COMP%]   .auth-wrapper.version-1[_ngcontent-%COMP%]   .auth-form[_ngcontent-%COMP%]   .red-circle[_ngcontent-%COMP%]{width:200px;height:200px;border-radius:50%;background-color:#e76767;position:absolute;bottom:0;left:-50px;opacity:1}  .dark .auth-main .auth-wrapper.version-1 .auth-form .red-circle{background-color:#d31c1c!important;opacity:.8!important}.auth-main[_ngcontent-%COMP%]   .auth-wrapper.version-1[_ngcontent-%COMP%]   .auth-form[_ngcontent-%COMP%]   .main-form[_ngcontent-%COMP%]{display:flex;justify-content:center}','.auth-main[_ngcontent-%COMP%]{position:relative;color:var(--accent-900)}.auth-main[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]{height:100%;width:100%;min-height:100vh}.auth-main[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-form[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-grow:1}.auth-main[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-form[_ngcontent-%COMP%]   .auth-form-card[_ngcontent-%COMP%]{margin:40px 0;width:100%;max-width:480px;box-shadow:none}.auth-main[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-form[_ngcontent-%COMP%]   .auth-form-card.user-role[_ngcontent-%COMP%]{margin:20px 0 40px}.auth-main[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-form[_ngcontent-%COMP%]   .login-with[_ngcontent-%COMP%]{display:grid;margin:16px 0}.auth-main[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-form[_ngcontent-%COMP%]   .sign-with[_ngcontent-%COMP%]{display:inline-block;padding-left:10px}.auth-main[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-form[_ngcontent-%COMP%]   .admin-role[_ngcontent-%COMP%]{padding:0;width:100%;max-width:480px}.auth-main[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-form[_ngcontent-%COMP%]   .admin-role[_ngcontent-%COMP%]   .role-tab[_ngcontent-%COMP%]{text-align:center;border:1px solid var(--accent-400);padding:3px 0;border-radius:4px;display:block;color:var(--accent-900)}.auth-main[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-form[_ngcontent-%COMP%]   .admin-role[_ngcontent-%COMP%]   .role-tab.active[_ngcontent-%COMP%]{background:var(--primary-500);color:#fff}.auth-main[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{position:relative;display:flex;align-self:center;justify-content:center;margin:24px 0}.auth-main[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:0;width:100%;height:1px;background:var(--accent-300);z-index:1}.auth-main[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;padding:8px 24px;background:var(--accent-50);z-index:5;text-transform:capitalize;font-weight:500}.auth-main[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .check-me[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.auth-main[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .forgot-logo[_ngcontent-%COMP%]{text-align:start}.auth-main[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .forgot-logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 1199px){.img-auth-side[_ngcontent-%COMP%]{display:none}}@media (max-width: 576px){.auth-main[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-form[_ngcontent-%COMP%]   .sign-with[_ngcontent-%COMP%]{display:none}}']})}return a})()},87509:(O,h,o)=>{o.d(h,{f:()=>r});var l=o(48728),g=o(95416);let r=(()=>{class m{constructor(){this.snackBar=(0,l.WQX)(g.UG)}success(d,p="Close",u=3e3){this.snackBar.open(d,p,{duration:u,panelClass:["toast-success"]})}error(d,p="Close",u=3e3){this.snackBar.open(d,p,{duration:u,panelClass:["toast-error"]})}static#t=this.\u0275fac=function(p){return new(p||m)};static#e=this.\u0275prov=l.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})()}}]);