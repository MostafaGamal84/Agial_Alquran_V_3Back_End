"use strict";(self.webpackChunkable_pro=self.webpackChunkable_pro||[]).push([[5420],{15420:(K,_,m)=>{m.r(_),m.d(_,{InvoiceCreateComponent:()=>W});var l=m(48728),C=m(17705),f=m(56147),p=m(63213),F=m(30357),r=m(90645),t=m(73664),h=m(88834),v=m(71997),E=m(33746),u=m(5404),g=m(72923),j=m(25079),c=m(89417),I=m(16735);function k(e,s){if(1&e&&(t.j41(0,"div",22),t.EFF(1),t.k0s(),t.j41(2,"p",58),t.EFF(3),t.k0s(),t.j41(4,"p",58),t.EFF(5),t.k0s(),t.j41(6,"p",58),t.EFF(7),t.k0s()),2&e){const n=t.XpG();t.R7$(),t.JRh(n.selectedAddress.name),t.R7$(2),t.JRh(n.selectedAddress.address),t.R7$(2),t.JRh(n.selectedAddress.mobile),t.R7$(2),t.JRh(n.selectedAddress.email)}}function R(e,s){1&e&&(t.j41(0,"div",22),t.EFF(1,"Garcia-Cameron and Sons"),t.k0s(),t.j41(2,"p",58),t.EFF(3,"8534 Saunders Hill Apt. 583"),t.k0s(),t.j41(4,"p",58),t.EFF(5,"(970) 982-3353"),t.k0s(),t.j41(6,"p",58),t.EFF(7,"brandon07@pierce.com"),t.k0s())}function x(e,s){if(1&e&&(t.j41(0,"div",22),t.EFF(1),t.k0s(),t.j41(2,"p",58),t.EFF(3),t.k0s(),t.j41(4,"p",58),t.EFF(5),t.k0s(),t.j41(6,"p",58),t.EFF(7),t.k0s()),2&e){const n=t.XpG();t.R7$(),t.JRh(n.newAddress.name),t.R7$(2),t.JRh(n.newAddress.address),t.R7$(2),t.JRh(n.newAddress.mobile),t.R7$(2),t.JRh(n.newAddress.email)}}function D(e,s){1&e&&(t.j41(0,"th",59),t.EFF(1,"#"),t.k0s())}function T(e,s){if(1&e&&(t.j41(0,"td",60),t.EFF(1),t.k0s()),2&e){const n=s.$implicit;t.R7$(),t.JRh(n.no)}}function M(e,s){1&e&&(t.j41(0,"th",59)(1,"span",61),t.EFF(2,"*"),t.k0s(),t.EFF(3," NAME "),t.k0s())}function b(e,s){if(1&e){const n=t.RV6();t.j41(0,"td",60)(1,"div",53)(2,"mat-form-field",5)(3,"input",62),t.mxI("ngModelChange",function(a){const i=l.eBV(n).$implicit;return t.DH7(i.name,a)||(i.name=a),l.Njj(a)}),t.k0s()()()()}if(2&e){const n=s.$implicit;t.R7$(3),t.R50("ngModel",n.name)}}function P(e,s){1&e&&(t.j41(0,"th",59)(1,"span",61),t.EFF(2,"*"),t.k0s(),t.EFF(3," DESCRIPTION "),t.k0s())}function A(e,s){if(1&e){const n=t.RV6();t.j41(0,"td",60)(1,"div",53)(2,"mat-form-field",5)(3,"input",62),t.mxI("ngModelChange",function(a){const i=l.eBV(n).$implicit;return t.DH7(i.description,a)||(i.description=a),l.Njj(a)}),t.k0s()()()()}if(2&e){const n=s.$implicit;t.R7$(3),t.R50("ngModel",n.description)}}function O(e,s){1&e&&(t.j41(0,"th",59)(1,"span",61),t.EFF(2,"*"),t.k0s(),t.EFF(3," QTY "),t.k0s())}function w(e,s){if(1&e){const n=t.RV6();t.j41(0,"td",60)(1,"div",53)(2,"mat-form-field",5)(3,"input",63),t.mxI("ngModelChange",function(a){const i=l.eBV(n).$implicit;return t.DH7(i.qty,a)||(i.qty=a),l.Njj(a)}),t.bIt("input",function(a){const i=l.eBV(n).$implicit,d=t.XpG();return l.Njj(d.onInputChange(d.dataSource.data.indexOf(i),"qty",a.target.valueAsNumber))}),t.k0s()()()()}if(2&e){const n=s.$implicit;t.R7$(3),t.R50("ngModel",n.qty)}}function $(e,s){1&e&&(t.j41(0,"th",59)(1,"span",61),t.EFF(2,"*"),t.k0s(),t.EFF(3," PRICE "),t.k0s())}function y(e,s){if(1&e){const n=t.RV6();t.j41(0,"td",60)(1,"div",53)(2,"mat-form-field",5)(3,"input",63),t.mxI("ngModelChange",function(a){const i=l.eBV(n).$implicit;return t.DH7(i.price,a)||(i.price=a),l.Njj(a)}),t.bIt("input",function(a){const i=l.eBV(n).$implicit,d=t.XpG();return l.Njj(d.onInputChange(d.dataSource.data.indexOf(i),"price",a.target.valueAsNumber))}),t.k0s()()()()}if(2&e){const n=s.$implicit;t.R7$(3),t.R50("ngModel",n.price)}}function S(e,s){1&e&&(t.j41(0,"th",59)(1,"span",61),t.EFF(2,"*"),t.k0s(),t.EFF(3," TOTAL AMOUNT "),t.k0s())}function N(e,s){if(1&e&&(t.j41(0,"td",64),t.EFF(1),t.k0s()),2&e){const n=s.$implicit;t.R7$(),t.SpI("$",n.amount.toFixed(2))}}function B(e,s){1&e&&(t.j41(0,"th",59)(1,"span",61),t.EFF(2,"*"),t.k0s(),t.EFF(3," ACTION "),t.k0s())}function V(e,s){if(1&e){const n=t.RV6();t.j41(0,"td",60)(1,"a",65),t.bIt("click",function(){const a=l.eBV(n).$implicit,i=t.XpG();return l.Njj(i.deleteItem(a.no))}),t.nrm(2,"i",66),t.k0s()()}}function L(e,s){1&e&&t.nrm(0,"tr",67)}function U(e,s){1&e&&t.nrm(0,"tr",68)}let W=(()=>{class e{constructor(){this.dialog=(0,l.WQX)(F.h),this.cdr=(0,l.WQX)(C.gRc),this.elements=[{no:1,name:"",description:"",qty:0,price:0,amount:0}],this.displayedColumns=["no","name","description","qty","price","amount","action"],this.dataSource=new r.I6(this.elements),this.selectedAddress=null,this.newAddress=null,this.discountPercent=0,this.taxPercent=0}addressList(){this.dialog.open(p.i,{width:"700px"}).afterClosed().subscribe(o=>{o&&(this.selectedAddress=o)})}addNewAddress(){this.dialog.open(p.i,{width:"700px"}).afterClosed().subscribe(o=>{o&&(this.newAddress=o)})}onInputChange(n,o,a){const i=this.elements[n];i&&(i[o]=a,i.amount=i.qty*i.price,this.dataSource.data=[...this.elements])}get subTotal(){return this.elements.reduce((n,o)=>n+o.amount,0)}get discountAmount(){return this.subTotal*this.discountPercent/100}get taxAmount(){return(this.subTotal-this.discountAmount)*this.taxPercent/100}get grandTotal(){return this.subTotal-this.discountAmount+this.taxAmount}deleteItem(n){this.elements=this.elements.filter(o=>o.no!==n),this.dataSource.data=[...this.elements]}addNewItem(){const n={no:this.elements.length>0?Math.max(...this.elements.map(o=>o.no))+1:1,name:"",description:"",qty:0,price:0,amount:0};this.elements.push(n),this.dataSource.data=[...this.elements]}static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-invoice-create"]],decls:153,vars:12,consts:[[1,"row"],[1,"col-sm-12"],[3,"showHeader"],[1,"row","g-3"],[1,"col-sm-6","col-xl-3"],["appearance","outline",1,"w-100"],["matInput","","type","text","placeholder","#xxxx"],["value","select"],["value","Paid"],["value","unpaid"],["value","partial-2"],["matInput","","type","datetime-local","placeholder","mm/dd/yyyy"],[1,"col-xl-6"],[1,"border","border-4","p-15","h-100"],[1,"flex","align-item-center","justify-content-between","m-b-10"],[1,"f-w-600"],["mat-button","",1,"bg-accent-100","text-accent-500",3,"click"],[1,"flex","align-item-center","gap-2"],[1,"wid-15","hei-15","f-16"],[0,"xlink","href","assets/fonts/custom-icon.svg#custom-edit2"],[0,"xlink","href","assets/fonts/custom-icon.svg#custom-add-circle"],[1,"col-12"],[1,"f-16","f-w-600"],[1,"table-responsive"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","no"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","text-nowrap",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","description"],["matColumnDef","qty"],["matColumnDef","price"],["matColumnDef","amount"],["mat-cell","","class","text-nowrap text-center",4,"matCellDef"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"text-start"],[1,"m-b-25","m-t-0"],["mat-button","",1,"bg-primary-50","text-primary-500",3,"click"],[1,"ti","ti-plus"],[1,"invoice-total"],[1,"col-6"],[1,"m-b-15"],["matInput","","type","number",3,"ngModelChange","ngModel"],[1,"text-muted","m-b-5","text-start"],[1,"f-w-600","m-b-5","text-end"],[1,"text-muted","mb-1","text-start"],[1,"f-w-600","m-b-5","text-end","text-success"],[1,"f-w-600","m-b-5","text-start"],["matInput","","rows","3","placeholder","Note"],[1,"row","align-item-end","justify-content-between","g-3"],[1,"col-sm-auto"],[1,"input-group"],["value","usd"],["value","inr"],["mat-stroked-button","","color","accent",1,"m-r-10","m-b-10"],["mat-flat-button","","color","primary",1,"m-b-10"],[1,"m-b-0"],["mat-header-cell",""],["mat-cell","",1,"text-nowrap"],[1,"text-warn-500"],["matInput","","type","text",3,"ngModelChange","ngModel"],["matInput","","type","number",3,"ngModelChange","input","ngModel"],["mat-cell","",1,"text-nowrap","text-center"],["href","javascript:",1,"avatar","avatar-s","text-warn-500",3,"click"],[1,"ti","ti-trash","f-20"],["mat-header-row",""],["mat-row",""]],template:function(o,a){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"app-card",2)(3,"div",3)(4,"div",4)(5,"mat-form-field",5)(6,"mat-label"),t.EFF(7,"Invoice id"),t.k0s(),t.nrm(8,"input",6),t.k0s()(),t.j41(9,"div",4)(10,"mat-form-field",5)(11,"mat-label"),t.EFF(12,"Status"),t.k0s(),t.j41(13,"mat-select",7)(14,"mat-option",7),t.EFF(15,"Please Select"),t.k0s(),t.j41(16,"mat-option",8),t.EFF(17,"Paid"),t.k0s(),t.j41(18,"mat-option",9),t.EFF(19,"Unpaid"),t.k0s(),t.j41(20,"mat-option",10),t.EFF(21,"Partial Paid"),t.k0s()()()(),t.j41(22,"div",4)(23,"mat-form-field",5)(24,"mat-label"),t.EFF(25,"Start Date"),t.k0s(),t.nrm(26,"input",11),t.k0s()(),t.j41(27,"div",4)(28,"mat-form-field",5)(29,"mat-label"),t.EFF(30,"Due Date"),t.k0s(),t.nrm(31,"input",11),t.k0s()(),t.j41(32,"div",12)(33,"div",13)(34,"div",14)(35,"div",15),t.EFF(36,"From:"),t.k0s(),t.j41(37,"button",16),t.bIt("click",function(){return a.addressList()}),t.j41(38,"div",17),l.qSk(),t.j41(39,"svg",18),t.nrm(40,"use",19),t.k0s(),t.EFF(41," Change "),t.k0s()()(),t.nVh(42,k,8,4)(43,R,8,0),t.k0s()(),l.joV(),t.j41(44,"div",12)(45,"div",13)(46,"div",14)(47,"div",15),t.EFF(48,"To:"),t.k0s(),t.j41(49,"button",16),t.bIt("click",function(){return a.addNewAddress()}),t.j41(50,"div",17),l.qSk(),t.j41(51,"svg",18),t.nrm(52,"use",20),t.k0s(),t.EFF(53," Add "),t.k0s()()(),t.nVh(54,x,8,4),t.k0s()(),l.joV(),t.j41(55,"div",21)(56,"div",22),t.EFF(57,"Detail"),t.k0s(),t.j41(58,"div",23)(59,"table",24),t.qex(60,25),t.DNE(61,D,2,0,"th",26)(62,T,2,1,"td",27),t.bVm(),t.qex(63,28),t.DNE(64,M,4,0,"th",26)(65,b,4,1,"td",27),t.bVm(),t.qex(66,29),t.DNE(67,P,4,0,"th",26)(68,A,4,1,"td",27),t.bVm(),t.qex(69,30),t.DNE(70,O,4,0,"th",26)(71,w,4,1,"td",27),t.bVm(),t.qex(72,31),t.DNE(73,$,4,0,"th",26)(74,y,4,1,"td",27),t.bVm(),t.qex(75,32),t.DNE(76,S,4,0,"th",26)(77,N,2,1,"td",33),t.bVm(),t.qex(78,34),t.DNE(79,B,4,0,"th",26)(80,V,3,0,"td",27),t.bVm(),t.DNE(81,L,1,0,"tr",35)(82,U,1,0,"tr",36),t.k0s()(),t.j41(83,"div",37),t.nrm(84,"mat-divider",38),t.j41(85,"button",39),t.bIt("click",function(){return a.addNewItem()}),t.j41(86,"div",17),t.nrm(87,"i",40),t.EFF(88," Add new item "),t.k0s()()()(),t.j41(89,"div",21)(90,"div",41)(91,"div",0)(92,"div",42)(93,"div",43)(94,"mat-form-field",5)(95,"mat-label"),t.EFF(96,"Discount(%)"),t.k0s(),t.j41(97,"input",44),t.mxI("ngModelChange",function(d){return t.DH7(a.discountPercent,d)||(a.discountPercent=d),d}),t.k0s()()()(),t.j41(98,"div",42)(99,"div",43)(100,"mat-form-field",5)(101,"mat-label"),t.EFF(102,"Taxes(%)"),t.k0s(),t.j41(103,"input",44),t.mxI("ngModelChange",function(d){return t.DH7(a.taxPercent,d)||(a.taxPercent=d),d}),t.k0s()()()(),t.j41(104,"div",42)(105,"p",45),t.EFF(106,"Sub Total :"),t.k0s()(),t.j41(107,"div",42)(108,"p",46),t.EFF(109),t.k0s()(),t.j41(110,"div",42)(111,"p",47),t.EFF(112,"Discount :"),t.k0s()(),t.j41(113,"div",42)(114,"p",48),t.EFF(115),t.k0s()(),t.j41(116,"div",42)(117,"p",45),t.EFF(118,"Taxes :"),t.k0s()(),t.j41(119,"div",42)(120,"p",46),t.EFF(121),t.k0s()(),t.j41(122,"div",42)(123,"p",49),t.EFF(124,"Grand Total :"),t.k0s()(),t.j41(125,"div",42)(126,"p",46),t.EFF(127),t.k0s()()()()(),t.j41(128,"div",21)(129,"div")(130,"mat-form-field",5)(131,"mat-label"),t.EFF(132,"Note"),t.k0s(),t.nrm(133,"textarea",50),t.k0s()()(),t.j41(134,"div",21)(135,"div",51)(136,"div",52)(137,"div",53)(138,"mat-form-field",5)(139,"mat-label"),t.EFF(140,"Set Currency*"),t.k0s(),t.j41(141,"mat-select",54)(142,"mat-option",54),t.EFF(143,"USD (US Dollar)"),t.k0s(),t.j41(144,"mat-option",55),t.EFF(145,"INR (Rupes)"),t.k0s()()()()(),t.j41(146,"div",52)(147,"button",56),t.EFF(148,"Preview"),t.k0s(),t.j41(149,"button",56),t.EFF(150,"Save"),t.k0s(),t.j41(151,"button",57),t.EFF(152,"Create & Send"),t.k0s()()()()()()()()),2&o&&(t.R7$(2),t.Y8G("showHeader",!1),t.R7$(40),t.vxM(a.selectedAddress?42:43),t.R7$(12),t.vxM(a.newAddress?54:-1),t.R7$(5),t.Y8G("dataSource",a.dataSource),t.R7$(22),t.Y8G("matHeaderRowDef",a.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",a.displayedColumns),t.R7$(15),t.R50("ngModel",a.discountPercent),t.R7$(6),t.R50("ngModel",a.taxPercent),t.R7$(6),t.SpI("$",a.subTotal.toFixed(2)),t.R7$(6),t.SpI("$",a.discountAmount.toFixed(2)),t.R7$(6),t.SpI("$",a.taxAmount.toFixed(2)),t.R7$(6),t.SpI("$",a.grandTotal.toFixed(2)))},dependencies:[f.G,h.$z,v.q,E.fg,u.j,u.M,g.g,j.M,r.Zl,r.tL,r.ji,r.cC,r.YV,r.iL,r.KS,r.$R,r.YZ,r.NB,c.me,c.Q0,c.BC,c.vS,I.i],styles:[".h-100[_ngcontent-%COMP%]{height:calc(100% - 30px)}  .input-group .mat-mdc-form-field-subscript-wrapper{display:none!important}.invoice-total[_ngcontent-%COMP%]{margin-left:auto;width:100%;max-width:400px}"]})}return e})()}}]);