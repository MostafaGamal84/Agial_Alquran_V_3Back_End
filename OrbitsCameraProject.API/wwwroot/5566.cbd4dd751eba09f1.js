"use strict";(self.webpackChunkable_pro=self.webpackChunkable_pro||[]).push([[5566],{2754:(S,D,u)=>{u.d(D,{a:()=>_,w:()=>m});const m=[{value:"all",translationKey:"\u0643\u0644 \u0627\u0645\u0627\u0643\u0646 \u0627\u0644\u0627\u0642\u0627\u0645\u0629"},{value:"egyptian",translationKey:"\u0645\u0635\u0631\u064a\u064a\u0646"},{value:"arab",translationKey:"\u0639\u0631\u0628"},{value:"foreign",translationKey:"\u0627\u062c\u0627\u0646\u0628"}];function _(C){return!(!C||"all"===C)}},2986:(S,D,u)=>{u.d(D,{K:()=>w});var m=u(9330),_=u(8728),C=u(6354),y=u(2525),P=u(6848);let w=(()=>{class k{constructor(){this.http=(0,_.WQX)(m.Qq)}create(o){return this.http.post(`${y.c.apiUrl}/api/Circle/Create`,o)}update(o){return this.http.post(`${y.c.apiUrl}/api/Circle/Update`,o)}delete(o){const h=(new m.Nl).set("id",o.toString());return this.http.post(`${y.c.apiUrl}/api/Circle/Delete`,null,{params:h})}get(o){const h=(new m.Nl).set("id",o.toString());return this.http.get(`${y.c.apiUrl}/api/Circle/Get`,{params:h})}getAll(o,h,R){let i=new m.Nl;return void 0!==o.skipCount&&(i=i.set("SkipCount",o.skipCount.toString())),void 0!==o.maxResultCount&&(i=i.set("MaxResultCount",o.maxResultCount.toString())),o.searchTerm&&(i=i.set("SearchTerm",o.searchTerm)),o.filter&&(i=i.set("Filter",o.filter)),o.lang&&(i=i.set("Lang",o.lang)),o.sortingDirection&&(i=i.set("SortingDirection",o.sortingDirection)),o.sortBy&&(i=i.set("SortBy",o.sortBy)),null!=h&&(i=i.set("managerId",h.toString())),null!=R&&(i=i.set("teacherId",R.toString())),this.http.get(`${y.c.apiUrl}/api/Circle/GetResultsByFilter`,{params:i}).pipe((0,C.T)(b=>(0,P._)(b,{skipCount:o.skipCount})))}getUpcoming(o,h,R){let i=new m.Nl;return null!=o&&(i=i.set("managerId",o.toString())),null!=h&&(i=i.set("teacherId",h.toString())),null!=R&&(i=i.set("take",R.toString())),this.http.get(`${y.c.apiUrl}/api/Circle/Upcoming`,{params:i})}static#e=this.\u0275fac=function(h){return new(h||k)};static#t=this.\u0275prov=_.jDH({token:k,factory:k.\u0275fac,providedIn:"root"})}return k})()},5566:(S,D,u)=>{u.r(D),u.d(D,{OnlineDashboardComponent:()=>ae});var m=u(8728),_=u(2200),C=u(8132),y=u(6053),P=u(5617),w=u(2986),k=u(7509),c=u(5972),o=u(1227),h=u(8018),R=u(7753),i=u(9330),b=u(2525);let v=(()=>{class a{constructor(){this.http=(0,m.WQX)(i.Qq)}getOverview(t){let n=new i.Nl;t?.startDate&&(n=n.set("startDate",t.startDate)),t?.endDate&&(n=n.set("endDate",t.endDate)),t?.range&&(n=n.set("range",t.range));const r=n.keys().length?{params:n}:{};return this.http.get(`${b.c.apiUrl}/api/Dashboard/overview`,r)}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275prov=m.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var e=u(3664),$=u(6735);const T=(a,l)=>(null==l?null:l.id)??(null==l?null:l.name)??l,I=(a,l)=>l.key;function j(a,l){if(1&a&&(e.j41(0,"div",5)(1,"app-card",16)(2,"div",17),e.EFF(3),e.k0s()()()),2&a){const t=e.XpG();e.R7$(),e.Y8G("showHeader",!1)("padding",20),e.R7$(2),e.JRh(t.overviewError)}}function N(a,l){1&a&&(e.j41(0,"div",5)(1,"app-card",16)(2,"div",18),e.EFF(3),e.nI1(4,"translate"),e.k0s()()()),2&a&&(e.R7$(),e.Y8G("showHeader",!1)("padding",20),e.R7$(2),e.SpI(" ",e.bMT(4,3,"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645\u2026")," "))}function L(a,l){if(1&a&&(e.qex(0),e.j41(1,"a",22)(2,"app-card",23)(3,"div",24)(4,"div",25)(5,"p",26),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"div",27),e.EFF(9),e.k0s()(),e.j41(10,"div"),m.qSk(),e.j41(11,"svg",28),e.nrm(12,"use"),e.k0s()()()()(),e.bVm()),2&a){const t=e.XpG().$implicit;e.R7$(),e.Y8G("routerLink",t.link),e.R7$(),e.Y8G("showHeader",!1)("padding",18),e.R7$(4),e.JRh(e.bMT(7,10,t.title)),e.R7$(3),e.JRh(t.value),e.R7$(),e.HbH(e.VkB("metric-icon ",t.background)),e.R7$(2),e.BMQ("href",e.VkB("assets/fonts/custom-icon.svg",t.icon),null,"xlink")}}function E(a,l){if(1&a&&(e.j41(0,"app-card",29)(1,"div",24)(2,"div",25)(3,"p",26),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"div",27),e.EFF(7),e.k0s()(),e.j41(8,"div"),m.qSk(),e.j41(9,"svg",28),e.nrm(10,"use"),e.k0s()()()()),2&a){const t=e.XpG().$implicit;e.Y8G("showHeader",!1)("padding",18),e.R7$(4),e.JRh(e.bMT(5,9,t.title)),e.R7$(3),e.JRh(t.value),e.R7$(),e.HbH(e.VkB("metric-icon ",t.background)),e.R7$(2),e.BMQ("href",e.VkB("assets/fonts/custom-icon.svg",t.icon),null,"xlink")}}function p(a,l){if(1&a&&(e.j41(0,"div",20),e.DNE(1,L,13,12,"ng-container",21)(2,E,11,11,"ng-template",null,0,e.C5r),e.k0s()),2&a){const t=l.$implicit,n=e.sdS(3);e.R7$(),e.Y8G("ngIf",t.link)("ngIfElse",n)}}function A(a,l){if(1&a&&(e.j41(0,"div",5)(1,"h5",19),e.EFF(2),e.nI1(3,"translate"),e.k0s()(),e.Z7z(4,p,4,2,"div",20,I)),2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,1,"\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a \u0627\u0644\u0623\u062f\u0648\u0627\u0631")),e.R7$(2),e.Dyx(t.visibleRoleMetricCards)}}function O(a,l){if(1&a&&(e.j41(0,"div",20)(1,"app-card",30)(2,"div",24)(3,"div",25)(4,"p",26),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",27),e.EFF(8),e.k0s()(),e.j41(9,"div"),m.qSk(),e.j41(10,"svg",28),e.nrm(11,"use"),e.k0s()()()()()),2&a){const t=l.$implicit;e.R7$(),e.Y8G("showHeader",!1)("padding",18),e.R7$(4),e.JRh(e.bMT(6,9,t.title)),e.R7$(3),e.SpI(" ",t.value.replace("US$","\u062f\u0648\u0644\u0627\u0631").replace("USD","\u062f\u0648\u0644\u0627\u0631").trim()),e.R7$(),e.HbH(e.VkB("metric-icon ",t.background)),e.R7$(2),e.BMQ("href",e.VkB("assets/fonts/custom-icon.svg",t.icon),null,"xlink")}}function M(a,l){if(1&a&&(e.j41(0,"div",5)(1,"h5",19),e.EFF(2),e.nI1(3,"translate"),e.k0s()(),e.Z7z(4,O,12,11,"div",20,I)),2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,1,"\u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0627\u062a \u0627\u0644\u0645\u0627\u0644\u064a\u0629")),e.R7$(2),e.Dyx(t.financialMetricCards)}}function U(a,l){1&a&&(e.j41(0,"div",5)(1,"app-card",16)(2,"div",31),e.EFF(3),e.nI1(4,"translate"),e.k0s()()()),2&a&&(e.R7$(),e.Y8G("showHeader",!1)("padding",20),e.R7$(2),e.JRh(e.bMT(4,3,"\u0644\u0627 \u062a\u0648\u062c\u062f \u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a \u0644\u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0647\u0630\u0647 \u0627\u0644\u0645\u062f\u0629.")))}function H(a,l){if(1&a&&(e.j41(0,"span")(1,"strong"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.EFF(4),e.k0s()),2&a){const t=e.XpG(2);e.R7$(2),e.SpI("",e.bMT(3,2,"\u0627\u0644\u062f\u0648\u0631"),":"),e.R7$(2),e.SpI(" ",t.overviewRoleLabel)}}function B(a,l){1&a&&(e.j41(0,"span"),e.EFF(1," \xb7 "),e.k0s())}function K(a,l){if(1&a&&(e.j41(0,"span")(1,"strong"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.EFF(4),e.k0s()),2&a){const t=e.XpG(2);e.R7$(2),e.SpI("",e.bMT(3,2,"\u0627\u0644\u0645\u062f\u0629"),":"),e.R7$(2),e.SpI(" ",t.overviewRangeDescription)}}function V(a,l){if(1&a&&(e.j41(0,"div",5)(1,"div",32),e.DNE(2,H,5,4,"span",33)(3,B,2,0,"span",33)(4,K,5,4,"span",33),e.k0s()()),2&a){const t=e.XpG();e.R7$(2),e.Y8G("ngIf",t.overviewRoleLabel),e.R7$(),e.Y8G("ngIf",t.overviewRoleLabel&&t.overviewRangeDescription),e.R7$(),e.Y8G("ngIf",t.overviewRangeDescription)}}function Q(a,l){if(1&a&&(e.j41(0,"div",5),e.nrm(1,"app-statistics-chart",34),e.nI1(2,"translate"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.Y8G("height",260)("chartTitle",e.bMT(2,6,"\u062a\u062d\u0644\u064a\u0644 \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0627\u062a \u0627\u0644\u0645\u0627\u0644\u064a\u0629"))("chartSubtitle",t.overviewRangeDescription)("series",t.financialChartSeries)("categories",t.financialChartCategories)("showRangeSelector",!1)}}function W(a,l){1&a&&(e.j41(0,"div",5)(1,"app-card",16)(2,"div",31),e.EFF(3),e.nI1(4,"translate"),e.k0s()()()),2&a&&(e.R7$(),e.Y8G("showHeader",!1)("padding",24),e.R7$(2),e.JRh(e.bMT(4,3,"\u0644\u0627 \u062a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a \u0645\u0627\u0644\u064a\u0629 \u0645\u062a\u0627\u062d\u0629 \u0644\u0647\u0630\u0647 \u0627\u0644\u0645\u062f\u0629.")))}function Y(a,l){if(1&a&&(e.j41(0,"div",35),e.nrm(1,"app-statistics-chart",34),e.nI1(2,"translate"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.Y8G("height",300)("chartTitle",e.bMT(2,6,"\u0627\u0644\u0625\u064a\u0631\u0627\u062f\u0627\u062a \u0627\u0644\u0634\u0647\u0631\u064a\u0629"))("chartSubtitle",t.overviewRangeDescription)("series",t.monthlyRevenueSeries)("categories",t.monthlyRevenueCategories)("showRangeSelector",!1)}}function J(a,l){1&a&&(e.j41(0,"div",35)(1,"app-card",16)(2,"div",31),e.EFF(3),e.nI1(4,"translate"),e.k0s()()()),2&a&&(e.R7$(),e.Y8G("showHeader",!1)("padding",24),e.R7$(2),e.JRh(e.bMT(4,3,"\u0644\u0627 \u062a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a \u0644\u0644\u0625\u064a\u0631\u0627\u062f\u0627\u062a \u0627\u0644\u0634\u0647\u0631\u064a\u0629 \u0641\u064a \u0647\u0630\u0647 \u0627\u0644\u0645\u062f\u0629.")))}function z(a,l){1&a&&(e.j41(0,"div",15)(1,"div",36),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&a&&(e.R7$(2),e.JRh(e.bMT(3,1,"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u062d\u0644\u0642\u0627\u062a \u0627\u0644\u0642\u0627\u062f\u0645\u0629\u2026")))}function X(a,l){1&a&&(e.j41(0,"div",15)(1,"div",36),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&a&&(e.R7$(2),e.JRh(e.bMT(3,1,"\u0644\u0627 \u062a\u0648\u062c\u062f \u062d\u0644\u0642\u0627\u062a \u0642\u0627\u062f\u0645\u0629")))}function Z(a,l){if(1&a&&(e.qex(0),e.j41(1,"span",43),e.EFF(2),e.k0s(),e.bVm()),2&a){const t=l.ngIf;e.R7$(2),e.JRh(t)}}function q(a,l){1&a&&e.EFF(0,"\u2014")}function ee(a,l){if(1&a&&(e.j41(0,"div",15)(1,"div",10)(2,"div",37)(3,"div",38)(4,"div",39),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",40),e.EFF(8),e.nI1(9,"translate"),e.k0s()()()(),e.j41(10,"div",41),e.nI1(11,"translate"),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"div",42),e.nI1(15,"translate"),e.EFF(16),e.k0s(),e.j41(17,"div",13),e.nI1(18,"translate"),e.DNE(19,Z,3,1,"ng-container",21)(20,q,1,0,"ng-template",null,1,e.C5r),e.k0s()()),2&a){const t=l.$implicit,n=e.sdS(21),r=e.XpG();e.R7$(5),e.JRh(t.name||e.bMT(6,9,"\u062d\u0644\u0642\u0629 \u0628\u062f\u0648\u0646 \u0627\u0633\u0645")),e.R7$(3),e.JRh(r.getUpcomingScheduleLabel(t)||e.bMT(9,11,"\u0627\u0644\u062c\u062f\u0648\u0644 \u063a\u064a\u0631 \u0645\u062d\u062f\u062f")),e.R7$(2),e.BMQ("data-label",e.bMT(11,13,"\u0627\u0644\u062c\u062f\u0648\u0644")),e.R7$(2),e.SpI(" ",r.getUpcomingScheduleLabel(t)||e.bMT(13,15,"\u0627\u0644\u062c\u062f\u0648\u0644 \u063a\u064a\u0631 \u0645\u062d\u062f\u062f")," "),e.R7$(2),e.BMQ("data-label",e.bMT(15,17,"\u0627\u0644\u0645\u062f\u064a\u0631\u0648\u0646")),e.R7$(2),e.SpI(" ",r.getUpcomingManagersLabel(t)||"\u2014"," "),e.R7$(),e.BMQ("data-label",e.bMT(18,19,"\u0627\u0644\u0645\u0639\u0644\u0645")),e.R7$(2),e.Y8G("ngIf",r.getUpcomingTeacherName(t))("ngIfElse",n)}}function te(a,l){if(1&a&&(e.j41(0,"tr")(1,"td",47),e.EFF(2),e.k0s(),e.j41(3,"td",48),e.EFF(4),e.k0s(),e.j41(5,"td",49),e.EFF(6),e.k0s(),e.j41(7,"td")(8,"span"),e.EFF(9),e.k0s()()()),2&a){const t=l.$implicit;e.R7$(2),e.JRh(t.student),e.R7$(2),e.JRh(t.amount),e.R7$(2),e.JRh(t.date),e.R7$(2),e.HbH(e.VkB("status-pill ",t.statusClass)),e.R7$(),e.JRh(t.status)}}function ne(a,l){if(1&a&&(e.j41(0,"div",5)(1,"app-card",44),e.nI1(2,"translate"),e.j41(3,"div",45)(4,"table",46)(5,"thead")(6,"tr")(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"translate"),e.k0s()()(),e.j41(19,"tbody"),e.Z7z(20,te,10,7,"tr",null,I),e.k0s()()()()()),2&a){const t=e.XpG();e.R7$(),e.Y8G("cardTitle",e.bMT(2,5,"\u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0627\u062a \u0627\u0644\u0623\u062e\u064a\u0631\u0629")),e.R7$(7),e.JRh(e.bMT(9,7,"\u0627\u0644\u0637\u0627\u0644\u0628")),e.R7$(3),e.JRh(e.bMT(12,9,"\u0627\u0644\u0645\u0628\u0644\u063a")),e.R7$(3),e.JRh(e.bMT(15,11,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e")),e.R7$(3),e.JRh(e.bMT(18,13,"\u0627\u0644\u062d\u0627\u0644\u0629")),e.R7$(3),e.Dyx(t.transactionsView)}}function re(a,l){1&a&&(e.j41(0,"div",5)(1,"app-card",16)(2,"div",31),e.EFF(3),e.nI1(4,"translate"),e.k0s()()()),2&a&&(e.R7$(),e.Y8G("showHeader",!1)("padding",20),e.R7$(2),e.JRh(e.bMT(4,3,"\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u0639\u0627\u0645\u0644\u0627\u062a \u062d\u062f\u064a\u062b\u0629 \u0644\u0647\u0630\u0647 \u0627\u0644\u0645\u062f\u0629.")))}let ae=(()=>{class a{constructor(){this.circleService=(0,m.WQX)(w.K),this.toast=(0,m.WQX)(k.f),this.translate=(0,m.WQX)(h.c$),this.dashboardOverview=(0,m.WQX)(v),this.roleTranslations={admin:"\u0645\u0633\u0624\u0648\u0644",manager:"\u0645\u062f\u064a\u0631",branchleader:"\u0642\u0627\u0626\u062f \u0641\u0631\u0639",branch_leader:"\u0642\u0627\u0626\u062f \u0641\u0631\u0639",student:"\u0637\u0627\u0644\u0628",teacher:"\u0645\u0639\u0644\u0645"},this.overviewLoading=!1,this.overviewLoaded=!1,this.overviewError=null,this.overviewRoleLabel=null,this.overviewRangeDescription=null,this.isTeacher=!1,this.summaryCards=[],this.roleMetricCards=[],this.financialMetricCards=[],this.transactionsView=[],this.monthlyRevenueHasData=!1,this.financialChartHasData=!1,this.upcomingCircles=[],this.upcomingLoading=!1}get pageLoading(){return this.overviewLoading||this.upcomingLoading}ngOnInit(){this.loadDashboardOverview(),this.loadUpcomingCircles()}loadDashboardOverview(){this.overviewLoading=!0,this.overviewError=null,this.dashboardOverview.getOverview().subscribe({next:t=>{if(this.overviewLoading=!1,!t?.isSuccess){this.overviewLoaded=!1,this.resetOverviewData();const n=this.extractFirstError(t?.errors)||this.translate.instant("\u062a\u0639\u0630\u0631 \u062a\u062d\u0645\u064a\u0644 \u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645");return this.overviewError=n,void(n&&this.toast.error(n))}this.overviewLoaded=!0,this.applyOverviewData(t.data)},error:()=>{this.overviewLoading=!1,this.overviewLoaded=!1,this.resetOverviewData();const t=this.translate.instant("\u062a\u0639\u0630\u0631 \u062a\u062d\u0645\u064a\u0644 \u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645");this.overviewError=t,this.toast.error(t)}})}resetOverviewData(){this.summaryCards=[],this.roleMetricCards=[],this.financialMetricCards=[],this.transactionsView=[],this.monthlyRevenueSeries=void 0,this.monthlyRevenueCategories=void 0,this.monthlyRevenueHasData=!1,this.financialChartSeries=void 0,this.financialChartCategories=void 0,this.financialChartHasData=!1,this.overviewRoleLabel=null,this.overviewRangeDescription=null,this.isTeacher=!1}applyOverviewData(t){if(!t)return void this.resetOverviewData();this.isTeacher=this.isTeacherRole(t.role),this.overviewRoleLabel=this.formatRole(t.role),this.overviewRangeDescription=this.buildRangeDescription(t.rangeStart,t.rangeEnd,t.rangeLabel),this.summaryCards=this.buildSummaryCards(t.metrics),this.roleMetricCards=this.buildRoleMetricCards(t.metrics),this.financialMetricCards=this.buildFinancialMetricCards(t.metrics);const n=t.charts;this.transactionsView=this.buildTransactionsView(n?.transactions),this.buildMonthlyRevenueChart(n?.monthlyRevenue),this.buildFinancialChart(t.metrics)}get visibleRoleMetricCards(){if(!this.isTeacher)return this.roleMetricCards;const t=new Set(["studentsCount","circlesCount","reportsCount"]);return this.roleMetricCards.filter(n=>t.has(n.key))}buildSummaryCards(t){return[{key:"earnings",title:"\u0643\u0644 \u0627\u0644\u0623\u0631\u0628\u0627\u062d",icon:"#custom-card",background:"bg-warn-50 text-warn-500",defaultTrendClass:"text-success-500",valueType:"currency",percentKey:"earningsPercentChange",currencyKeys:["earningsCurrencyCode","currencyCode"]},{key:"newStudents",title:"\u0627\u0644\u0637\u0644\u0627\u0628 \u0627\u0644\u062c\u062f\u062f",icon:"#custom-profile-2user-outline",background:"bg-primary-50 text-primary-500",defaultTrendClass:"text-success-500",valueType:"number",percentKey:"newStudentsPercentChange"},{key:"circleReports",title:"\u062a\u0642\u0627\u0631\u064a\u0631 \u0627\u0644\u062d\u0644\u0642\u0627\u062a",icon:"#custom-eye",background:"bg-success-50 text-success-500",defaultTrendClass:"text-success-500",valueType:"number",percentKey:"circleReportsPercentChange"},{key:"netIncome",title:"\u0635\u0627\u0641\u064a \u0627\u0644\u062f\u062e\u0644",icon:"#book",background:"bg-warning-50 text-warning-500",defaultTrendClass:"text-success-500",valueType:"currency",percentKey:"netIncomePercentChange",currencyKeys:["netIncomeCurrencyCode","currencyCode"]}].map(r=>{const s=t?t[r.key]:void 0,g=this.pickCurrencyCode(t,r.currencyKeys),d=this.formatMetricValue(s,r.valueType,g),f=r.percentKey,x=f?t?.[f]:void 0,F=this.extractPercentageValue(x),G=F?this.resolvePercentageClass(x,r.defaultTrendClass):void 0;return{key:r.key,icon:r.icon,background:r.background,title:r.title,value:d,percentage:F,percentageClass:G}})}buildRoleMetricCards(t){return[{key:"branchManagersCount",label:"\u0645\u062f\u064a\u0631 \u0627\u0644\u0641\u0631\u0648\u0639",icon:"#custom-layer",background:"bg-primary-100 text-primary-600",link:"/online-course/branch-manager/list"},{key:"supervisorsCount",label:"\u0627\u0644\u0645\u0634\u0631\u0641\u0648\u0646",icon:"#custom-user-tick",background:"bg-success-100 text-success-600",link:"/online-course/manager/list"},{key:"teachersCount",label:"\u0627\u0644\u0645\u0639\u0644\u0645\u0648\u0646",icon:"#custom-teacher",background:"bg-warning-100 text-warning-700",link:"/online-course/teacher/list"},{key:"studentsCount",label:"\u0627\u0644\u0637\u0644\u0627\u0628",icon:"#custom-profile-2user-outline",background:"bg-info-100 text-info-700",link:"/online-course/student/list"},{key:"circlesCount",label:"\u0627\u0644\u062d\u0644\u0642\u0627\u062a",icon:"#custom-status-up",background:"bg-secondary-100 text-secondary-700",link:"/online-course/courses/view"},{key:"reportsCount",label:"\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631",icon:"#custom-document-text",background:"bg-warn-100 text-warn-700",link:"/online-course/report/view"}].map(r=>{const s=this.coerceNumber(t?t[r.key]:void 0);return null===s?null:{key:r.key,title:r.label,icon:r.icon,background:r.background,value:this.formatNumber(s),link:r.link}}).filter(r=>!!r&&!!r.link)}buildFinancialMetricCards(t){return[{key:"outgoing",label:"\u0627\u0644\u0635\u0627\u062f\u0631",icon:"#custom-wallet-2",background:"bg-secondary-100 text-secondary-700",currencyKeys:["outgoingCurrencyCode","currencyCode"]},{key:"incomingEgp",label:"\u0627\u0644\u0648\u0627\u0631\u062f (\u0627\u0644\u062c\u0646\u064a\u0647)",icon:"#custom-dollar-square",background:"bg-primary-50 text-primary-600",currencyKeys:["incomingEgpCurrencyCode"],fallbackCurrency:"EGP"},{key:"incomingSar",label:"\u0627\u0644\u0648\u0627\u0631\u062f (\u0627\u0644\u0631\u064a\u0627\u0644)",icon:"#custom-global",background:"bg-success-50 text-success-600",currencyKeys:["incomingSarCurrencyCode"],fallbackCurrency:"SAR"},{key:"incomingUsd",label:"\u0627\u0644\u0648\u0627\u0631\u062f (\u0627\u0644\u062f\u0648\u0644\u0627\u0631)",icon:"#custom-dollar-circle",background:"bg-warning-50 text-warning-600",currencyKeys:["incomingUsdCurrencyCode"],fallbackCurrency:"USD"}].map(r=>{const s=this.pickCurrencyCode(t,r.currencyKeys,r.fallbackCurrency);return{key:r.key,title:r.label,icon:r.icon,background:r.background,value:this.formatMetricValue(t?t[r.key]:void 0,"currency",s)}})}buildTransactionsView(t){return Array.isArray(t)?t.map((n,r)=>{const s=n?.id??r,g="string"==typeof s?s:String(s??r),d=this.coerceNumber(n?.amount),x=this.formatCurrency(d,("string"==typeof n?.currency?n.currency:void 0)??void 0),F=this.formatTransactionDate(n?.date),G="string"==typeof n?.status?n.status:void 0,ie=this.formatTransactionStatus(G);return{key:g,student:this.formatTransactionStudent(n?.student,n?.id,r),amount:x,date:F,status:ie,statusClass:this.getStatusClass(G)}}):[]}buildMonthlyRevenueChart(t){const n=Array.isArray(t)?t:[],r=n.map(d=>{const f="string"==typeof d?.month?d.month.trim():"";return this.toArabicMonthLabel(f)}),s=[{key:"earnings",nameKey:"\u0627\u0644\u0623\u0631\u0628\u0627\u062d"},{key:"teacherPayout",nameKey:"\u0645\u062f\u0641\u0648\u0639\u0627\u062a \u0627\u0644\u0645\u0639\u0644\u0645\u064a\u0646"},{key:"managerPayout",nameKey:"\u0645\u062f\u0641\u0648\u0639\u0627\u062a \u0627\u0644\u0645\u062f\u064a\u0631\u064a\u0646"},{key:"netIncome",nameKey:"\u0635\u0627\u0641\u064a \u0627\u0644\u062f\u062e\u0644"}],g=[];for(const d of s){if(!n.some(F=>null!==this.coerceNumber(F?.[d.key])))continue;const x=n.map(F=>this.coerceNumber(F?.[d.key])??0);g.push({name:this.translate.instant(d.nameKey),data:x})}this.monthlyRevenueSeries=g.length?g:void 0,this.monthlyRevenueCategories=r.some(d=>!!d)?r:void 0,this.monthlyRevenueHasData=g.length>0}toArabicMonthLabel(t){const n=(t??"").trim();if(!n)return"";const r=[n,`${n}-01`,`${n}-01-01`];for(const d of r){const f=new Date(d);if(!Number.isNaN(f.getTime()))return new Intl.DateTimeFormat("ar",{month:"long"}).format(f)}return{jan:"\u064a\u0646\u0627\u064a\u0631",january:"\u064a\u0646\u0627\u064a\u0631",feb:"\u0641\u0628\u0631\u0627\u064a\u0631",february:"\u0641\u0628\u0631\u0627\u064a\u0631",mar:"\u0645\u0627\u0631\u0633",march:"\u0645\u0627\u0631\u0633",apr:"\u0623\u0628\u0631\u064a\u0644",april:"\u0623\u0628\u0631\u064a\u0644",may:"\u0645\u0627\u064a\u0648",jun:"\u064a\u0648\u0646\u064a\u0648",june:"\u064a\u0648\u0646\u064a\u0648",jul:"\u064a\u0648\u0644\u064a\u0648",july:"\u064a\u0648\u0644\u064a\u0648",aug:"\u0623\u063a\u0633\u0637\u0633",august:"\u0623\u063a\u0633\u0637\u0633",sep:"\u0633\u0628\u062a\u0645\u0628\u0631",sept:"\u0633\u0628\u062a\u0645\u0628\u0631",september:"\u0633\u0628\u062a\u0645\u0628\u0631",oct:"\u0623\u0643\u062a\u0648\u0628\u0631",october:"\u0623\u0643\u062a\u0648\u0628\u0631",nov:"\u0646\u0648\u0641\u0645\u0628\u0631",november:"\u0646\u0648\u0641\u0645\u0628\u0631",dec:"\u062f\u064a\u0633\u0645\u0628\u0631",december:"\u062f\u064a\u0633\u0645\u0628\u0631"}[n.toLowerCase()]??n}buildFinancialChart(t){const n=[{key:"outgoing",label:"\u0627\u0644\u0635\u0627\u062f\u0631",currencyKeys:["outgoingCurrencyCode","currencyCode"],fallback:"EGP"},{key:"incomingEgp",label:"\u0627\u0644\u0648\u0627\u0631\u062f (\u0627\u0644\u062c\u0646\u064a\u0647)",currencyKeys:["incomingEgpCurrencyCode"],fallback:"EGP"},{key:"incomingSar",label:"\u0627\u0644\u0648\u0627\u0631\u062f (\u0627\u0644\u0631\u064a\u0627\u0644)",currencyKeys:["incomingSarCurrencyCode"],fallback:"SAR"},{key:"incomingUsd",label:"\u0627\u0644\u0648\u0627\u0631\u062f (\u0627\u0644\u062f\u0648\u0644\u0627\u0631)",currencyKeys:["incomingUsdCurrencyCode"],fallback:"USD"}],r=[],s=[];let g=!1;for(const d of n){const f=this.coerceNumber(t?t[d.key]:void 0);this.pickCurrencyCode(t,d.currencyKeys,d.fallback),s.push(d.label),r.push(f??0),null!==f&&(g=!0)}this.financialChartHasData=g,this.financialChartCategories=g?s:void 0,this.financialChartSeries=g?[{name:"\u0627\u0644\u0642\u064a\u0645\u0629",data:r}]:void 0}extractFirstError(t){if(!Array.isArray(t))return null;for(const n of t)if(n&&"object"==typeof n&&"message"in n){const r=n.message;if("string"==typeof r&&r.trim())return r.trim()}return null}pickCurrencyCode(t,n=[],r){if(!t)return r;for(const g of n){const d=t[g];if("string"==typeof d&&d.trim())return d.trim()}const s=t.currencyCode;return"string"==typeof s&&s.trim()?s.trim():r}formatMetricValue(t,n,r){if("string"==typeof t&&t.trim())return t.trim();const s=this.coerceNumber(t);return null===s?"\u2014":"currency"===n?this.formatCurrency(s,r??void 0):this.formatNumber(s)}extractPercentageValue(t){if("string"==typeof t)return t.trim()||null;const n=this.coerceNumber(t);if(null===n)return null;const r=n>0?"+":n<0?"-":"",s=Math.abs(n);return`${r}${s.toFixed(s>=100?0:1)}%`}resolvePercentageClass(t,n){if("number"==typeof t)return t>0?"text-success-500":t<0?"text-warn-500":"text-muted";if("string"==typeof t){const r=t.trim();return r?/^-/.test(r)?"text-warn-500":/^[+-]?0+(?:\.0+)?%?$/.test(r)?"text-muted":"text-success-500":n}return n}coerceNumber(t){if("number"==typeof t&&Number.isFinite(t))return t;if("string"==typeof t){const n=t.trim();if(!n)return null;const r=Number(n);if(Number.isFinite(r))return r}return null}formatCurrency(t,n){if(null===t)return"\u2014";if(n)try{return new Intl.NumberFormat("ar",{style:"currency",currency:n,maximumFractionDigits:2,minimumFractionDigits:t%1==0?0:2}).format(t)}catch{}return new Intl.NumberFormat("ar",{minimumFractionDigits:t%1==0?0:2,maximumFractionDigits:t%1==0?0:2}).format(t)}formatNumber(t){const n=Math.abs(t%1)>0;return new Intl.NumberFormat("ar",{maximumFractionDigits:n?2:0,minimumFractionDigits:0}).format(t)}buildRangeDescription(t,n,r){const s=[];if("string"==typeof r&&r.trim()){const x=this.normalizeRangeLabel(r.trim());x&&s.push(x)}const f=[this.formatDateOnly(t),this.formatDateOnly(n)].filter(x=>!!x);return f.length&&s.push(f.join(" \u2013 ")),s.length?s.join(" \xb7 "):null}normalizeRangeLabel(t){const n=t.trim();if(!n)return null;const r=n.toLowerCase().replace(/\s+/g," ");return["last30d","last 30 days","last 30 day","last30days","last30 day"].includes(r)?this.translate.instant("\u0622\u062e\u0631 30 \u064a\u0648\u0645"):n}formatDateOnly(t){if(!t)return null;const n=new Date(t);return Number.isNaN(n.getTime())?null:new Intl.DateTimeFormat("ar",{year:"numeric",month:"short",day:"2-digit"}).format(n)}formatTransactionDate(t){if(!t)return"\u2014";const n=new Date(t);return Number.isNaN(n.getTime())?"\u2014":new Intl.DateTimeFormat("ar",{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(n)}formatTransactionStatus(t){switch("string"==typeof t?t.trim().toLowerCase():""){case"completed":return this.translate.instant("Paid");case"pending":return this.translate.instant("Pending");case"failed":return this.translate.instant("Failed");case"cancelled":case"canceled":return this.translate.instant("Cancelled");default:return this.translate.instant("Unknown Status")}}formatTransactionStudent(t,n,r){return"string"==typeof t&&t.trim()?t.trim():this.translate.instant("\u0637\u0627\u0644\u0628 \u0631\u0642\u0645 {{id}}","number"==typeof n||"string"==typeof n?{id:n}:{id:r+1})}getStatusClass(t){const n="string"==typeof t?t.trim().toLowerCase():"";return"completed"===n?"status-pill--success":"pending"===n?"status-pill--warning":"failed"===n||"cancelled"===n||"canceled"===n?"status-pill--danger":"status-pill--muted"}toTitleCase(t){return t.toLowerCase().split(/\s+/).filter(n=>!!n).map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}formatRole(t){if("string"!=typeof t)return null;const n=t.trim();if(!n)return null;const r=n.replace(/\s+|_/g,"").toLowerCase();if(r in this.roleTranslations)return this.roleTranslations[r];const s=n.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/_/g," ").replace(/\s+/g," ").trim();return this.toTitleCase(s)}isTeacherRole(t){return"string"==typeof t&&"teacher"===t.trim().replace(/\s+|_/g,"").toLowerCase()}loadUpcomingCircles(t=4){this.upcomingLoading=!0,this.circleService.getUpcoming(void 0,void 0,t).subscribe({next:n=>{this.upcomingLoading=!1,n.isSuccess?this.upcomingCircles=n.data??[]:(this.upcomingCircles=[],n.errors?.length&&n.errors.forEach(r=>this.toast.error(r.message)))},error:()=>{this.upcomingLoading=!1,this.upcomingCircles=[],this.toast.error(this.translate.instant("\u062a\u0639\u0630\u0631 \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u062f\u0648\u0631\u0627\u062a \u0627\u0644\u0642\u0627\u062f\u0645\u0629"))}})}getUpcomingScheduleLabel(t){const n=this.resolveUpcomingPrimaryDay(t),r=t.nextDayName??(null!=t.nextDayId?(0,c.Lv)(t.nextDayId):n?(0,c.Lv)(n.dayId):"");let s="";if(t.nextOccurrenceDate){const f=new Date(t.nextOccurrenceDate);Number.isNaN(f.getTime())||(s=f.toLocaleDateString("ar"))}return[r,s,(0,o.UR)(t.startTime??n?.time)].map(f=>"string"==typeof f?f.trim():"").filter(f=>!!f).join(" \u2022 ")}getUpcomingTeacherName(t){const n=t.teacher;if(n&&"object"==typeof n){if(n.fullName)return n.fullName;if(n.name)return n.name}return t.teacherName?t.teacherName:null!=t.teacherId?this.translate.instant("\u0645\u0639\u0644\u0645 \u0631\u0642\u0645 {{id}}",{id:t.teacherId}):""}getCircleInitials(t){return t&&(t.split(/\s+/).filter(s=>!!s).slice(0,2).map(s=>s.charAt(0)).join("").toUpperCase()||t.charAt(0).toUpperCase())||"\u062d"}getUpcomingManagersLabel(t){const n=t.managers;return n&&n.length?n.map(s=>{if(!s)return"";const g=s.manager;if("string"==typeof g)return g;if(g&&"object"==typeof g){if(g.fullName)return g.fullName;if(g.name)return g.name}return s.managerName?s.managerName:null!=s.managerId?`#${s.managerId}`:""}).filter(s=>!!s).join("\u060c "):""}resolveUpcomingPrimaryDay(t){if(t&&Array.isArray(t.days))return t.days.find(n=>!!n)??void 0}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-online-dashboard"]],decls:35,vars:31,consts:[["staticRoleCard",""],["teacherPlaceholder",""],[3,"isLoading"],[1,"row"],["class","col-12",4,"ngIf"],[1,"col-12"],["class","col-lg-7 col-md-12",4,"ngIf"],["cardClass","upcoming-course",3,"cardTitle","padding"],[1,"upcoming-table"],[1,"upcoming-row","upcoming-header"],[1,"col-course"],[1,"col-schedule"],[1,"col-managers"],[1,"col-teacher"],["class","upcoming-row",4,"ngIf"],[1,"upcoming-row"],[3,"showHeader","padding"],[1,"text-warn-500"],[1,"flex","align-item-center","justify-content-center","text-muted"],[1,"section-title"],[1,"col-lg-3","col-md-6"],[4,"ngIf","ngIfElse"],[1,"role-metric-link",3,"routerLink"],["cardClass","role-metric-card role-metric-card--clickable",3,"showHeader","padding"],[1,"flex","align-item-center","justify-content-between"],[1,"flex-grow-1"],[1,"m-b-5","f-w-600","text-muted"],[1,"f-18","f-w-700"],[1,"pc-icon"],["cardClass","role-metric-card",3,"showHeader","padding"],["cardClass","role-metric-card finance-card",3,"showHeader","padding"],[1,"text-muted"],[1,"text-muted","f-12","m-b-20"],[4,"ngIf"],[3,"height","chartTitle","chartSubtitle","series","categories","showRangeSelector"],[1,"col-lg-7","col-md-12"],[1,"col-full"],[1,"course-info"],[1,"course-text"],[1,"course-name"],[1,"course-meta"],[1,"col-schedule","text-muted"],[1,"col-managers","text-muted"],[1,"teacher-pill"],["padding","0",3,"cardTitle"],[1,"table-responsive","transactions-table"],[1,"table","table-hover","m-b-0"],[1,"student-cell"],[1,"amount-cell"],[1,"date-cell"]],template:function(n,r){1&n&&(e.j41(0,"app-loading-overlay",2)(1,"div",3),e.DNE(2,j,4,3,"div",4)(3,N,5,5,"div",4),e.nVh(4,A,6,3),e.nVh(5,M,6,3),e.nVh(6,U,5,5,"div",5),e.DNE(7,V,5,3,"div",4)(8,Q,3,8,"div",4)(9,W,5,5,"div",4)(10,Y,3,8,"div",6)(11,J,5,5,"div",6),e.j41(12,"div",5)(13,"app-card",7),e.nI1(14,"translate"),e.j41(15,"div",8)(16,"div",9)(17,"div",10),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"div",11),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"div",12),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.j41(26,"div",13),e.EFF(27),e.nI1(28,"translate"),e.k0s()(),e.DNE(29,z,4,3,"div",14)(30,X,4,3,"div",14),e.Z7z(31,ee,22,21,"div",15,T),e.k0s()()(),e.DNE(33,ne,22,15,"div",4)(34,re,5,5,"div",4),e.k0s()()),2&n&&(e.Y8G("isLoading",r.pageLoading),e.R7$(2),e.Y8G("ngIf",r.overviewError),e.R7$(),e.Y8G("ngIf",r.overviewLoading),e.R7$(),e.vxM(!r.overviewLoading&&r.visibleRoleMetricCards.length?4:-1),e.R7$(),e.vxM(r.isTeacher||r.overviewLoading||!r.financialMetricCards.length?-1:5),e.R7$(),e.vxM(r.isTeacher||r.overviewLoading||r.summaryCards.length||!r.overviewLoaded?-1:6),e.R7$(),e.Y8G("ngIf",!r.isTeacher&&r.overviewLoaded&&(r.overviewRoleLabel||r.overviewRangeDescription)),e.R7$(),e.Y8G("ngIf",!r.isTeacher&&r.financialChartHasData),e.R7$(),e.Y8G("ngIf",!r.isTeacher&&!r.financialChartHasData&&r.financialMetricCards.length&&r.overviewLoaded),e.R7$(),e.Y8G("ngIf",!r.isTeacher&&r.monthlyRevenueHasData),e.R7$(),e.Y8G("ngIf",!r.isTeacher&&!r.monthlyRevenueHasData&&r.overviewLoaded),e.R7$(2),e.Y8G("cardTitle",e.bMT(14,21,"\u0627\u0644\u062d\u0635\u0635  \u0627\u0644\u0642\u0627\u062f\u0645\u0629"))("padding",0),e.R7$(5),e.JRh(e.bMT(19,23,"\u0627\u0644\u062d\u0644\u0642\u0629")),e.R7$(3),e.JRh(e.bMT(22,25,"\u0627\u0644\u062c\u062f\u0648\u0644")),e.R7$(3),e.JRh(e.bMT(25,27,"\u0627\u0644\u0645\u062f\u064a\u0631\u0648\u0646")),e.R7$(3),e.JRh(e.bMT(28,29,"\u0627\u0644\u0645\u0639\u0644\u0645")),e.R7$(2),e.Y8G("ngIf",r.upcomingLoading),e.R7$(),e.Y8G("ngIf",!r.upcomingLoading&&!r.upcomingCircles.length),e.R7$(),e.Dyx(r.upcomingCircles),e.R7$(2),e.Y8G("ngIf",!r.isTeacher&&r.transactionsView.length),e.R7$(),e.Y8G("ngIf",!r.isTeacher&&r.overviewLoaded&&!r.transactionsView.length))},dependencies:[y.G,_.bT,$.i,h.D9,_.MD,C.iI,C.Wk,P.F,R.q],styles:[".upcoming-course .upcoming-table{width:100%}  .upcoming-course .upcoming-row{display:grid;grid-template-columns:1.6fr 1.1fr 1.1fr .9fr;align-items:center;gap:12px;padding:14px 18px;border-bottom:1px solid var(--accent-200)}  .upcoming-course .upcoming-row:last-child{border-bottom:none}  .upcoming-course .upcoming-row.upcoming-header{background:var(--accent-50);color:var(--pc-font-muted);font-weight:700;border-bottom:1px solid var(--accent-200);text-transform:none}  .upcoming-course .upcoming-row .col-full{grid-column:1/-1;color:var(--pc-font-muted);text-align:center;font-weight:600}  .upcoming-course .upcoming-row .col-course .course-info{display:inline-flex;align-items:center;gap:10px}  .upcoming-course .upcoming-row .col-course .course-info .avatar{box-shadow:0 2px 6px #0000000f}  .upcoming-course .upcoming-row .col-course .course-info .course-text{display:flex;flex-direction:column;gap:4px}  .upcoming-course .upcoming-row .col-course .course-info .course-text .course-name{font-weight:700;color:var(--pc-font-dark);line-height:1.2}  .upcoming-course .upcoming-row .col-course .course-info .course-text .course-meta{color:var(--pc-font-muted);font-size:12px}  .upcoming-course .upcoming-row .col-schedule,   .upcoming-course .upcoming-row .col-managers{color:var(--pc-font-muted);font-weight:600}  .upcoming-course .upcoming-row .col-teacher{display:flex;align-items:center}  .upcoming-course .upcoming-row .col-teacher .teacher-pill{display:inline-flex;align-items:center;padding:6px 12px;border-radius:999px;background:var(--primary-50);color:var(--primary-600);font-weight:700;font-size:12px}@media (max-width: 768px){  .upcoming-course .upcoming-row{grid-template-columns:1fr;align-items:flex-start;gap:10px}  .upcoming-course .upcoming-row.upcoming-header{display:none}  .upcoming-course .upcoming-row:not(.upcoming-header){padding:16px}  .upcoming-course .col-course .course-info{width:100%;align-items:flex-start}  .upcoming-course .col-course .course-info .course-text .course-name{font-size:14px}  .upcoming-course .col-schedule,   .upcoming-course .col-managers,   .upcoming-course .col-teacher{width:100%;display:flex;align-items:center;justify-content:space-between;padding-top:8px;border-top:1px dashed var(--accent-100)}  .upcoming-course .col-schedule:before,   .upcoming-course .col-managers:before,   .upcoming-course .col-teacher:before{content:attr(data-label);font-weight:700;color:var(--pc-font-muted)}  .upcoming-course .col-teacher .teacher-pill{margin-inline-start:8px}}.metric-list[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;align-items:center;gap:12px;padding:14px 18px;border-bottom:1px solid var(--accent-200)}.metric-list[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.metric-list[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   .metric-label[_ngcontent-%COMP%]{color:var(--pc-font-muted);font-weight:600;letter-spacing:.1px}.metric-list[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{font-weight:700;color:var(--pc-font-dark);padding-inline-start:12px}.section-title[_ngcontent-%COMP%]{margin:5px 0 15px;font-weight:700;color:var(--pc-font-dark)}.role-metric-card[_ngcontent-%COMP%]{background:var(--accent-50)}.role-metric-card[_ngcontent-%COMP%]   .metric-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:14px;display:inline-flex;align-items:center;justify-content:center;box-shadow:0 2px 6px #0000000f}.role-metric-card[_ngcontent-%COMP%]   .metric-icon[_ngcontent-%COMP%]   .pc-icon[_ngcontent-%COMP%]{width:26px;height:26px}.role-metric-link[_ngcontent-%COMP%]{display:block;color:inherit;text-decoration:none}.role-metric-link[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--primary-300);outline-offset:4px;border-radius:16px}.role-metric-card--clickable[_ngcontent-%COMP%]{cursor:pointer;transition:transform .15s ease,box-shadow .15s ease}.role-metric-card--clickable[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 18px #00000014}.transactions-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0}.transactions-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .transactions-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;vertical-align:middle}.transactions-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:var(--pc-font-muted);font-weight:700;background:var(--accent-50);border-bottom:1px solid var(--accent-200)}.transactions-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:1px solid var(--accent-100)}.transactions-table[_ngcontent-%COMP%]   .student-cell[_ngcontent-%COMP%], .transactions-table[_ngcontent-%COMP%]   .amount-cell[_ngcontent-%COMP%]{font-weight:700;color:var(--pc-font-dark);white-space:nowrap}.transactions-table[_ngcontent-%COMP%]   .date-cell[_ngcontent-%COMP%]{color:var(--pc-font-muted);white-space:nowrap}.transactions-table[_ngcontent-%COMP%]   .status-pill[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:6px 12px;border-radius:999px;font-weight:700;font-size:12px;line-height:1.2;text-transform:none}.transactions-table[_ngcontent-%COMP%]   .status-pill--success[_ngcontent-%COMP%]{background:var(--success-50);color:var(--success-600)}.transactions-table[_ngcontent-%COMP%]   .status-pill--warning[_ngcontent-%COMP%]{background:var(--warning-50);color:var(--warning-700)}.transactions-table[_ngcontent-%COMP%]   .status-pill--danger[_ngcontent-%COMP%]{background:var(--danger-50);color:var(--danger-600)}.transactions-table[_ngcontent-%COMP%]   .status-pill--muted[_ngcontent-%COMP%]{background:var(--accent-100);color:var(--pc-font-muted)}"]})}return a})()},6848:(S,D,u)=>{u.d(D,{_:()=>c,s:()=>o});var m=u(9330),_=u(8728),C=u(6354),y=u(2525),P=u(5366),w=u(8937),k=u(2754);function c(h,R={}){const i=h.data,b=Array.isArray(i)?i:null,v=i&&!Array.isArray(i)?i:{totalCount:b?.length??0,items:b??[]},e=v.items,$=Array.isArray(e)?e:b??[],T=M=>{const U=Number(M);return Number.isFinite(U)?U:void 0},j=[R.skipCount,v.skipCount].map(T).filter(M=>void 0!==M),E=Math.max(0,Math.trunc(j.length>0?j[0]:0))+$.length,A=[v.totalCount,v.total,v.count,v.totalItems,v.totalRecords,h.totalCount,h.total,h.count].map(T).find(M=>void 0!==M),O=void 0!==A?Math.max(Math.trunc(A),E):E;return{...h,data:{...v,items:$,totalCount:O}}}let o=(()=>{class h{constructor(){this.http=(0,_.WQX)(m.Qq),this.auth=(0,_.WQX)(P.k)}getUsersForSelects(i,b,v=0,e=0,$=0,T,I=!1){const N=this.auth.getRole()===w.m.Admin?0:$,L=this.resolveLookupMode(i),E=!L;let p=(new m.Nl).set("UserTypeId",b.toString()).set("managerId",v.toString()).set("teacherId",e.toString()).set("branchId",N.toString());E&&void 0!==i.skipCount&&(p=p.set("SkipCount",i.skipCount.toString())),E&&void 0!==i.maxResultCount&&(p=p.set("MaxResultCount",i.maxResultCount.toString()));const A=i.searchWord??i.searchTerm;i.searchTerm&&(p=p.set("SearchTerm",i.searchTerm)),A&&(p=p.set("SearchWord",A));const O=[];return i.filter&&O.push(i.filter),L&&O.push(`${L}=true`),O.length&&(p=p.set("Filter",O.join("&"))),i.lang&&(p=p.set("Lang",i.lang)),i.sortingDirection&&(p=p.set("SortingDirection",i.sortingDirection)),i.sortBy&&(p=p.set("SortBy",i.sortBy)),T&&T>0&&(p=p.set("residentId",T.toString())),(0,k.a)(i.residentGroup)&&(p=p.set("residentGroup",i.residentGroup)),I&&(p=p.set("includeRelations","true")),this.http.get(`${y.c.apiUrl}/api/UsersForGroups/GetUsersForSelects`,{params:p}).pipe((0,C.T)(M=>c(M,{skipCount:i.skipCount})))}getUserDetails(i){const b=(new m.Nl).set("id",i.toString());return this.http.get(`${y.c.apiUrl}/api/UsersForGroups/GetUserDetails`,{params:b})}resolveLookupMode(i){return i.lookupOnly?"lookupOnly":i.lookup?"lookup":i.idsOnly?"idsOnly":null}getAllNationalities(){return this.http.get(`${y.c.apiUrl}/api/LookUp/GetAllNationality`)}getAllGovernorates(){return this.http.get(`${y.c.apiUrl}/api/LookUp/GetAllGovernorate`)}getSubscribesByTypeId(i,b){let v=new m.Nl;return null!=i&&(v=v.set("id",i.toString())),null!=b&&b>0&&(v=v.set("studentId",b.toString())),this.http.get(`${y.c.apiUrl}/api/LookUp/GetAllSubscribesByTypeId`,{params:v})}static#e=this.\u0275fac=function(b){return new(b||h)};static#t=this.\u0275prov=_.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})()},7509:(S,D,u)=>{u.d(D,{f:()=>C});var m=u(8728),_=u(5416);let C=(()=>{class y{constructor(){this.snackBar=(0,m.WQX)(_.UG)}success(w,k="Close",c=3e3){this.snackBar.open(w,k,{duration:c,panelClass:["toast-success"]})}error(w,k="Close",c=3e3){this.snackBar.open(w,k,{duration:c,panelClass:["toast-error"]})}static#e=this.\u0275fac=function(k){return new(k||y)};static#t=this.\u0275prov=m.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})()},7753:(S,D,u)=>{u.d(D,{q:()=>P});var m=u(2200),_=u(4412),C=u(3664);const y=["*"];let P=(()=>{class w{constructor(){this.loadingValue=!1,this.hadithIndex=0,this.showHadithValue=!1,this.defaultHadithList=[{text:"\u062e\u064e\u064a\u0652\u0631\u064f\u0643\u064f\u0645\u0652 \u0645\u064e\u0646 \u062a\u064e\u0639\u064e\u0644\u064e\u0651\u0645\u064e \u0627\u0644\u0652\u0642\u064f\u0631\u0652\u0622\u0646\u064e \u0648\u064e\u0639\u064e\u0644\u064e\u0651\u0645\u064e\u0647\u064f",translation:"\u201cThe best among you are those who learn the Qur\u2019an and teach it.\u201d",reference:"\u0635\u062d\u064a\u062d \u0627\u0644\u0628\u062e\u0627\u0631\u064a",eyebrow:"\u0641\u0636\u0644 \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064a\u0645"},{text:"\u0627\u0642\u0652\u0631\u064e\u0624\u0648\u0627 \u0627\u0644\u0642\u064f\u0631\u0652\u0622\u0646\u064e\u060c \u0641\u064e\u0625\u0650\u0646\u0651\u064e\u0647\u064f \u064a\u064e\u0623\u0652\u062a\u0650\u064a \u064a\u064e\u0648\u0652\u0645\u064e \u0627\u0644\u0642\u0650\u064a\u064e\u0627\u0645\u064e\u0629\u0650 \u0634\u064e\u0641\u0650\u064a\u0639\u064b\u0627 \u0644\u0623\u064e\u0635\u0652\u062d\u064e\u0627\u0628\u0650\u0647\u0650",translation:"\u201cRecite the Qur\u2019an, for it will come as an intercessor for its companions on the Day of Resurrection.\u201d",reference:"\u0635\u062d\u064a\u062d \u0645\u0633\u0644\u0645",eyebrow:"\u0641\u0636\u0644 \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064a\u0645"},{text:"\u0625\u0650\u0646\u0651\u064e \u0627\u0644\u0651\u064e\u0630\u0650\u064a \u0644\u064e\u064a\u0652\u0633\u064e \u0641\u0650\u064a \u062c\u064e\u0648\u0652\u0641\u0650\u0647\u0650 \u0634\u064e\u064a\u0652\u0621\u064c \u0645\u0650\u0646\u064e \u0627\u0644\u0642\u064f\u0631\u0652\u0622\u0646\u0650 \u0643\u064e\u0627\u0644\u0652\u0628\u064e\u064a\u0652\u062a\u0650 \u0627\u0644\u0652\u062e\u064e\u0631\u0650\u0628\u0650",translation:"\u201cThe one who has nothing of the Qur\u2019an in his heart is like a ruined house.\u201d",reference:"\u0633\u0646\u0646 \u0627\u0644\u062a\u0631\u0645\u0630\u064a",eyebrow:"\u0641\u0636\u0644 \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064a\u0645"},{text:"\u062a\u064e\u0639\u064e\u0627\u0647\u064e\u062f\u064f\u0648\u0627 \u0627\u0644\u0642\u064f\u0631\u0652\u0622\u0646\u064e\u060c \u0641\u064e\u0648\u064e\u0627\u0644\u0651\u064e\u0630\u0650\u064a \u0646\u064e\u0641\u0652\u0633\u064f \u0645\u064f\u062d\u064e\u0645\u0651\u064e\u062f\u064d \u0628\u0650\u064a\u064e\u062f\u0650\u0647\u0650 \u0644\u064e\u0647\u064f\u0648\u064e \u0623\u064e\u0634\u064e\u062f\u0651\u064f \u062a\u064e\u0641\u064e\u0644\u0651\u064f\u062a\u064b\u0627 \u0645\u0650\u0646\u064e \u0627\u0644\u0625\u0650\u0628\u0650\u0644\u0650 \u0641\u0650\u064a \u0639\u064f\u0642\u064f\u0644\u0650\u0647\u064e\u0627",translation:"\u201cKeep revising the Qur\u2019an, for it slips away faster than camels from their tethers.\u201d",reference:"\u0645\u062a\u0641\u0642 \u0639\u0644\u064a\u0647",eyebrow:"\u0641\u0636\u0644 \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064a\u0645"},{text:"\u0645\u064e\u062b\u064e\u0644\u064f \u0627\u0644\u0645\u064f\u0624\u0652\u0645\u0650\u0646\u0650 \u0627\u0644\u0651\u064e\u0630\u0650\u064a \u064a\u064e\u0642\u0652\u0631\u064e\u0623\u064f \u0627\u0644\u0642\u064f\u0631\u0652\u0622\u0646\u064e \u0643\u064e\u0645\u064e\u062b\u064e\u0644\u0650 \u0627\u0644\u0623\u064f\u062a\u0652\u0631\u064f\u062c\u0651\u064e\u0629\u0650\u061b \u0631\u0650\u064a\u062d\u064f\u0647\u064e\u0627 \u0637\u064e\u064a\u0651\u0650\u0628\u064c \u0648\u064e\u0637\u064e\u0639\u0652\u0645\u064f\u0647\u064e\u0627 \u0637\u064e\u064a\u0651\u0650\u0628\u064c",translation:"\u201cThe believer who recites the Qur\u2019an is like a citrus fruit: its scent is pleasant and its taste is pleasant.\u201d",reference:"\u0645\u062a\u0641\u0642 \u0639\u0644\u064a\u0647",eyebrow:"\u0641\u0636\u0644 \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064a\u0645"},{text:"\u0627\u0642\u0652\u0631\u064e\u0624\u0648\u0627 \u0633\u064f\u0648\u0631\u064e\u0629\u064e \u0627\u0644\u0628\u064e\u0642\u064e\u0631\u064e\u0629\u0650\u061b \u0641\u064e\u0625\u0650\u0646\u0651\u064e \u0623\u064e\u062e\u0652\u0630\u064e\u0647\u064e\u0627 \u0628\u064e\u0631\u064e\u0643\u064e\u0629\u064c\u060c \u0648\u064e\u062a\u064e\u0631\u0652\u0643\u064e\u0647\u064e\u0627 \u062d\u064e\u0633\u0652\u0631\u064e\u0629\u064c",translation:"\u201cRecite Surah al-Baqarah, for taking it brings blessing and abandoning it brings regret.\u201d",reference:"\u0635\u062d\u064a\u062d \u0645\u0633\u0644\u0645",eyebrow:"\u0641\u0636\u0644 \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064a\u0645"},{text:"\u0625\u0650\u0630\u064e\u0627 \u0642\u064e\u0627\u0645\u064e \u0623\u064e\u062d\u064e\u062f\u064f\u0643\u064f\u0645\u0652 \u0628\u0650\u0627\u0644\u0644\u0651\u064e\u064a\u0652\u0644\u0650 \u0641\u064e\u0639\u064e\u062c\u064e\u0632\u064e \u0639\u064e\u0646\u0652 \u0627\u0644\u0642\u0650\u0631\u064e\u0627\u0621\u064e\u0629\u0650\u060c \u0641\u064e\u0644\u0652\u064a\u064e\u0646\u064e\u0645\u0652\u060c \u062b\u064f\u0645\u0651\u064e \u0644\u0650\u064a\u064e\u0642\u064f\u0645\u0652",translation:"\u201cIf one of you stands to pray at night and finds difficulty in reciting, let him sleep, then stand again.\u201d",reference:"\u0635\u062d\u064a\u062d \u0645\u0633\u0644\u0645",eyebrow:"\u0641\u0636\u0644 \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064a\u0645"},{text:"\u064a\u064f\u0642\u064e\u0627\u0644\u064f \u0644\u0650\u0635\u064e\u0627\u062d\u0650\u0628\u0650 \u0627\u0644\u0642\u064f\u0631\u0652\u0622\u0646\u0650 \u0627\u0642\u0652\u0631\u064e\u0623\u0652 \u0648\u064e\u0627\u0631\u0652\u062a\u064e\u0642\u0650 \u0648\u064e\u0631\u064e\u062a\u0651\u0650\u0644\u0652 \u0643\u064e\u0645\u064e\u0627 \u0643\u064f\u0646\u0652\u062a\u064e \u062a\u064f\u0631\u064e\u062a\u0651\u0650\u0644\u064f \u0641\u0650\u064a \u0627\u0644\u062f\u0651\u064f\u0646\u0652\u064a\u064e\u0627",translation:"\u201cIt will be said to the companion of the Qur\u2019an: Recite, ascend, and recite as you used to in the world.\u201d",reference:"\u0633\u0646\u0646 \u0623\u0628\u064a \u062f\u0627\u0648\u062f",eyebrow:"\u0641\u0636\u0644 \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064a\u0645"},{text:"\u0627\u0644\u0652\u0645\u064e\u0627\u0647\u0650\u0631\u064f \u0628\u0650\u0627\u0644\u0652\u0642\u064f\u0631\u0652\u0622\u0646\u0650 \u0645\u064e\u0639\u064e \u0627\u0644\u0633\u0651\u064e\u0641\u064e\u0631\u064e\u0629\u0650 \u0627\u0644\u0652\u0643\u0650\u0631\u064e\u0627\u0645\u0650 \u0627\u0644\u0652\u0628\u064e\u0631\u064e\u0631\u064e\u0629\u0650",translation:"\u201cThe skilled reciter of the Qur\u2019an will be with the noble and righteous scribes (the angels).\u201d",reference:"\u0645\u062a\u0641\u0642 \u0639\u0644\u064a\u0647",eyebrow:"\u0641\u0636\u0644 \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064a\u0645"},{text:"\u0645\u064e\u0646\u0652 \u0642\u064e\u0631\u064e\u0623\u064e \u062d\u064e\u0631\u0652\u0641\u064b\u0627 \u0645\u0650\u0646\u0652 \u0643\u0650\u062a\u064e\u0627\u0628\u0650 \u0627\u0644\u0644\u0647\u0650 \u0641\u064e\u0644\u064e\u0647\u064f \u0628\u0650\u0647\u0650 \u062d\u064e\u0633\u064e\u0646\u064e\u0629\u064c\u060c \u0648\u064e\u0627\u0644\u062d\u064e\u0633\u064e\u0646\u064e\u0629\u064f \u0628\u0650\u0639\u064e\u0634\u0652\u0631\u0650 \u0623\u064e\u0645\u0652\u062b\u064e\u0627\u0644\u0650\u0647\u064e\u0627",translation:"\u201cWhoever recites a letter from the Book of Allah will have one good deed, and it will be multiplied tenfold.\u201d",reference:"\u0633\u0646\u0646 \u0627\u0644\u062a\u0631\u0645\u0630\u064a",eyebrow:"\u0641\u0636\u0644 \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064a\u0645"},{text:"\u0625\u0650\u0646\u0651\u064e \u0627\u0644\u0642\u064f\u0631\u0652\u0622\u0646\u064e \u064a\u064e\u0631\u0652\u0641\u064e\u0639\u064f \u0623\u064e\u0642\u0652\u0648\u064e\u0627\u0645\u064b\u0627 \u0648\u064e\u064a\u064e\u0636\u064e\u0639\u064f \u0622\u062e\u064e\u0631\u0650\u064a\u0646\u064e",translation:"\u201cIndeed, the Qur\u2019an elevates some people and lowers others.\u201d",reference:"\u0635\u062d\u064a\u062d \u0645\u0633\u0644\u0645",eyebrow:"\u0641\u0636\u0644 \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064a\u0645"},{text:"\u0646\u064e\u0648\u0651\u0650\u0631\u064f\u0648\u0627 \u0628\u064f\u064a\u064f\u0648\u062a\u064e\u0643\u064f\u0645\u0652 \u0628\u0650\u0627\u0644\u0635\u0651\u064e\u0644\u064e\u0627\u0629\u0650 \u0648\u064e\u062a\u0650\u0644\u064e\u0627\u0648\u064e\u0629\u0650 \u0627\u0644\u0642\u064f\u0631\u0652\u0622\u0646\u0650",translation:"\u201cIlluminate your homes with prayer and recitation of the Qur\u2019an.\u201d",reference:"\u0627\u0644\u0645\u0639\u062c\u0645 \u0627\u0644\u0643\u0628\u064a\u0631 \u0644\u0644\u0637\u0628\u0631\u0627\u0646\u064a",eyebrow:"\u0641\u0636\u0644 \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064a\u0645"}],this.eventHadithLists=[{name:"\u064a\u0648\u0645 \u0639\u0631\u0641\u0629",match:({day:c,month:o})=>12===o&&9===c,hadiths:[{text:"\u0635\u0650\u064a\u064e\u0627\u0645\u064f \u064a\u064e\u0648\u0652\u0645\u0650 \u0639\u064e\u0631\u064e\u0641\u064e\u0629\u064e \u0623\u064e\u062d\u0652\u062a\u064e\u0633\u0650\u0628\u064f \u0639\u064e\u0644\u064e\u0649 \u0627\u0644\u0644\u0651\u064e\u0647\u0650 \u0623\u064e\u0646\u0652 \u064a\u064f\u0643\u064e\u0641\u0651\u0650\u0631\u064e \u0627\u0644\u0633\u0651\u064e\u0646\u064e\u0629\u064e \u0627\u0644\u0651\u064e\u062a\u0650\u064a \u0642\u064e\u0628\u0652\u0644\u064e\u0647\u064f \u0648\u064e\u0627\u0644\u0633\u0651\u064e\u0646\u064e\u0629\u064e \u0627\u0644\u0651\u064e\u062a\u0650\u064a \u0628\u064e\u0639\u0652\u062f\u064e\u0647\u064f",translation:"\u201cFasting the Day of Arafah expiates the previous year and the coming year.\u201d",reference:"\u0635\u062d\u064a\u062d \u0645\u0633\u0644\u0645",eyebrow:"\u0641\u0636\u0627\u0626\u0644 \u064a\u0648\u0645 \u0639\u0631\u0641\u0629"},{text:"\u0627\u0644\u062d\u064e\u062c\u0651\u064f \u0639\u064e\u0631\u064e\u0641\u064e\u0629\u064f",translation:"\u201cHajj is Arafah.\u201d",reference:"\u0633\u0646\u0646 \u0627\u0644\u062a\u0631\u0645\u0630\u064a",eyebrow:"\u0641\u0636\u0627\u0626\u0644 \u064a\u0648\u0645 \u0639\u0631\u0641\u0629"}]},{name:"\u064a\u0648\u0645 \u0627\u0644\u0646\u062d\u0631",match:({day:c,month:o})=>12===o&&10===c,hadiths:[{text:"\u0623\u064e\u0639\u0652\u0638\u064e\u0645\u064f \u0627\u0644\u0623\u064e\u064a\u0651\u064e\u0627\u0645\u0650 \u0639\u0650\u0646\u062f\u064e \u0627\u0644\u0644\u0651\u064e\u0647\u0650 \u064a\u064e\u0648\u0652\u0645\u064f \u0627\u0644\u0646\u0651\u064e\u062d\u0652\u0631\u0650 \u062b\u064f\u0645\u0651\u064e \u064a\u064e\u0648\u0652\u0645\u064f \u0627\u0644\u0642\u064e\u0631\u0651\u0650",translation:"\u201cThe greatest day with Allah is the Day of Sacrifice, then the Day of Rest.\u201d",reference:"\u0633\u0646\u0646 \u0623\u0628\u064a \u062f\u0627\u0648\u062f",eyebrow:"\u0641\u0636\u0627\u0626\u0644 \u064a\u0648\u0645 \u0627\u0644\u0646\u062d\u0631"},{text:"\u0645\u064e\u0627 \u0639\u064e\u0645\u0650\u0644\u064e \u0627\u0628\u0652\u0646\u064f \u0622\u062f\u064e\u0645\u064e \u064a\u064e\u0648\u0652\u0645\u064e \u0627\u0644\u0646\u0651\u064e\u062d\u0652\u0631\u0650 \u0639\u064e\u0645\u064e\u0644\u064b\u0627 \u0623\u064e\u062d\u064e\u0628\u0651\u064e \u0625\u0650\u0644\u064e\u0649 \u0627\u0644\u0644\u0651\u064e\u0647\u0650 \u0645\u0650\u0646\u0652 \u0625\u0650\u0647\u0652\u0631\u064e\u0627\u0642\u0650 \u0627\u0644\u062f\u0651\u064e\u0645\u0650",translation:"\u201cNo deed is more beloved to Allah on the Day of Sacrifice than shedding blood (of the sacrifice).\u201d",reference:"\u0633\u0646\u0646 \u0627\u0644\u062a\u0631\u0645\u0630\u064a",eyebrow:"\u0641\u0636\u0627\u0626\u0644 \u064a\u0648\u0645 \u0627\u0644\u0646\u062d\u0631"}]},{name:"\u0639\u064a\u062f \u0627\u0644\u0641\u0637\u0631",match:({day:c,month:o})=>10===o&&1===c,hadiths:[{text:"\u0646\u064e\u0647\u064e\u0649 \u0631\u064e\u0633\u064f\u0648\u0644\u064f \u0627\u0644\u0644\u0651\u064e\u0647\u0650 \ufdfa \u0639\u064e\u0646\u0652 \u0635\u064e\u0648\u0652\u0645\u0650 \u064a\u064e\u0648\u0652\u0645\u0650 \u0627\u0644\u0641\u0650\u0637\u0652\u0631\u0650 \u0648\u064e\u064a\u064e\u0648\u0652\u0645\u0650 \u0627\u0644\u0623\u064e\u0636\u0652\u062d\u064e\u0649",translation:"\u201cThe Messenger of Allah forbade fasting on the Day of Fitr and the Day of Adha.\u201d",reference:"\u0645\u062a\u0641\u0642 \u0639\u0644\u064a\u0647",eyebrow:"\u064a\u0648\u0645 \u0627\u0644\u0639\u064a\u062f"},{text:"\u0632\u064e\u0643\u064e\u0627\u0629\u064f \u0627\u0644\u0641\u0650\u0637\u0652\u0631\u0650 \u0637\u064f\u0647\u0652\u0631\u064e\u0629\u064c \u0644\u0650\u0644\u0635\u0651\u064e\u0627\u0626\u0650\u0645\u0650 \u0645\u0650\u0646\u064e \u0627\u0644\u0644\u0651\u064e\u063a\u0652\u0648\u0650 \u0648\u064e\u0627\u0644\u0631\u0651\u064e\u0641\u064e\u062b\u0650",translation:"\u201cZakat al-Fitr is a purification for the fasting person from idle talk and obscenity.\u201d",reference:"\u0633\u0646\u0646 \u0623\u0628\u064a \u062f\u0627\u0648\u062f",eyebrow:"\u064a\u0648\u0645 \u0627\u0644\u0639\u064a\u062f"}]},{name:"\u0639\u0627\u0634\u0648\u0631\u0627\u0621",match:({day:c,month:o})=>1===o&&10===c,hadiths:[{text:"\u0635\u0650\u064a\u064e\u0627\u0645\u064f \u064a\u064e\u0648\u0652\u0645\u0650 \u0639\u064e\u0627\u0634\u064f\u0648\u0631\u064e\u0627\u0621\u064e \u0623\u064e\u062d\u0652\u062a\u064e\u0633\u0650\u0628\u064f \u0639\u064e\u0644\u064e\u0649 \u0627\u0644\u0644\u0651\u064e\u0647\u0650 \u0623\u064e\u0646\u0652 \u064a\u064f\u0643\u064e\u0641\u0651\u0650\u0631\u064e \u0627\u0644\u0633\u0651\u064e\u0646\u064e\u0629\u064e \u0627\u0644\u0651\u064e\u062a\u0650\u064a \u0642\u064e\u0628\u0652\u0644\u064e\u0647\u064f",translation:"\u201cFasting the Day of Ashura expiates the previous year.\u201d",reference:"\u0635\u062d\u064a\u062d \u0645\u0633\u0644\u0645",eyebrow:"\u0641\u0636\u0627\u0626\u0644 \u0639\u0627\u0634\u0648\u0631\u0627\u0621"},{text:"\u0643\u064e\u0627\u0646\u064e \u0627\u0644\u0646\u0651\u064e\u0628\u0650\u064a\u0651\u064f \ufdfa \u064a\u064e\u062a\u064e\u062d\u064e\u0631\u0651\u064e\u0649 \u0635\u0650\u064a\u064e\u0627\u0645\u064e \u064a\u064e\u0648\u0652\u0645\u0650 \u0639\u064e\u0627\u0634\u064f\u0648\u0631\u064e\u0627\u0621\u064e",translation:"\u201cThe Prophet used to be keen on fasting the Day of Ashura.\u201d",reference:"\u0635\u062d\u064a\u062d \u0627\u0644\u0628\u062e\u0627\u0631\u064a",eyebrow:"\u0641\u0636\u0627\u0626\u0644 \u0639\u0627\u0634\u0648\u0631\u0627\u0621"}]},{name:"\u0644\u064a\u0644\u0629 \u0627\u0644\u0642\u062f\u0631",match:({day:c,month:o})=>9===o&&27===c,hadiths:[{text:"\u0645\u064e\u0646\u0652 \u0642\u064e\u0627\u0645\u064e \u0644\u064e\u064a\u0652\u0644\u064e\u0629\u064e \u0627\u0644\u0642\u064e\u062f\u0652\u0631\u0650 \u0625\u0650\u064a\u0645\u064e\u0627\u0646\u064b\u0627 \u0648\u064e\u0627\u062d\u0652\u062a\u0650\u0633\u064e\u0627\u0628\u064b\u0627 \u063a\u064f\u0641\u0650\u0631\u064e \u0644\u064e\u0647\u064f \u0645\u064e\u0627 \u062a\u064e\u0642\u064e\u062f\u0651\u064e\u0645\u064e \u0645\u0650\u0646\u0652 \u0630\u064e\u0646\u0652\u0628\u0650\u0647\u0650",translation:"\u201cWhoever stands in prayer on Laylat al-Qadr with faith and seeking reward will be forgiven.\u201d",reference:"\u0645\u062a\u0641\u0642 \u0639\u0644\u064a\u0647",eyebrow:"\u0641\u0636\u0627\u0626\u0644 \u0644\u064a\u0644\u0629 \u0627\u0644\u0642\u062f\u0631"}]},{name:"\u0631\u0645\u0636\u0627\u0646",match:({month:c})=>9===c,hadiths:[{text:"\u0625\u0650\u0630\u064e\u0627 \u062c\u064e\u0627\u0621\u064e \u0631\u064e\u0645\u064e\u0636\u064e\u0627\u0646\u064f \u0641\u064f\u062a\u0651\u0650\u062d\u064e\u062a\u0652 \u0623\u064e\u0628\u0652\u0648\u064e\u0627\u0628\u064f \u0627\u0644\u062c\u064e\u0646\u0651\u064e\u0629\u0650 \u0648\u064e\u063a\u064f\u0644\u0651\u0650\u0642\u064e\u062a\u0652 \u0623\u064e\u0628\u0652\u0648\u064e\u0627\u0628\u064f \u0627\u0644\u0646\u0651\u064e\u0627\u0631\u0650",translation:"\u201cWhen Ramadan begins, the gates of Paradise are opened and the gates of Hell are closed.\u201d",reference:"\u0645\u062a\u0641\u0642 \u0639\u0644\u064a\u0647",eyebrow:"\u0641\u0636\u0627\u0626\u0644 \u0631\u0645\u0636\u0627\u0646"},{text:"\u0645\u064e\u0646\u0652 \u0635\u064e\u0627\u0645\u064e \u0631\u064e\u0645\u064e\u0636\u064e\u0627\u0646\u064e \u0625\u0650\u064a\u0645\u064e\u0627\u0646\u064b\u0627 \u0648\u064e\u0627\u062d\u0652\u062a\u0650\u0633\u064e\u0627\u0628\u064b\u0627 \u063a\u064f\u0641\u0650\u0631\u064e \u0644\u064e\u0647\u064f \u0645\u064e\u0627 \u062a\u064e\u0642\u064e\u062f\u0651\u064e\u0645\u064e \u0645\u0650\u0646\u0652 \u0630\u064e\u0646\u0652\u0628\u0650\u0647\u0650",translation:"\u201cWhoever fasts Ramadan with faith and seeking reward will be forgiven.\u201d",reference:"\u0645\u062a\u0641\u0642 \u0639\u0644\u064a\u0647",eyebrow:"\u0641\u0636\u0627\u0626\u0644 \u0631\u0645\u0636\u0627\u0646"}]}],this.hadithList=this.resolveHadithList(),this.currentHadith$=new _.t(this.hadithList[0])}set isLoading(c){c!==this.loadingValue&&(this.loadingValue=c,c&&this.showHadithValue&&this.showNextHadith())}get isLoading(){return this.loadingValue}set showHadith(c){this.showHadithValue=c,c&&this.loadingValue&&this.showNextHadith()}get showHadith(){return this.showHadithValue}getRandomHadithIndex(){if(this.hadithList.length<=1)return 0;let c;do{c=Math.floor(Math.random()*this.hadithList.length)}while(c===this.hadithIndex);return c}showNextHadith(){this.hadithIndex=this.getRandomHadithIndex(),this.currentHadith$.next(this.hadithList[this.hadithIndex])}resolveHadithList(){const c=this.getHijriDateParts();if(c){const o=this.eventHadithLists.find(h=>h.match(c));if(o?.hadiths.length)return o.hadiths}return this.defaultHadithList}getHijriDateParts(){try{const o=new Intl.DateTimeFormat("en-US-u-ca-islamic",{day:"numeric",month:"numeric"}).formatToParts(new Date),h=o.find(v=>"day"===v.type)?.value,R=o.find(v=>"month"===v.type)?.value,i=h?Number(h):NaN,b=R?Number(R):NaN;return Number.isNaN(i)||Number.isNaN(b)?null:{day:i,month:b}}catch{return null}}static#e=this.\u0275fac=function(o){return new(o||w)};static#t=this.\u0275cmp=C.VBU({type:w,selectors:[["app-loading-overlay"]],inputs:{isLoading:"isLoading",showHadith:"showHadith"},ngContentSelectors:y,decls:3,vars:2,consts:[[1,"loading-overlay"],[1,"loading-overlay__content"]],template:function(o,h){1&o&&(C.NAR(),C.j41(0,"div",0)(1,"div",1),C.SdG(2),C.k0s()()),2&o&&C.AVh("loading",h.isLoading)},dependencies:[m.MD],styles:["[_nghost-%COMP%]{display:block;font-family:Amiri Quran}.loading-overlay[_ngcontent-%COMP%]{position:relative;font-family:Amiri Quran}.loading-overlay__content[_ngcontent-%COMP%]{transition:filter .2s ease,opacity .2s ease;font-family:Amiri Quran}.loading-overlay.loading[_ngcontent-%COMP%]   .loading-overlay__content[_ngcontent-%COMP%]{filter:blur(2px);opacity:.55;pointer-events:none;font-family:Amiri Quran}.loading-overlay__backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background-color:#ffffffb3;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);z-index:1000;pointer-events:all;font-family:Amiri Quran}.hadith-view[_ngcontent-%COMP%]{max-width:520px;width:calc(100% - 32px);padding:32px;border-radius:24px;background:linear-gradient(135deg,#095f6ef2,#113152e6);color:#fff;box-shadow:0 20px 60px #0928454d;text-align:center;font-family:Amiri Quran}.hadith-view__eyebrow[_ngcontent-%COMP%]{font-size:.85rem;letter-spacing:.12em;text-transform:uppercase;color:#ffffffe6;margin-bottom:16px}.hadith-view__quote[_ngcontent-%COMP%]{margin:0 0 16px;font-size:1.35rem;line-height:1.8;font-weight:600}.hadith-view__quote-text[_ngcontent-%COMP%]{display:inline-block}.hadith-view__reference[_ngcontent-%COMP%]{margin:0 0 8px;font-weight:500;color:#ffffffe6}.hadith-view__translation[_ngcontent-%COMP%]{margin:0;font-size:.95rem;color:#ffffffd9}"],changeDetection:0})}return w})()}}]);