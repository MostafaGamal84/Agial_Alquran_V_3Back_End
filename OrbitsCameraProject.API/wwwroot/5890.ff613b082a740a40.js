"use strict";(self.webpackChunkable_pro=self.webpackChunkable_pro||[]).push([[5890],{95890:(S,p,a)=>{a.r(p),a.d(p,{WidgetChartComponent:()=>H});var l=a(48728),u=a(23597),v=a(72200),C=a(56147),f=a(60626),E=a(39928),R=a(41890),y=a(87509),j=a(22975),b=a(17355),x=a(81071),k=a(43433),F=a(40793),M=a(71001),D=a(11815),w=a(48137),O=a(55441),T=a(4127),P=a(5763),c=a(76045),h=a(4626),t=a(73664),d=a(59115),m=a(96850),_=a(89417),I=a(16735);const W=()=>["#4680FF"],L=()=>["#DC2626"],$=(i,s)=>s.key;function A(i,s){if(1&i&&(t.j41(0,"div",4),t.nrm(1,"app-earning-chart",48),t.k0s()),2&i){const r=s.$implicit;t.R7$(),t.Y8G("iconImage",r.iconImage)("headerTitle",r.headerTitle)("earningValue",r.earningValue)("background",r.background)("textColor",r.textColor)("color",r.color)("percentageValue",r.percentageValue)("data",r.data)("trendColor",r.trendColor??r.textColor)("trendIcon",r.trendIcon??"ti ti-arrow-up-right")}}function B(i,s){if(1&i&&(t.j41(0,"a",47)(1,"div",49)(2,"div",50)(3,"div"),t.nrm(4,"i"),t.k0s()(),t.j41(5,"div",51)(6,"div",52),t.EFF(7),t.k0s(),t.j41(8,"div",37),t.EFF(9),t.k0s()(),t.j41(10,"div",53)(11,"div",52),t.EFF(12,"+ $1,430"),t.k0s(),t.j41(13,"div",54),t.EFF(14,"35%"),t.k0s()()()()),2&i){const r=s.$implicit;t.R7$(3),t.HbH(t.VkB("avatar avatar-s ",r.background)),t.R7$(),t.HbH(t.VkB("",r.icon," f-18")),t.R7$(3),t.JRh(r.title),t.R7$(2),t.JRh(r.time)}}function U(i,s){if(1&i&&(t.j41(0,"li",56)(1,"div",57)(2,"div",50)(3,"div",58),t.nrm(4,"i"),t.k0s()(),t.j41(5,"div",51)(6,"div",15)(7,"div",59)(8,"div",60),t.EFF(9),t.k0s(),t.j41(10,"div",42),t.EFF(11),t.k0s()(),t.j41(12,"div",61)(13,"div",52),t.EFF(14),t.k0s(),t.j41(15,"div"),t.nrm(16,"i"),t.EFF(17),t.k0s()()()()()()),2&i){const r=s.$implicit;t.R7$(4),t.HbH(t.VkB("",r.icon," f-20")),t.R7$(5),t.JRh(r.title),t.R7$(2),t.JRh(r.amount),t.R7$(3),t.JRh(r.number),t.R7$(),t.HbH(t.VkB("",r.color," mat-caption")),t.R7$(),t.HbH(r.icon_2),t.R7$(),t.SpI(" ",r.percentage," ")}}function V(i,s){if(1&i&&(t.j41(0,"ul",55),t.Z7z(1,U,18,12,"li",56,t.fX1),t.k0s()),2&i){const r=t.XpG();t.R7$(),t.Dyx(r.project_report)}}function K(i,s){if(1&i&&(t.j41(0,"ul",62)(1,"li",63)(2,"select",64)(3,"option"),t.EFF(4,"Today"),t.k0s(),t.j41(5,"option"),t.EFF(6,"Weekly"),t.k0s(),t.j41(7,"option",33),t.EFF(8,"Monthly"),t.k0s()()(),t.j41(9,"li",63)(10,"a",65),t.nrm(11,"i",66),t.k0s()(),t.j41(12,"li",63)(13,"a",65),t.nrm(14,"i",67),t.k0s()(),t.j41(15,"li",63)(16,"a",68),t.nrm(17,"i",69),t.k0s()()()),2&i){const r=t.XpG();t.R7$(16),t.Y8G("matMenuTriggerFor",r.paymentInfo)}}let H=(()=>{class i{constructor(){this.dashboardService=(0,l.WQX)(R.I),this.toast=(0,l.WQX)(y.f),this.themeService=(0,l.WQX)(E.z),this.summaryCards=[{key:"earnings",headerTitle:"All Earnings",iconImage:"#wallet-2",background:"bg-primary-50",textColor:"text-primary-500",color:"var(--primary-500)",earningValue:"\u2014",percentageValue:"\u2014",data:[]},{key:"newStudents",headerTitle:"New Students",iconImage:"#book",background:"bg-warning-50",textColor:"text-warning-500",color:"var(--warning-500)",earningValue:"\u2014",percentageValue:"\u2014",data:[]},{key:"circleReports",headerTitle:"Circle Reports",iconImage:"#calendar",background:"bg-success-50",textColor:"text-success-500",color:"var(--success-500)",earningValue:"\u2014",percentageValue:"\u2014",data:[]},{key:"netIncome",headerTitle:"Net Income",iconImage:"#coludChange",background:"bg-warn-50",textColor:"text-warn-500",color:"var(--warn-500)",earningValue:"\u2014",percentageValue:"\u2014",data:[]}],this.preset=["var(--primary-500)"],this.salesReportColor=["#E58A00","var(--primary-500)"],this.acquisition=[{title:"Top Channels",icon:"ti ti-device-analytics",time:"Today, 2:00 AM",background:"bg-accent-200"},{title:"Top pages",icon:"ti ti-file-text",time:"Today 6:00 AM",background:"bg-primary-50 text-primary-500"}],this.chartDB=f.V;const{customerRateChart:r,monthlyReportChart:o,salesReportChart:e,acquisitionChart:n}=this.chartDB;this.customerRateChart=r,this.monthlyReportChart=o,this.salesReportChart=e,this.acquisitionChart=n,(0,u.QZ)(()=>{this.isDarkTheme(this.themeService.isDarkMode())})}ngOnInit(){this.loadSummary()}isDarkTheme(r){const o={...this.customerRateChart.tooltip,...this.monthlyReportChart.tooltip,...this.salesReportChart.tooltip,...this.acquisitionChart.tooltip};o.theme=r===c.nd?c.nd:c.T,this.customerRateChart={...this.customerRateChart,tooltip:o},this.monthlyReportChart={...this.monthlyReportChart,tooltip:o},this.salesReportChart={...this.salesReportChart,tooltip:o},this.acquisitionChart={...this.acquisitionChart,tooltip:o}}loadSummary(){this.dashboardService.getSummary().subscribe({next:r=>{if(r.isSuccess&&r.data?.metrics){const o=this.toMetricMap(r.data.metrics);this.summaryCards=this.summaryCards.map(e=>{const n=o.get(e.key);if(!n)return{...e,earningValue:"\u2014",percentageValue:"\u2014",data:[],trendColor:e.textColor,trendIcon:"ti ti-arrow-up-right"};const G=this.formatPercent(n.percentChange),g=(n.percentChange??0)>=0;return{...e,earningValue:this.formatValue(n.value,n.valueType,n.currencyCode),percentageValue:G,data:this.resolveTrend(n),trendColor:g?"text-success-500":"text-warn-500",trendIcon:g?"ti ti-arrow-up-right":"ti ti-arrow-down-right"}})}else this.handleError(r.errors,"Failed to load dashboard summary.")},error:()=>this.handleError(void 0,"Failed to load dashboard summary.")})}toMetricMap(r){return Array.isArray(r)?new Map(r.filter(o=>!!o?.key).map(o=>[o.key,o])):new Map(Object.entries(r??{}))}resolveTrend(r){return r?Array.isArray(r.trend)&&r.trend.length>0?r.trend:[r.previousValue??0,r.value??0]:[]}formatValue(r,o,e){if(null==r)return"\u2014";if(o&&"currency"===o.toLowerCase()){const n=e??"USD";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:n,maximumFractionDigits:0}).format(r)}catch{return`${n} ${this.formatNumber(r)}`}}return this.formatNumber(r)}formatNumber(r){return new Intl.NumberFormat(void 0,{maximumFractionDigits:0}).format(r)}formatPercent(r){return null==r?"\u2014":`${r>0?"+":r<0?"\u2212":""}${new Intl.NumberFormat(void 0,{minimumFractionDigits:0,maximumFractionDigits:2}).format(Math.abs(r))}%`}handleError(r,o){const e=r&&r.length>0?r.map(n=>n.message).join("\n"):o;this.toast.error(e)}static#t=this.\u0275fac=function(o){return new(o||i)};static#r=this.\u0275cmp=t.VBU({type:i,selectors:[["app-chart"]],decls:101,vars:53,consts:[["menu","matMenu"],["project",""],["Options",""],[1,"row","widget-chart","p-t-25"],[1,"col-md-6","col-xxl-3"],[1,"col-lg-8","col-xxl-9"],[3,"showHeader"],[1,"flex","align-item-center","justify-content-between"],[1,"f-16","f-w-600","customer-report"],[1,"avatar","avatar-s","hover",3,"matMenuTriggerFor"],[1,"ti","ti-dots-vertical","f-18"],["mat-menu-item",""],[1,"text-end","f-16","f-w-600"],[1,"user-status","bg-success-500","text-white"],[3,"series","chart","colors","plotOptions","xaxis","dataLabels","stroke","grid","fill","tooltip"],[1,"row"],[1,"col-xl-6","col-md-12"],["valueColor","#4680FF","background","#4680FF50",3,"color"],["valueColor","#DC2626","background","#DC262650",3,"color"],[1,"col-lg-4","col-xxl-3"],[1,"col-12","project-chart"],["padding","0",3,"showHeader"],["mat-stretch-tabs","false","mat-align-tabs","start"],["label","Overview"],["label","Marketing"],["label","Project"],["label","order"],[1,"col-lg-6"],[1,"col-lg-4"],[1,"col-lg-8"],[1,"flex","align-item-center","justify-content-between","m-b-15"],[1,"f-16","f-w-600"],[1,"p-5","select-item"],["selected",""],[1,"m-t-10"],[3,"series","chart","colors","xaxis","fill","grid","dataLabels","plotOptions","legend","tooltip"],[1,"col-md-12","col-xl-7"],[1,"text-muted"],[1,"f-20","f-w-600"],[3,"series","chart","colors","xaxis","stroke","dataLabels","plotOptions","legend","yaxis","fill","responsive","tooltip"],[1,"col-md-12","col-xl-5"],[1,"p-20"],[1,"f-w-600","f-16"],[1,"text-muted","m-b-0"],[1,"text-primary-500"],[3,"series","chart","colors","xaxis","stroke","dataLabels","legend","grid","fill","yaxis","tooltip"],[1,"list-group","list-group-flush"],["href","javascript:",1,"list-group-item","list-group-item-action"],[3,"iconImage","headerTitle","earningValue","background","textColor","color","percentageValue","data","trendColor","trendIcon"],[1,"flex"],[1,"flex-shrink-0"],[1,"flex-grow-1","m-l-15"],[1,"f-w-500"],[1,"flex-shrink-0","text-end"],[1,"mat-caption","text-muted"],[1,"list-group","project-report"],[1,"list-group-item"],[1,"flex","align-item-center"],[1,"avatar","avatar-s","bg-accent-200"],[1,"col-6","m-t-5"],[1,"text-muted","f-w-500"],[1,"col-6","m-t-5","text-end"],[1,"list-inline","m-b-15"],[1,"list-inline-item"],[1,"select-item"],["href","javascript:",1,"avatar","avatar-s","border"],[1,"ti","ti-external-link","f-18"],[1,"ti","ti-arrows-diagonal","f-18"],["href","javascript:",1,"avatar","avatar-s","border",3,"matMenuTriggerFor"],[1,"ti","ti-dots","f-18"]],template:function(o,e){if(1&o&&(t.j41(0,"div",3),t.Z7z(1,A,2,10,"div",4,$),t.j41(3,"div",5)(4,"app-card",6)(5,"div",7)(6,"div",8),t.EFF(7,"Repeat customer rate"),t.k0s(),t.j41(8,"a",9),t.nrm(9,"i",10),t.k0s(),t.j41(10,"mat-menu",null,0)(12,"a",11),t.EFF(13,"Today"),t.k0s(),t.j41(14,"a",11),t.EFF(15,"Weekly"),t.k0s(),t.j41(16,"a",11),t.EFF(17,"Monthly"),t.k0s()()(),t.j41(18,"div",12),t.EFF(19," 5.44% "),t.j41(20,"span",13),t.EFF(21,"+2.6%"),t.k0s()(),t.nrm(22,"apx-chart",14),t.k0s(),t.nrm(23,"app-project-overview-chart"),t.j41(24,"div",15)(25,"div",16),t.nrm(26,"app-income-chart"),t.k0s(),t.j41(27,"div",16),t.nrm(28,"app-total-earning-chart",17)(29,"app-total-earning-chart",18),t.k0s()()(),t.j41(30,"div",19),t.nrm(31,"app-new-order-chart")(32,"app-new-user-chart")(33,"app-visitors-chart"),t.k0s(),t.j41(34,"div",20)(35,"app-card",21)(36,"mat-tab-group",22)(37,"mat-tab",23),t.nrm(38,"app-monthly-overview-chart"),t.k0s(),t.j41(39,"mat-tab",24),t.nrm(40,"app-monthly-overview-chart"),t.k0s(),t.j41(41,"mat-tab",25),t.nrm(42,"app-monthly-overview-chart"),t.k0s(),t.j41(43,"mat-tab",26),t.nrm(44,"app-monthly-overview-chart"),t.k0s()()()(),t.j41(45,"div",27),t.nrm(46,"app-overview-product-chart"),t.k0s(),t.j41(47,"div",27),t.nrm(48,"app-total-income-chart"),t.k0s(),t.j41(49,"div",28),t.nrm(50,"app-languages-support-chart"),t.k0s(),t.j41(51,"div",29)(52,"app-card",6)(53,"div",30)(54,"div",31),t.EFF(55,"Monthly Report"),t.k0s(),t.j41(56,"select",32)(57,"option"),t.EFF(58,"Today"),t.k0s(),t.j41(59,"option"),t.EFF(60,"Weekly"),t.k0s(),t.j41(61,"option",33),t.EFF(62,"Monthly"),t.k0s()()(),t.j41(63,"div",34),t.nrm(64,"apx-chart",35),t.k0s()()(),t.j41(65,"div",36)(66,"app-card",6)(67,"div",30)(68,"div",31),t.EFF(69,"Sales Report"),t.k0s(),t.j41(70,"select",32)(71,"option"),t.EFF(72,"Today"),t.k0s(),t.j41(73,"option"),t.EFF(74,"Weekly"),t.k0s(),t.j41(75,"option",33),t.EFF(76,"Monthly"),t.k0s()()(),t.j41(77,"div",37),t.EFF(78,"Net Profit"),t.k0s(),t.j41(79,"div",38),t.EFF(80,"$7,650"),t.k0s(),t.nrm(81,"apx-chart",39),t.k0s()(),t.j41(82,"div",40)(83,"app-card",21)(84,"div",41)(85,"div",7)(86,"div")(87,"div",42),t.EFF(88,"Acquisition Channels"),t.k0s(),t.j41(89,"p",43),t.EFF(90,"Marketing"),t.k0s()(),t.j41(91,"h4",44),t.EFF(92,"-128"),t.k0s()(),t.nrm(93,"apx-chart",45),t.k0s(),t.j41(94,"div",46),t.Z7z(95,B,15,8,"a",47,t.fX1),t.k0s()()()(),t.DNE(97,V,3,0,"ng-template",null,1,t.C5r)(99,K,18,1,"ng-template",null,2,t.C5r)),2&o){const n=t.sdS(11);t.R7$(),t.Dyx(e.summaryCards),t.R7$(3),t.Y8G("showHeader",!1),t.R7$(4),t.Y8G("matMenuTriggerFor",n),t.R7$(14),t.Y8G("series",e.customerRateChart.series)("chart",e.customerRateChart.chart)("colors",e.preset)("plotOptions",e.customerRateChart.plotOptions)("xaxis",e.customerRateChart.xaxis)("dataLabels",e.customerRateChart.dataLabels)("stroke",e.customerRateChart.stroke)("grid",e.customerRateChart.grid)("fill",e.customerRateChart.fill)("tooltip",e.customerRateChart.tooltip),t.R7$(6),t.Y8G("color",t.lJ4(51,W)),t.R7$(),t.Y8G("color",t.lJ4(52,L)),t.R7$(6),t.Y8G("showHeader",!1),t.R7$(17),t.Y8G("showHeader",!1),t.R7$(12),t.Y8G("series",e.monthlyReportChart.series)("chart",e.monthlyReportChart.chart)("colors",e.monthlyReportChart.colors)("xaxis",e.monthlyReportChart.xaxis)("fill",e.monthlyReportChart.fill)("grid",e.monthlyReportChart.grid)("dataLabels",e.monthlyReportChart.dataLabels)("plotOptions",e.monthlyReportChart.plotOptions)("legend",e.monthlyReportChart.legend)("tooltip",e.monthlyReportChart.tooltip),t.R7$(2),t.Y8G("showHeader",!1),t.R7$(15),t.Y8G("series",e.salesReportChart.series)("chart",e.salesReportChart.chart)("colors",e.salesReportColor)("xaxis",e.salesReportChart.xaxis)("stroke",e.salesReportChart.stroke)("dataLabels",e.salesReportChart.dataLabels)("plotOptions",e.salesReportChart.plotOptions)("legend",e.salesReportChart.legend)("yaxis",e.salesReportChart.yaxis)("fill",e.salesReportChart.fill)("responsive",e.salesReportChart.responsive)("tooltip",e.salesReportChart.tooltip),t.R7$(2),t.Y8G("showHeader",!1),t.R7$(10),t.Y8G("series",e.acquisitionChart.series)("chart",e.acquisitionChart.chart)("colors",e.acquisitionChart.colors)("xaxis",e.acquisitionChart.xaxis)("stroke",e.acquisitionChart.stroke)("dataLabels",e.acquisitionChart.dataLabels)("legend",e.acquisitionChart.legend)("grid",e.acquisitionChart.grid)("fill",e.acquisitionChart.fill)("yaxis",e.acquisitionChart.yaxis)("tooltip",e.acquisitionChart.tooltip),t.R7$(2),t.Dyx(e.acquisition)}},dependencies:[v.MD,C.G,d.kk,d.fb,d.Cp,m.mq,m.T8,_.xH,_.y7,I.i,h.J,h.Q,D.C,j.I,b.g,M.j,x.x,k.b,F.a,w.O,O.C,T.v,P._],styles:['.widget-chart .currency-dollar{background:var(--accent-200)}  .widget-chart .chart-body{margin-top:16px;padding:16px;border-radius:8px;background:var(--accent-100)}  .widget-chart .card-head{margin:0 10px}  .widget-chart .user-status{padding:.25em .9em}  .widget-chart .my-n4{margin-top:-1.5rem!important;margin-bottom:-1.5rem!important}  .widget-chart .earning-text{margin:0 16px}  .widget-chart .overview-product-legends{border:1px solid var(--accent-300);padding:16px;margin-top:16px;border-radius:8px}  .widget-chart .overview-product-legends p{position:relative;display:inline-flex;align-items:center}  .widget-chart .overview-product-legends p:after{content:"";position:absolute;top:50%;left:0;width:6px;height:6px;border-radius:50%;transform:translate(-50%,-50%);background:currentColor;margin-left:-10px}  .widget-chart .overview-product-legends p span{color:var(--accent-600)}  .widget-chart .income-value{background:var(--accent-200);padding:16px;border-radius:8px}  .widget-chart .income-value .border-circle{border-radius:50%}  .widget-chart .list-group-flush .list-group-item{padding:16px 20px;display:block;color:inherit;border-top:1px solid var(--accent-300)}  .widget-chart .list-group-flush .list-group-item .avatar{border-radius:50%}  .widget-chart .project-chart .mat-mdc-tab-header{padding:20px 20px 0 19px;border-bottom:1px solid var(--accent-300)}  .widget-chart .project-chart .mat-mdc-tab-body-wrapper{margin:0}  .widget-chart .project-chart .project-body .list-inline{display:flex;justify-content:flex-end;align-items:center;padding-left:0}  .widget-chart .project-chart .project-body .list-inline .list-inline-item a{color:inherit}  .widget-chart .project-chart .project-body .list-inline .list-inline-item .select-item{border-color:var(--accent-300);padding:10px;border-radius:8px}  .widget-chart .project-chart .project-body .list-inline .list-inline-item:not(:last-child){margin-right:.5rem}  .able-pro-rtl   .widget-chart .project-chart .project-body .list-inline .list-inline-item:not(:last-child){margin-left:.5rem;margin-right:0rem}  .widget-chart .project-chart .project-body .project-report{padding-left:0}  .widget-chart .project-chart .project-body .project-report .list-group-item{padding:16px 20px}  .widget-chart .project-chart .project-body .project-report .list-group-item .avatar{border-radius:8px}  .widget-chart .project-chart .project-body .project-report .list-group-item:not(:last-child){border-bottom:1px solid var(--accent-300)}']})}return i})()}}]);