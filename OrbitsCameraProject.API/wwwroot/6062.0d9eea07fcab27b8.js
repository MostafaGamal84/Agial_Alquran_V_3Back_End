"use strict";(self.webpackChunkable_pro=self.webpackChunkable_pro||[]).push([[6062],{87509:(C,m,o)=>{o.d(m,{f:()=>c});var _=o(48728),f=o(95416);let c=(()=>{class i{constructor(){this.snackBar=(0,_.WQX)(f.UG)}success(l,u="Close",d=3e3){this.snackBar.open(l,u,{duration:d,panelClass:["toast-success"]})}error(l,u="Close",d=3e3){this.snackBar.open(l,u,{duration:d,panelClass:["toast-error"]})}static#e=this.\u0275fac=function(u){return new(u||i)};static#t=this.\u0275prov=_.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})()},96062:(C,m,o)=>{o.r(m),o.d(m,{CoursesDetailsComponent:()=>x});var _=o(48728),f=o(35568),c=o(38132),i=o(90645),D=o(56147),l=o(85972),u=o(11227),d=o(87509),e=o(73664),p=o(72200),g=o(75747),h=o(16735);const v=n=>["/online-course/student/report/add",n],E=n=>({circle:n});function I(n,s){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" Teacher: ",(null==t.course||null==t.course.teacher?null:t.course.teacher.fullName)||(null==t.course?null:t.course.teacherName)||(null==t.course?null:t.course.teacherId)," ")}}function y(n,s){if(1&n&&(e.qex(0),e.j41(1,"span",24),e.EFF(2,"\u2022"),e.k0s(),e.j41(3,"span",25),e.EFF(4),e.k0s(),e.bVm()),2&n){const t=s.ngIf;e.R7$(4),e.JRh(t)}}function R(n,s){if(1&n&&(e.j41(0,"li",22)(1,"span",23),e.EFF(2),e.k0s(),e.DNE(3,y,5,1,"ng-container",6),e.k0s()),2&n){const t=s.$implicit,a=e.XpG(3);e.R7$(2),e.JRh(a.getScheduleDayLabel(t)),e.R7$(),e.Y8G("ngIf",a.getScheduleTimeLabel(t))}}function T(n,s){if(1&n&&(e.qex(0),e.j41(1,"div"),e.EFF(2,"Schedule:"),e.k0s(),e.j41(3,"ul",5),e.DNE(4,R,4,2,"li",21),e.k0s(),e.bVm()),2&n){const t=e.XpG().ngIf,a=e.XpG();e.R7$(4),e.Y8G("ngForOf",a.getSchedule(t))}}function N(n,s){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2).ngIf,a=e.XpG();e.R7$(),e.SpI(" Day: ",a.getDayLabel(t)," ")}}function S(n,s){if(1&n&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2).ngIf,a=e.XpG();e.R7$(),e.SpI(" Start Time: ",a.getFormattedStartTime(t)," ")}}function F(n,s){if(1&n&&e.DNE(0,N,2,1,"div",6)(1,S,2,1,"div",6),2&n){const t=e.XpG().ngIf,a=e.XpG();e.Y8G("ngIf",a.getDayLabel(t)),e.R7$(),e.Y8G("ngIf",a.getFormattedStartTime(t))}}function M(n,s){if(1&n&&(e.j41(0,"li",22)(1,"span",23),e.EFF(2),e.k0s()()),2&n){const t=s.$implicit;e.R7$(2),e.JRh(t)}}function O(n,s){if(1&n&&(e.qex(0),e.j41(1,"div"),e.EFF(2,"Managers:"),e.k0s(),e.j41(3,"ul",5),e.DNE(4,M,3,1,"li",21),e.k0s(),e.bVm()),2&n){const t=e.XpG().ngIf;e.R7$(4),e.Y8G("ngForOf",t)}}function P(n,s){if(1&n&&(e.j41(0,"div"),e.DNE(1,O,5,1,"ng-container",6),e.k0s()),2&n){const t=s.ngIf;e.R7$(),e.Y8G("ngIf",t.length)}}function G(n,s){if(1&n&&(e.j41(0,"div"),e.DNE(1,T,5,1,"ng-container",20)(2,F,2,2,"ng-template",null,0,e.C5r)(4,P,2,1,"div",6),e.k0s()),2&n){const t=s.ngIf,a=e.sdS(3),r=e.XpG();e.R7$(),e.Y8G("ngIf",r.getSchedule(t).length)("ngIfElse",a),e.R7$(3),e.Y8G("ngIf",r.getManagers(t))}}function L(n,s){1&n&&(e.j41(0,"th",26),e.EFF(1,"STUDENT"),e.k0s())}function $(n,s){if(1&n&&(e.j41(0,"td",27),e.EFF(1),e.k0s()),2&n){const t=s.$implicit;e.R7$(),e.SpI(" ",(null==t.student?null:t.student.fullName)||t.fullName," ")}}function k(n,s){1&n&&(e.j41(0,"th",28),e.EFF(1,"ACTIONS"),e.k0s())}function j(n,s){if(1&n&&(e.j41(0,"td",29)(1,"ul",30)(2,"li",31)(3,"a",32),e.nrm(4,"i",33),e.k0s()()()()),2&n){const t=s.$implicit,a=e.XpG();e.R7$(3),e.Y8G("routerLink",e.eq3(2,v,t.studentId||t.id))("state",e.eq3(4,E,a.course))}}function A(n,s){1&n&&e.nrm(0,"tr",34)}function B(n,s){1&n&&e.nrm(0,"tr",35)}function U(n,s){1&n&&(e.j41(0,"tr",36)(1,"td",37),e.EFF(2,"No students found"),e.k0s()())}let x=(()=>{class n{constructor(){this.router=(0,_.WQX)(f.Ix),this.toast=(0,_.WQX)(d.f),this.students=[],this.displayedColumns=["fullName","action"],this.dataSource=new i.I6}ngOnInit(){const t=history.state.course;t?this.applyCourse(t):(this.toast.error("Course details are unavailable. Please select a course from the list."),this.navigateToCoursesList())}applyCourse(t){this.course=t,this.students=t.students||[],this.dataSource.data=this.students}navigateToCoursesList(){this.router.navigate(["/online-course/courses/view"]).catch(()=>{})}getStudentName(t){return t?t.student?.fullName||t.fullName||`Student #${t.studentId??t.id??"\u2014"}`:"Unknown student"}getStudentIdentifier(t){if(t){if(t.student?.email)return t.student.email;if(t.studentId||t.id)return`ID: ${t.studentId??t.id}`}}getStudentInitials(t){return this.getStudentName(t).split(" ").filter(Boolean).slice(0,2).map(b=>b.charAt(0).toUpperCase()).join("")||"S"}getManagers(t){return t&&Array.isArray(t.managers)?t.managers.map(a=>this.resolveManagerName(a)).filter(a=>!!a):[]}resolveManagerName(t){if(null!=t){if("string"==typeof t||"number"==typeof t)return String(t);if(t.manager){const a=t.manager;if(a.fullName)return a.fullName;if(a.name)return a.name}if(t.managerName)return t.managerName;if(null!=t.managerId)return String(t.managerId)}}getSchedule(t){return t&&Array.isArray(t.days)?t.days.filter(a=>!!a):[]}getScheduleDayLabel(t){return t?t.dayName?t.dayName:(0,l.Lv)(t.dayId):""}getScheduleTimeLabel(t){return t?(0,u.UR)(t.time):""}getDayLabel(t){if(!t)return"";const a=this.resolvePrimaryDay(t);if(a){if(a.dayName)return a.dayName;if(null!=a.dayId)return(0,l.Lv)(a.dayId)}if(t.dayNames?.length){const r=t.dayNames[0];if(r)return r}return t.dayName?t.dayName:(0,l.Lv)(t.dayId??t.day)}getFormattedStartTime(t){if(!t)return"";const r=this.resolvePrimaryDay(t)?.time??t.startTime??t.time;return(0,u.UR)(r)}resolvePrimaryDay(t){if(t&&Array.isArray(t.days))return t.days.find(a=>!!a)??void 0}static#e=this.\u0275fac=function(a){return new(a||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-courses-details"]],decls:21,vars:7,consts:[["fallbackSchedule",""],[1,"row","p-t-25"],[1,"col-12"],["cardTitle","Course Details","padding","0","cardClass","sm-block"],[1,"p-10"],[1,"m-b-10"],[4,"ngIf"],[1,"p-b-15"],[1,"table-containe","table-reponsive"],[1,"table-responsive"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","fullName"],["mat-header-cell","","class","p-l-25",4,"matHeaderCellDef"],["mat-cell","","class","p-l-25 text-nowrap",4,"matCellDef"],["matColumnDef","action"],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["mat-cell","","class","text-center",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"ngIf"],[4,"ngIf","ngIfElse"],["class","schedule-item",4,"ngFor","ngForOf"],[1,"schedule-item"],[1,"schedule-day"],[1,"schedule-separator"],[1,"schedule-time"],["mat-header-cell","",1,"p-l-25"],["mat-cell","",1,"p-l-25","text-nowrap"],["mat-header-cell","",1,"text-center"],["mat-cell","",1,"text-center"],[1,"list-inline","p-l-0","m-b-0"],["matTooltip","Add Report",1,"list-inline-item"],[1,"avatar","avatar-xs","text-muted",3,"routerLink","state"],[1,"ti","ti-report","f-18"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","2",1,"mat-cell"]],template:function(a,r){1&a&&(e.j41(0,"div",1)(1,"div",2)(2,"app-card",3)(3,"div",4)(4,"h5",5),e.EFF(5),e.k0s(),e.DNE(6,I,2,1,"div",6)(7,G,5,3,"div",6),e.k0s(),e.j41(8,"div",7)(9,"div",8)(10,"div",9)(11,"table",10),e.qex(12,11),e.DNE(13,L,2,0,"th",12)(14,$,2,1,"td",13),e.bVm(),e.qex(15,14),e.DNE(16,k,2,0,"th",15)(17,j,5,6,"td",16),e.bVm(),e.DNE(18,A,1,0,"tr",17)(19,B,1,0,"tr",18)(20,U,3,0,"tr",19),e.k0s()()()()()()()),2&a&&(e.R7$(5),e.JRh(null==r.course?null:r.course.name),e.R7$(),e.Y8G("ngIf",(null==r.course?null:r.course.teacher)||(null==r.course?null:r.course.teacherName)||(null==r.course?null:r.course.teacherId)),e.R7$(),e.Y8G("ngIf",r.course),e.R7$(4),e.Y8G("dataSource",r.dataSource),e.R7$(7),e.Y8G("matHeaderRowDef",r.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",r.displayedColumns),e.R7$(),e.Y8G("ngIf",0===r.dataSource.data.length))},dependencies:[D.G,p.Sq,p.bT,g.e,i.Zl,i.tL,i.ji,i.cC,i.YV,i.iL,i.KS,i.$R,i.YZ,i.NB,h.i,c.iI,c.Wk],encapsulation:2})}return n})()}}]);