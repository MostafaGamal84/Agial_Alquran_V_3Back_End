"use strict";(self.webpackChunkable_pro=self.webpackChunkable_pro||[]).push([[604,6062,8223],{6062:(p,d,r)=>{r.r(d),r.d(d,{CoursesDetailsComponent:()=>w});var l=r(8728),u=r(3243),f=r(8132),o=r(645),h=r(6053),_=r(5972),c=r(1227),m=r(7509),g=r(8223),e=r(3664),C=r(2200),D=r(6735);function v(n,s){if(1&n&&(e.j41(0,"div",22)(1,"span",23),e.EFF(2,"\u0627\u0644\u0645\u0639\u0644\u0645"),e.k0s(),e.j41(3,"span",24),e.EFF(4),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(4),e.SpI(" ",(null==t.course||null==t.course.teacher?null:t.course.teacher.fullName)||(null==t.course?null:t.course.teacherName)||(null==t.course?null:t.course.teacherId)," ")}}function E(n,s){if(1&n&&(e.j41(0,"div",22)(1,"span",23),e.EFF(2,"\u0627\u0644\u0641\u0631\u0639"),e.k0s(),e.j41(3,"span",24),e.EFF(4),e.k0s()()),2&n){const t=s.ngIf;e.R7$(4),e.JRh(t)}}function I(n,s){if(1&n&&(e.qex(0),e.j41(1,"span",29),e.EFF(2,"\u2022"),e.k0s(),e.j41(3,"span",30),e.EFF(4),e.k0s(),e.bVm()),2&n){const t=s.ngIf;e.R7$(4),e.JRh(t)}}function y(n,s){if(1&n&&(e.j41(0,"li",27)(1,"span",28),e.EFF(2),e.k0s(),e.DNE(3,I,5,1,"ng-container",21),e.k0s()),2&n){const t=s.$implicit,a=e.XpG(4);e.R7$(2),e.JRh(a.getScheduleDayLabel(t)),e.R7$(),e.Y8G("ngIf",a.getScheduleTimeLabel(t))}}function R(n,s){if(1&n&&(e.j41(0,"div",22)(1,"span",23),e.EFF(2,"\u0627\u0644\u0645\u0648\u0627\u0639\u064a\u062f"),e.k0s(),e.j41(3,"div",24)(4,"ul",25),e.DNE(5,y,4,2,"li",26),e.k0s()()()),2&n){const t=e.XpG().ngIf;e.R7$(5),e.Y8G("ngForOf",t)}}function M(n,s){if(1&n&&(e.j41(0,"div",22)(1,"span",23),e.EFF(2,"\u064a\u0648\u0645"),e.k0s(),e.j41(3,"span",24),e.EFF(4),e.k0s()()),2&n){const t=e.XpG(3).ngIf,a=e.XpG();e.R7$(4),e.JRh(a.getDayLabel(t))}}function F(n,s){if(1&n&&(e.j41(0,"div",22)(1,"span",23),e.EFF(2,"\u0627\u0644\u0648\u0642\u062a"),e.k0s(),e.j41(3,"span",24),e.EFF(4),e.k0s()()),2&n){const t=e.XpG(3).ngIf,a=e.XpG();e.R7$(4),e.JRh(a.getFormattedStartTime(t))}}function O(n,s){if(1&n&&(e.qex(0),e.DNE(1,M,5,1,"div",20)(2,F,5,1,"div",20),e.bVm()),2&n){const t=e.XpG(2).ngIf,a=e.XpG();e.R7$(),e.Y8G("ngIf",a.getDayLabel(t)),e.R7$(),e.Y8G("ngIf",a.getFormattedStartTime(t))}}function P(n,s){if(1&n&&(e.qex(0),e.DNE(1,R,6,1,"div",20)(2,O,3,2,"ng-container",21),e.bVm()),2&n){const t=s.ngIf;e.R7$(),e.Y8G("ngIf",t.length),e.R7$(),e.Y8G("ngIf",!t.length)}}function T(n,s){if(1&n&&(e.j41(0,"li",27)(1,"span",28),e.EFF(2),e.k0s()()),2&n){const t=s.$implicit;e.R7$(2),e.JRh(t.manager)}}function x(n,s){if(1&n&&(e.j41(0,"div",22)(1,"span",23),e.EFF(2,"\u0627\u0644\u0645\u0634\u0631\u0641"),e.k0s(),e.j41(3,"div",24)(4,"ul",25),e.DNE(5,T,3,1,"li",26),e.k0s()()()),2&n){const t=e.XpG().ngIf;e.R7$(5),e.Y8G("ngForOf",t)}}function N(n,s){if(1&n&&(e.qex(0),e.DNE(1,x,6,1,"div",20),e.bVm()),2&n){const t=s.ngIf;e.R7$(),e.Y8G("ngIf",t.length)}}function $(n,s){if(1&n&&(e.j41(0,"div",19),e.DNE(1,v,5,1,"div",20)(2,E,5,1,"div",20)(3,P,3,2,"ng-container",21)(4,N,2,1,"ng-container",21),e.k0s()),2&n){const t=s.ngIf,a=e.XpG();e.R7$(),e.Y8G("ngIf",(null==a.course?null:a.course.teacher)||(null==a.course?null:a.course.teacherName)||(null==a.course?null:a.course.teacherId)),e.R7$(),e.Y8G("ngIf",a.getBranchLabel(t.branchId)),e.R7$(),e.Y8G("ngIf",a.getSchedule(t)),e.R7$(),e.Y8G("ngIf",a.getManagers(t))}}function G(n,s){1&n&&(e.j41(0,"th",31),e.EFF(1,"\u0627\u0644\u0637\u0644\u0627\u0628"),e.k0s())}function L(n,s){if(1&n&&(e.j41(0,"td",32),e.EFF(1),e.k0s()),2&n){const t=s.$implicit;e.R7$(),e.SpI(" ",(null==t.student?null:t.student.fullName)||t.fullName," ")}}function b(n,s){1&n&&e.nrm(0,"th",33)}function S(n,s){1&n&&(e.j41(0,"td",34),e.nrm(1,"ul",35),e.k0s())}function A(n,s){1&n&&e.nrm(0,"tr",36)}function j(n,s){1&n&&e.nrm(0,"tr",37)}function k(n,s){1&n&&(e.j41(0,"tr",38)(1,"td",39),e.EFF(2,"\u0644\u0627 \u064a\u0648\u062c\u062f \u0637\u0644\u0627\u0628 \u0644\u0647\u0630\u0629 \u0627\u0644\u062d\u0644\u0642\u0629 \u0628\u0639\u062f"),e.k0s()())}let w=(()=>{class n{constructor(){this.router=(0,l.WQX)(u.Ix),this.toast=(0,l.WQX)(m.f),this.students=[],this.displayedColumns=["fullName","action"],this.dataSource=new o.I6}ngOnInit(){const t=history.state.course;t?this.applyCourse(t):(this.toast.error("\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u062d\u0644\u0642\u0629 are unavailable. Please select a course from the list."),this.navigateToCoursesList())}applyCourse(t){this.course=t,this.students=t.students||[],this.dataSource.data=this.students}navigateToCoursesList(){this.router.navigate(["/online-course/courses/view"]).catch(()=>{})}getStudentName(t){return t?t.student?.fullName||t.fullName||`Student #${t.studentId??t.id??"\u2014"}`:"Unknown student"}getStudentIdentifier(t){if(t){if(t.student?.email)return t.student.email;if(t.studentId||t.id)return`ID: ${t.studentId??t.id}`}}getStudentInitials(t){return this.getStudentName(t).split(" ").filter(Boolean).slice(0,2).map(B=>B.charAt(0).toUpperCase()).join("")||"S"}getManagers(t){return t&&Array.isArray(t.managers)?(console.log(t.managers),t.managers.map(a=>this.resolveManagerName(a)).filter(a=>!1)):[]}resolveManagerName(t){if(null!=t){if("string"==typeof t||"number"==typeof t)return String(t);if(t.manager){const a=t.manager;if(a.fullName)return a.fullName;if(a.name)return a.name}if(t.managerName)return t.managerName;if(null!=t.managerId)return String(t.managerId)}}getSchedule(t){return t&&Array.isArray(t.days)?t.days.filter(a=>!!a):[]}getScheduleDayLabel(t){return t?t.dayName?t.dayName:(0,_.Lv)(t.dayId):""}getScheduleTimeLabel(t){return t?(0,c.UR)(t.time):""}getDayLabel(t){if(!t)return"";const a=this.resolvePrimaryDay(t);if(a){if(a.dayName)return a.dayName;if(null!=a.dayId)return(0,_.Lv)(a.dayId)}if(t.dayNames?.length){const i=t.dayNames[0];if(i)return i}return t.dayName?t.dayName:(0,_.Lv)(t.dayId??t.day)}getBranchLabel(t){return t===g.E.Mens?"\u0627\u0644\u0631\u062c\u0627\u0644":t===g.E.Women?"\u0627\u0644\u0646\u0633\u0627\u0621":""}getFormattedStartTime(t){if(!t)return"";const i=this.resolvePrimaryDay(t)?.time??t.startTime??t.time;return(0,c.UR)(i)}resolvePrimaryDay(t){if(t&&Array.isArray(t.days))return t.days.find(a=>!!a)??void 0}static#e=this.\u0275fac=function(a){return new(a||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-courses-details"]],decls:20,vars:6,consts:[[1,"row","p-t-25"],[1,"col-12"],["cardTitle","\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u062d\u0644\u0642\u0629","padding","0","cardClass","sm-block"],[1,"p-10"],[1,"m-b-10"],["class","course-details-table",4,"ngIf"],[1,"p-b-15"],[1,"table-containe","table-reponsive"],[1,"table-responsive"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","fullName"],["mat-header-cell","","class","p-l-25",4,"matHeaderCellDef"],["mat-cell","","class","p-l-25 text-nowrap",4,"matCellDef"],["matColumnDef","action"],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["mat-cell","","class","text-center",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"ngIf"],[1,"course-details-table"],["class","course-detail-row",4,"ngIf"],[4,"ngIf"],[1,"course-detail-row"],[1,"course-detail-label"],[1,"course-detail-value"],[1,"course-detail-list"],["class","schedule-item",4,"ngFor","ngForOf"],[1,"schedule-item"],[1,"schedule-day"],[1,"schedule-separator"],[1,"schedule-time"],["mat-header-cell","",1,"p-l-25"],["mat-cell","",1,"p-l-25","text-nowrap"],["mat-header-cell","",1,"text-center"],["mat-cell","",1,"text-center"],[1,"list-inline","p-l-0","m-b-0"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","2",1,"mat-cell"]],template:function(a,i){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"app-card",2)(3,"div",3)(4,"h5",4),e.EFF(5),e.k0s(),e.DNE(6,$,5,4,"div",5),e.k0s(),e.j41(7,"div",6)(8,"div",7)(9,"div",8)(10,"table",9),e.qex(11,10),e.DNE(12,G,2,0,"th",11)(13,L,2,1,"td",12),e.bVm(),e.qex(14,13),e.DNE(15,b,1,0,"th",14)(16,S,2,0,"td",15),e.bVm(),e.DNE(17,A,1,0,"tr",16)(18,j,1,0,"tr",17)(19,k,3,0,"tr",18),e.k0s()()()()()()()),2&a&&(e.R7$(5),e.JRh(null==i.course?null:i.course.name),e.R7$(),e.Y8G("ngIf",i.course),e.R7$(4),e.Y8G("dataSource",i.dataSource),e.R7$(7),e.Y8G("matHeaderRowDef",i.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",i.displayedColumns),e.R7$(),e.Y8G("ngIf",0===i.dataSource.data.length))},dependencies:[h.G,C.Sq,C.bT,o.Zl,o.tL,o.ji,o.cC,o.YV,o.iL,o.KS,o.$R,o.YZ,o.NB,D.i,f.iI],styles:[".course-details-table[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.course-detail-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:flex-start;gap:1rem 1.5rem}.course-detail-label[_ngcontent-%COMP%]{flex:0 0 180px;font-size:.85rem;font-weight:600;color:var(--accent-600);text-transform:none;line-height:1.4}.course-detail-value[_ngcontent-%COMP%]{flex:1 1 240px;font-size:1rem;font-weight:500;line-height:1.5;min-width:200px}.course-detail-list[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none;display:flex;flex-wrap:wrap;gap:.75rem 1.5rem}.course-detail-list[_ngcontent-%COMP%]   .schedule-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.35rem}.course-detail-list[_ngcontent-%COMP%]   .schedule-day[_ngcontent-%COMP%]{font-weight:500}.course-detail-list[_ngcontent-%COMP%]   .schedule-separator[_ngcontent-%COMP%]{opacity:.6}.course-detail-list[_ngcontent-%COMP%]   .schedule-time[_ngcontent-%COMP%]{font-weight:500}@media (max-width: 576px){.course-detail-label[_ngcontent-%COMP%], .course-detail-value[_ngcontent-%COMP%]{flex:1 1 100%;min-width:0}.course-detail-row[_ngcontent-%COMP%]{gap:.5rem 0}}"]})}return n})()},7509:(p,d,r)=>{r.d(d,{f:()=>f});var l=r(8728),u=r(5416);let f=(()=>{class o{constructor(){this.snackBar=(0,l.WQX)(u.UG)}success(_,c="Close",m=3e3){this.snackBar.open(_,c,{duration:m,panelClass:["toast-success"]})}error(_,c="Close",m=3e3){this.snackBar.open(_,c,{duration:m,panelClass:["toast-error"]})}static#e=this.\u0275fac=function(c){return new(c||o)};static#t=this.\u0275prov=l.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})()},8223:(p,d,r)=>{r.d(d,{E:()=>l});var l=function(u){return u[u.Mens=1]="Mens",u[u.Women=2]="Women",u}(l||{})}}]);