"use strict";(self.webpackChunkable_pro=self.webpackChunkable_pro||[]).push([[6775],{16775:(b,_,n)=>{n.r(_),n.d(_,{StudentApplyComponent:()=>L});var p=n(48728),c=n(17705),u=n(72200),s=n(90645),m=n(96695),d=n(56147),f=n(76848),h=n(72709),C=n(88937),t=n(73664),E=n(33746),S=n(5404),D=n(75747),y=n(16735);const v=()=>[5,10,25,100];function g(e,i){1&e&&(t.j41(0,"th",25),t.EFF(1,"NAME"),t.k0s())}function A(e,i){if(1&e&&(t.j41(0,"td",26),t.EFF(1),t.k0s()),2&e){const a=i.$implicit;t.R7$(),t.SpI(" ",a.fullName," ")}}function T(e,i){1&e&&(t.j41(0,"th",27),t.EFF(1,"EMAIL"),t.k0s())}function R(e,i){if(1&e&&(t.j41(0,"td",28),t.EFF(1),t.k0s()),2&e){const a=i.$implicit;t.R7$(),t.SpI(" ",a.email," ")}}function O(e,i){1&e&&(t.j41(0,"th",27),t.EFF(1,"MOBILE"),t.k0s())}function I(e,i){if(1&e&&(t.j41(0,"td",28),t.EFF(1),t.k0s()),2&e){const a=i.$implicit;t.R7$(),t.SpI(" ",a.mobile," ")}}function M(e,i){1&e&&(t.j41(0,"th",27),t.EFF(1,"NATIONALITY"),t.k0s())}function P(e,i){if(1&e&&(t.j41(0,"td",28),t.EFF(1),t.k0s()),2&e){const a=i.$implicit;t.R7$(),t.SpI(" ",a.nationality," ")}}function x(e,i){1&e&&(t.j41(0,"th",29),t.EFF(1,"ACTIONS"),t.k0s())}function j(e,i){if(1&e){const a=t.RV6();t.j41(0,"td",28)(1,"div",30)(2,"ul",31)(3,"li",32),t.bIt("click",function(){const l=p.eBV(a).$implicit,r=t.XpG();return p.Njj(r.changeStatus(l,!0))}),t.j41(4,"a",33),t.nrm(5,"i",34),t.k0s()(),t.j41(6,"li",35),t.bIt("click",function(){const l=p.eBV(a).$implicit,r=t.XpG();return p.Njj(r.changeStatus(l,!1))}),t.j41(7,"a",36),t.nrm(8,"i",37),t.k0s()()()()()}}function F(e,i){1&e&&t.nrm(0,"tr",38)}function k(e,i){1&e&&t.nrm(0,"tr",39)}function B(e,i){if(1&e&&(t.j41(0,"tr",40)(1,"td",41),t.EFF(2),t.k0s()()),2&e){t.XpG();const a=t.sdS(8);t.R7$(2),t.SpI('No data matching the filter "',a.value,'"')}}let L=(()=>{class e{constructor(){this.lookupService=(0,p.WQX)(f.s),this.userService=(0,p.WQX)(h.D),this.displayedColumns=["fullName","email","mobile","nationality","action"],this.dataSource=new s.I6,this.totalCount=0,this.filter={skipCount:0,maxResultCount:10,filter:"inactive=true"},this.paginator=c.ebz.required(m.iy)}applyFilter(a){this.filter.searchTerm=a.target.value.trim().toLowerCase(),this.filter.skipCount=0,this.paginator().firstPage(),this.loadStudents()}ngOnInit(){this.loadStudents()}loadStudents(){this.lookupService.getUsersForSelects(this.filter,Number(C.m.Student),0,0,0).subscribe(a=>{a.isSuccess&&a.data?.items?(this.dataSource.data=a.data.items,this.totalCount=a.data.totalCount):(this.dataSource.data=[],this.totalCount=0)})}changeStatus(a,o){this.userService.disableUser(a.id,o).subscribe(l=>{l.isSuccess&&(this.dataSource.data=this.dataSource.data.filter(r=>r.id!==a.id),this.totalCount--)})}ngAfterViewInit(){this.paginator().page.subscribe(()=>{this.filter.skipCount=this.paginator().pageIndex*this.paginator().pageSize,this.filter.maxResultCount=this.paginator().pageSize,this.loadStudents()})}static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-student-apply"]],viewQuery:function(o,l){1&o&&t.wEZ(l.paginator,m.iy,5),2&o&&t.NyB()},decls:30,vars:7,consts:[["input",""],[1,"row","p-t-25"],[1,"col-12"],["cardTitle","Apply Student List","padding","0"],[1,"p-b-15"],[1,"table-containe","table-reponsive"],[1,"table-search","p-t-15","p-x-15"],["appearance","outline",1,"w-100"],["matInput","","placeholder","Search....",3,"keyup"],[1,"table-responsive"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","fullName"],["mat-header-cell","","class","p-l-25",4,"matHeaderCellDef"],["mat-cell","","class","p-l-25 text-nowrap",4,"matCellDef"],["matColumnDef","email"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","text-nowrap",4,"matCellDef"],["matColumnDef","mobile"],["matColumnDef","nationality"],["matColumnDef","action"],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"length","pageSize","pageSizeOptions"],["mat-header-cell","",1,"p-l-25"],["mat-cell","",1,"p-l-25","text-nowrap"],["mat-header-cell",""],["mat-cell","",1,"text-nowrap"],["mat-header-cell","",1,"text-center"],[1,"text-center","text-nowrap"],[1,"list-inline","p-l-0"],["matTooltip","Accept",1,"list-inline-item","m-r-10",3,"click"],["href","javascript:",1,"avatar","avatar-xs","bg-success-50","text-success-500"],[1,"ti","ti-check","f-20"],["matTooltip","Reject",1,"list-inline-item","m-r-10",3,"click"],["href","javascript:",1,"avatar","avatar-xs","bg-warn-50","text-warn-500"],[1,"ti","ti-x","f-20"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","5",1,"mat-cell"]],template:function(o,l){if(1&o){const r=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"app-card",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"mat-form-field",7)(7,"input",8,0),t.bIt("keyup",function(N){return p.eBV(r),p.Njj(l.applyFilter(N))}),t.k0s()()(),t.j41(9,"div",9)(10,"table",10),t.qex(11,11),t.DNE(12,g,2,0,"th",12)(13,A,2,1,"td",13),t.bVm(),t.qex(14,14),t.DNE(15,T,2,0,"th",15)(16,R,2,1,"td",16),t.bVm(),t.qex(17,17),t.DNE(18,O,2,0,"th",15)(19,I,2,1,"td",16),t.bVm(),t.qex(20,18),t.DNE(21,M,2,0,"th",15)(22,P,2,1,"td",16),t.bVm(),t.qex(23,19),t.DNE(24,x,2,0,"th",20)(25,j,9,0,"td",16),t.bVm(),t.DNE(26,F,1,0,"tr",21)(27,k,1,0,"tr",22)(28,B,3,1,"tr",23),t.k0s(),t.nrm(29,"mat-paginator",24),t.k0s()()()()()()}2&o&&(t.R7$(10),t.Y8G("dataSource",l.dataSource),t.R7$(16),t.Y8G("matHeaderRowDef",l.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",l.displayedColumns),t.R7$(2),t.Y8G("length",l.totalCount)("pageSize",l.filter.maxResultCount)("pageSizeOptions",t.lJ4(6,v)))},dependencies:[d.G,E.fg,S.j,m.iy,D.e,s.Zl,s.tL,s.ji,s.cC,s.YV,s.iL,s.KS,s.$R,s.YZ,s.NB,s.ky,y.i,u.MD],encapsulation:2})}return e})()}}]);