"use strict";(self.webpackChunkable_pro=self.webpackChunkable_pro||[]).push([[976],{50976:(b,_,s)=>{s.r(_),s.d(_,{SubscribeFormComponent:()=>P});var n=s(48728),E=s(72200),e=s(89417),i=s(35568),d=s(38132),u=s(56147),o=s(65862),c=s(87509),t=s(73664),f=s(88834),h=s(33746),p=s(5404),M=s(72923),v=s(25079),D=s(16735),I=s(68018);function O(l,T){if(1&l&&(t.j41(0,"mat-option",14),t.EFF(1),t.k0s()),2&l){const r=T.$implicit;t.Y8G("value",r.id),t.R7$(),t.JRh(r.name)}}let P=(()=>{class l{constructor(){this.fb=(0,n.WQX)(e.ok),this.service=(0,n.WQX)(o.q),this.router=(0,n.WQX)(i.Ix),this.toast=(0,n.WQX)(c.f),this.form=this.fb.group({id:[0],name:["",e.k0.required],leprice:[null],sarprice:[null],usdprice:[null],minutes:[null],subscribeTypeId:[null]}),this.isEdit=!1,this.types=[]}ngOnInit(){const r=history.state?.item;r&&(this.isEdit=!0,this.form.patchValue({id:r.id,name:r.name??"",leprice:r.leprice??null,sarprice:r.sarprice??null,usdprice:r.usdprice??null,minutes:r.minutes??null,subscribeTypeId:r.subscribeTypeId??r.subscribeType?.id??null})),this.service.getAllTypes({skipCount:0,maxResultCount:100}).subscribe({next:a=>{this.types=a.isSuccess&&a.data?.items?a.data.items:[]},error:()=>this.toast.error("Error loading subscribe types")})}submit(){const r=this.form.value;this.isEdit?this.service.update(r).subscribe({next:()=>{this.toast.success("Subscribe saved successfully"),this.router.navigate(["/online-course/setting/subscribe/list"])},error:()=>this.toast.error("Error saving subscribe")}):this.service.create(r).subscribe({next:()=>{this.toast.success("Subscribe saved successfully"),this.router.navigate(["/online-course/setting/subscribe/list"])},error:()=>this.toast.error("Error saving subscribe")})}static#t=this.\u0275fac=function(m){return new(m||l)};static#s=this.\u0275cmp=t.VBU({type:l,selectors:[["app-subscribe-form"]],decls:44,vars:26,consts:[[3,"cardTitle"],[1,"row","g-3",3,"ngSubmit","formGroup"],[1,"col-md-6"],["appearance","outline",1,"w-100"],["matInput","","formControlName","name"],["matInput","","type","number","formControlName","minutes"],[1,"col-md-4"],["matInput","","type","number","formControlName","leprice"],["matInput","","type","number","formControlName","sarprice"],["matInput","","type","number","formControlName","usdprice"],["formControlName","subscribeTypeId"],[3,"value",4,"ngFor","ngForOf"],[1,"col-12"],["mat-flat-button","","color","primary","type","submit"],[3,"value"]],template:function(m,a){1&m&&(t.j41(0,"app-card",0),t.nI1(1,"translate"),t.j41(2,"form",1),t.bIt("ngSubmit",function(){return a.submit()}),t.j41(3,"div",2)(4,"mat-form-field",3)(5,"mat-label"),t.EFF(6),t.nI1(7,"translate"),t.k0s(),t.nrm(8,"input",4),t.k0s()(),t.j41(9,"div",2)(10,"mat-form-field",3)(11,"mat-label"),t.EFF(12),t.nI1(13,"translate"),t.k0s(),t.nrm(14,"input",5),t.k0s()(),t.j41(15,"div",6)(16,"mat-form-field",3)(17,"mat-label"),t.EFF(18),t.nI1(19,"translate"),t.k0s(),t.nrm(20,"input",7),t.k0s()(),t.j41(21,"div",6)(22,"mat-form-field",3)(23,"mat-label"),t.EFF(24),t.nI1(25,"translate"),t.k0s(),t.nrm(26,"input",8),t.k0s()(),t.j41(27,"div",6)(28,"mat-form-field",3)(29,"mat-label"),t.EFF(30),t.nI1(31,"translate"),t.k0s(),t.nrm(32,"input",9),t.k0s()(),t.j41(33,"div",2)(34,"mat-form-field",3)(35,"mat-label"),t.EFF(36),t.nI1(37,"translate"),t.k0s(),t.j41(38,"mat-select",10),t.DNE(39,O,2,2,"mat-option",11),t.k0s()()(),t.j41(40,"div",12)(41,"button",13),t.EFF(42),t.nI1(43,"translate"),t.k0s()()()()),2&m&&(t.Y8G("cardTitle",t.bMT(1,10,a.isEdit?"Edit Subscribe":"Add Subscribe")),t.R7$(2),t.Y8G("formGroup",a.form),t.R7$(4),t.JRh(t.bMT(7,12,"Name")),t.R7$(6),t.JRh(t.bMT(13,14,"Minutes")),t.R7$(6),t.JRh(t.bMT(19,16,"LE Price")),t.R7$(6),t.JRh(t.bMT(25,18,"SAR Price")),t.R7$(6),t.JRh(t.bMT(31,20,"USD Price")),t.R7$(6),t.JRh(t.bMT(37,22,"Subscribe Type")),t.R7$(3),t.Y8G("ngForOf",a.types),t.R7$(3),t.JRh(t.bMT(43,24,"Save")))},dependencies:[E.MD,E.Sq,u.G,f.$z,h.fg,p.j,p.M,M.g,v.M,e.qT,e.me,e.Q0,e.BC,e.cb,e.j4,e.JD,D.i,I.D9,d.iI],encapsulation:2})}return l})()},87509:(b,_,s)=>{s.d(_,{f:()=>e});var n=s(48728),E=s(95416);let e=(()=>{class i{constructor(){this.snackBar=(0,n.WQX)(E.UG)}success(u,o="Close",c=3e3){this.snackBar.open(u,o,{duration:c,panelClass:["toast-success"]})}error(u,o="Close",c=3e3){this.snackBar.open(u,o,{duration:c,panelClass:["toast-error"]})}static#t=this.\u0275fac=function(o){return new(o||i)};static#s=this.\u0275prov=n.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})()}}]);