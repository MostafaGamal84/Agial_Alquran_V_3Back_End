"use strict";(self.webpackChunkable_pro=self.webpackChunkable_pro||[]).push([[8932],{2754:(A,_,s)=>{s.d(_,{a:()=>y,w:()=>l});const l=[{value:"all",translationKey:"\u0643\u0644 \u0627\u0645\u0627\u0643\u0646 \u0627\u0644\u0627\u0642\u0627\u0645\u0629"},{value:"egyptian",translationKey:"\u0645\u0635\u0631\u064a\u064a\u0646"},{value:"arab",translationKey:"\u0639\u0631\u0628"},{value:"foreign",translationKey:"\u0627\u062c\u0627\u0646\u0628"}];function y(v){return!(!v||"all"===v)}},6109:(A,_,s)=>{s.d(_,{JY:()=>h,QO:()=>b,rJ:()=>M});const l=20,y=["egypt","\u0645\u0635\u0631"],v=new Set([971,966,965,974,973,968,967,962,961,963,964,970,249,218,213,212,216,222,252,253,269]),C=["saudi","\u0627\u0644\u0633\u0639\u0648\u062f","emirates","\u0627\u0644\u0625\u0645\u0627\u0631\u0627\u062a","kuwait","\u0627\u0644\u0643\u0648\u064a\u062a","bahrain","\u0627\u0644\u0628\u062d\u0631\u064a\u0646","qatar","\u0642\u0637\u0631","oman","\u0639\u0645\u0627\u0646","yemen","\u0627\u0644\u064a\u0645\u0646","jordan","\u0627\u0644\u0623\u0631\u062f\u0646","lebanon","\u0644\u0628\u0646\u0627\u0646","syria","\u0633\u0648\u0631\u064a\u0627","iraq","\u0627\u0644\u0639\u0631\u0627\u0642","palestine","\u0641\u0644\u0633\u0637\u064a\u0646","sudan","\u0627\u0644\u0633\u0648\u062f\u0627\u0646","libya","\u0644\u064a\u0628\u064a\u0627","algeria","\u0627\u0644\u062c\u0632\u0627\u0626\u0631","morocco","\u0627\u0644\u0645\u063a\u0631\u0628","tunisia","\u062a\u0648\u0646\u0633","mauritania","\u0645\u0648\u0631\u064a\u062a\u0627\u0646\u064a\u0627","somalia","\u0627\u0644\u0635\u0648\u0645\u0627\u0644","djibouti","\u062c\u064a\u0628\u0648\u062a\u064a","comoros","\u062c\u0632\u0631 \u0627\u0644\u0642\u0645\u0631"];function b(a){if(!a)return!1;const u=Number(a.telCode);if(Number.isFinite(u)&&u===l)return!0;const m=String(a.name??"").toLowerCase();return y.some(R=>m.includes(R))}function h(a){if(!a||b(a))return!1;const u=Number(a.telCode);if(Number.isFinite(u)&&v.has(u))return!0;const m=String(a.name??"").toLowerCase();return C.some(R=>m.includes(R))}function M(a,u){switch(u){case"egyptian":return b(a);case"arab":return h(a);case"foreign":return!a||!b(a)&&!h(a);default:return!0}}},6848:(A,_,s)=>{s.d(_,{_:()=>a,s:()=>u});var l=s(9330),y=s(8728),v=s(6354),C=s(2525),b=s(5366),h=s(8937),M=s(2754);function a(m,R={}){const r=m.data,g=Array.isArray(r)?r:null,f=r&&!Array.isArray(r)?r:{totalCount:g?.length??0,items:g??[]},x=f.items,T=Array.isArray(x)?x:g??[],D=S=>{const j=Number(S);return Number.isFinite(j)?j:void 0},t=[R.skipCount,f.skipCount].map(D).filter(S=>void 0!==S),k=Math.max(0,Math.trunc(t.length>0?t[0]:0))+T.length,w=[f.totalCount,f.total,f.count,f.totalItems,f.totalRecords,m.totalCount,m.total,m.count].map(D).find(S=>void 0!==S),E=void 0!==w?Math.max(Math.trunc(w),k):k;return{...m,data:{...f,items:T,totalCount:E}}}let u=(()=>{class m{constructor(){this.http=(0,y.WQX)(l.Qq),this.auth=(0,y.WQX)(b.k)}getUsersForSelects(r,g,f=0,x=0,T=0,D,F=!1){const I=this.auth.getRole()===h.m.Admin?0:T,L=this.resolveLookupMode(r),k=!L;let d=(new l.Nl).set("UserTypeId",g.toString()).set("managerId",f.toString()).set("teacherId",x.toString()).set("branchId",I.toString());k&&void 0!==r.skipCount&&(d=d.set("SkipCount",r.skipCount.toString())),k&&void 0!==r.maxResultCount&&(d=d.set("MaxResultCount",r.maxResultCount.toString()));const w=r.searchWord??r.searchTerm;r.searchTerm&&(d=d.set("SearchTerm",r.searchTerm)),w&&(d=d.set("SearchWord",w));const E=[];return r.filter&&E.push(r.filter),L&&E.push(`${L}=true`),E.length&&(d=d.set("Filter",E.join("&"))),r.lang&&(d=d.set("Lang",r.lang)),r.sortingDirection&&(d=d.set("SortingDirection",r.sortingDirection)),r.sortBy&&(d=d.set("SortBy",r.sortBy)),D&&D>0&&(d=d.set("residentId",D.toString())),(0,M.a)(r.residentGroup)&&(d=d.set("residentGroup",r.residentGroup)),F&&(d=d.set("includeRelations","true")),this.http.get(`${C.c.apiUrl}/api/UsersForGroups/GetUsersForSelects`,{params:d}).pipe((0,v.T)(S=>a(S,{skipCount:r.skipCount})))}getUserDetails(r){const g=(new l.Nl).set("id",r.toString());return this.http.get(`${C.c.apiUrl}/api/UsersForGroups/GetUserDetails`,{params:g})}resolveLookupMode(r){return r.lookupOnly?"lookupOnly":r.lookup?"lookup":r.idsOnly?"idsOnly":null}getAllNationalities(){return this.http.get(`${C.c.apiUrl}/api/LookUp/GetAllNationality`)}getAllGovernorates(){return this.http.get(`${C.c.apiUrl}/api/LookUp/GetAllGovernorate`)}getSubscribesByTypeId(r,g){let f=new l.Nl;return null!=r&&(f=f.set("id",r.toString())),null!=g&&g>0&&(f=f.set("studentId",g.toString())),this.http.get(`${C.c.apiUrl}/api/LookUp/GetAllSubscribesByTypeId`,{params:f})}static#t=this.\u0275fac=function(g){return new(g||m)};static#e=this.\u0275prov=y.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})()},7509:(A,_,s)=>{s.d(_,{f:()=>v});var l=s(8728),y=s(5416);let v=(()=>{class C{constructor(){this.snackBar=(0,l.WQX)(y.UG)}success(h,M="Close",a=3e3){this.snackBar.open(h,M,{duration:a,panelClass:["toast-success"]})}error(h,M="Close",a=3e3){this.snackBar.open(h,M,{duration:a,panelClass:["toast-error"]})}static#t=this.\u0275fac=function(M){return new(M||C)};static#e=this.\u0275prov=l.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})()},7753:(A,_,s)=>{s.d(_,{q:()=>b});var l=s(2200),y=s(4412),v=s(3664);const C=["*"];let b=(()=>{class h{constructor(){this.loadingValue=!1,this.hadithIndex=0,this.showHadithValue=!1,this.defaultHadithList=[{text:"\u062e\u064e\u064a\u0652\u0631\u064f\u0643\u064f\u0645\u0652 \u0645\u064e\u0646 \u062a\u064e\u0639\u064e\u0644\u064e\u0651\u0645\u064e \u0627\u0644\u0652\u0642\u064f\u0631\u0652\u0622\u0646\u064e \u0648\u064e\u0639\u064e\u0644\u064e\u0651\u0645\u064e\u0647\u064f",translation:"\u201cThe best among you are those who learn the Qur\u2019an and teach it.\u201d",reference:"\u0635\u062d\u064a\u062d \u0627\u0644\u0628\u062e\u0627\u0631\u064a",eyebrow:"\u0641\u0636\u0644 \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064a\u0645"},{text:"\u0627\u0642\u0652\u0631\u064e\u0624\u0648\u0627 \u0627\u0644\u0642\u064f\u0631\u0652\u0622\u0646\u064e\u060c \u0641\u064e\u0625\u0650\u0646\u0651\u064e\u0647\u064f \u064a\u064e\u0623\u0652\u062a\u0650\u064a \u064a\u064e\u0648\u0652\u0645\u064e \u0627\u0644\u0642\u0650\u064a\u064e\u0627\u0645\u064e\u0629\u0650 \u0634\u064e\u0641\u0650\u064a\u0639\u064b\u0627 \u0644\u0623\u064e\u0635\u0652\u062d\u064e\u0627\u0628\u0650\u0647\u0650",translation:"\u201cRecite the Qur\u2019an, for it will come as an intercessor for its companions on the Day of Resurrection.\u201d",reference:"\u0635\u062d\u064a\u062d \u0645\u0633\u0644\u0645",eyebrow:"\u0641\u0636\u0644 \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064a\u0645"},{text:"\u0625\u0650\u0646\u0651\u064e \u0627\u0644\u0651\u064e\u0630\u0650\u064a \u0644\u064e\u064a\u0652\u0633\u064e \u0641\u0650\u064a \u062c\u064e\u0648\u0652\u0641\u0650\u0647\u0650 \u0634\u064e\u064a\u0652\u0621\u064c \u0645\u0650\u0646\u064e \u0627\u0644\u0642\u064f\u0631\u0652\u0622\u0646\u0650 \u0643\u064e\u0627\u0644\u0652\u0628\u064e\u064a\u0652\u062a\u0650 \u0627\u0644\u0652\u062e\u064e\u0631\u0650\u0628\u0650",translation:"\u201cThe one who has nothing of the Qur\u2019an in his heart is like a ruined house.\u201d",reference:"\u0633\u0646\u0646 \u0627\u0644\u062a\u0631\u0645\u0630\u064a",eyebrow:"\u0641\u0636\u0644 \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064a\u0645"},{text:"\u062a\u064e\u0639\u064e\u0627\u0647\u064e\u062f\u064f\u0648\u0627 \u0627\u0644\u0642\u064f\u0631\u0652\u0622\u0646\u064e\u060c \u0641\u064e\u0648\u064e\u0627\u0644\u0651\u064e\u0630\u0650\u064a \u0646\u064e\u0641\u0652\u0633\u064f \u0645\u064f\u062d\u064e\u0645\u0651\u064e\u062f\u064d \u0628\u0650\u064a\u064e\u062f\u0650\u0647\u0650 \u0644\u064e\u0647\u064f\u0648\u064e \u0623\u064e\u0634\u064e\u062f\u0651\u064f \u062a\u064e\u0641\u064e\u0644\u0651\u064f\u062a\u064b\u0627 \u0645\u0650\u0646\u064e \u0627\u0644\u0625\u0650\u0628\u0650\u0644\u0650 \u0641\u0650\u064a \u0639\u064f\u0642\u064f\u0644\u0650\u0647\u064e\u0627",translation:"\u201cKeep revising the Qur\u2019an, for it slips away faster than camels from their tethers.\u201d",reference:"\u0645\u062a\u0641\u0642 \u0639\u0644\u064a\u0647",eyebrow:"\u0641\u0636\u0644 \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064a\u0645"},{text:"\u0645\u064e\u062b\u064e\u0644\u064f \u0627\u0644\u0645\u064f\u0624\u0652\u0645\u0650\u0646\u0650 \u0627\u0644\u0651\u064e\u0630\u0650\u064a \u064a\u064e\u0642\u0652\u0631\u064e\u0623\u064f \u0627\u0644\u0642\u064f\u0631\u0652\u0622\u0646\u064e \u0643\u064e\u0645\u064e\u062b\u064e\u0644\u0650 \u0627\u0644\u0623\u064f\u062a\u0652\u0631\u064f\u062c\u0651\u064e\u0629\u0650\u061b \u0631\u0650\u064a\u062d\u064f\u0647\u064e\u0627 \u0637\u064e\u064a\u0651\u0650\u0628\u064c \u0648\u064e\u0637\u064e\u0639\u0652\u0645\u064f\u0647\u064e\u0627 \u0637\u064e\u064a\u0651\u0650\u0628\u064c",translation:"\u201cThe believer who recites the Qur\u2019an is like a citrus fruit: its scent is pleasant and its taste is pleasant.\u201d",reference:"\u0645\u062a\u0641\u0642 \u0639\u0644\u064a\u0647",eyebrow:"\u0641\u0636\u0644 \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064a\u0645"},{text:"\u0627\u0642\u0652\u0631\u064e\u0624\u0648\u0627 \u0633\u064f\u0648\u0631\u064e\u0629\u064e \u0627\u0644\u0628\u064e\u0642\u064e\u0631\u064e\u0629\u0650\u061b \u0641\u064e\u0625\u0650\u0646\u0651\u064e \u0623\u064e\u062e\u0652\u0630\u064e\u0647\u064e\u0627 \u0628\u064e\u0631\u064e\u0643\u064e\u0629\u064c\u060c \u0648\u064e\u062a\u064e\u0631\u0652\u0643\u064e\u0647\u064e\u0627 \u062d\u064e\u0633\u0652\u0631\u064e\u0629\u064c",translation:"\u201cRecite Surah al-Baqarah, for taking it brings blessing and abandoning it brings regret.\u201d",reference:"\u0635\u062d\u064a\u062d \u0645\u0633\u0644\u0645",eyebrow:"\u0641\u0636\u0644 \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064a\u0645"},{text:"\u0625\u0650\u0630\u064e\u0627 \u0642\u064e\u0627\u0645\u064e \u0623\u064e\u062d\u064e\u062f\u064f\u0643\u064f\u0645\u0652 \u0628\u0650\u0627\u0644\u0644\u0651\u064e\u064a\u0652\u0644\u0650 \u0641\u064e\u0639\u064e\u062c\u064e\u0632\u064e \u0639\u064e\u0646\u0652 \u0627\u0644\u0642\u0650\u0631\u064e\u0627\u0621\u064e\u0629\u0650\u060c \u0641\u064e\u0644\u0652\u064a\u064e\u0646\u064e\u0645\u0652\u060c \u062b\u064f\u0645\u0651\u064e \u0644\u0650\u064a\u064e\u0642\u064f\u0645\u0652",translation:"\u201cIf one of you stands to pray at night and finds difficulty in reciting, let him sleep, then stand again.\u201d",reference:"\u0635\u062d\u064a\u062d \u0645\u0633\u0644\u0645",eyebrow:"\u0641\u0636\u0644 \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064a\u0645"},{text:"\u064a\u064f\u0642\u064e\u0627\u0644\u064f \u0644\u0650\u0635\u064e\u0627\u062d\u0650\u0628\u0650 \u0627\u0644\u0642\u064f\u0631\u0652\u0622\u0646\u0650 \u0627\u0642\u0652\u0631\u064e\u0623\u0652 \u0648\u064e\u0627\u0631\u0652\u062a\u064e\u0642\u0650 \u0648\u064e\u0631\u064e\u062a\u0651\u0650\u0644\u0652 \u0643\u064e\u0645\u064e\u0627 \u0643\u064f\u0646\u0652\u062a\u064e \u062a\u064f\u0631\u064e\u062a\u0651\u0650\u0644\u064f \u0641\u0650\u064a \u0627\u0644\u062f\u0651\u064f\u0646\u0652\u064a\u064e\u0627",translation:"\u201cIt will be said to the companion of the Qur\u2019an: Recite, ascend, and recite as you used to in the world.\u201d",reference:"\u0633\u0646\u0646 \u0623\u0628\u064a \u062f\u0627\u0648\u062f",eyebrow:"\u0641\u0636\u0644 \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064a\u0645"},{text:"\u0627\u0644\u0652\u0645\u064e\u0627\u0647\u0650\u0631\u064f \u0628\u0650\u0627\u0644\u0652\u0642\u064f\u0631\u0652\u0622\u0646\u0650 \u0645\u064e\u0639\u064e \u0627\u0644\u0633\u0651\u064e\u0641\u064e\u0631\u064e\u0629\u0650 \u0627\u0644\u0652\u0643\u0650\u0631\u064e\u0627\u0645\u0650 \u0627\u0644\u0652\u0628\u064e\u0631\u064e\u0631\u064e\u0629\u0650",translation:"\u201cThe skilled reciter of the Qur\u2019an will be with the noble and righteous scribes (the angels).\u201d",reference:"\u0645\u062a\u0641\u0642 \u0639\u0644\u064a\u0647",eyebrow:"\u0641\u0636\u0644 \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064a\u0645"},{text:"\u0645\u064e\u0646\u0652 \u0642\u064e\u0631\u064e\u0623\u064e \u062d\u064e\u0631\u0652\u0641\u064b\u0627 \u0645\u0650\u0646\u0652 \u0643\u0650\u062a\u064e\u0627\u0628\u0650 \u0627\u0644\u0644\u0647\u0650 \u0641\u064e\u0644\u064e\u0647\u064f \u0628\u0650\u0647\u0650 \u062d\u064e\u0633\u064e\u0646\u064e\u0629\u064c\u060c \u0648\u064e\u0627\u0644\u062d\u064e\u0633\u064e\u0646\u064e\u0629\u064f \u0628\u0650\u0639\u064e\u0634\u0652\u0631\u0650 \u0623\u064e\u0645\u0652\u062b\u064e\u0627\u0644\u0650\u0647\u064e\u0627",translation:"\u201cWhoever recites a letter from the Book of Allah will have one good deed, and it will be multiplied tenfold.\u201d",reference:"\u0633\u0646\u0646 \u0627\u0644\u062a\u0631\u0645\u0630\u064a",eyebrow:"\u0641\u0636\u0644 \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064a\u0645"},{text:"\u0625\u0650\u0646\u0651\u064e \u0627\u0644\u0642\u064f\u0631\u0652\u0622\u0646\u064e \u064a\u064e\u0631\u0652\u0641\u064e\u0639\u064f \u0623\u064e\u0642\u0652\u0648\u064e\u0627\u0645\u064b\u0627 \u0648\u064e\u064a\u064e\u0636\u064e\u0639\u064f \u0622\u062e\u064e\u0631\u0650\u064a\u0646\u064e",translation:"\u201cIndeed, the Qur\u2019an elevates some people and lowers others.\u201d",reference:"\u0635\u062d\u064a\u062d \u0645\u0633\u0644\u0645",eyebrow:"\u0641\u0636\u0644 \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064a\u0645"},{text:"\u0646\u064e\u0648\u0651\u0650\u0631\u064f\u0648\u0627 \u0628\u064f\u064a\u064f\u0648\u062a\u064e\u0643\u064f\u0645\u0652 \u0628\u0650\u0627\u0644\u0635\u0651\u064e\u0644\u064e\u0627\u0629\u0650 \u0648\u064e\u062a\u0650\u0644\u064e\u0627\u0648\u064e\u0629\u0650 \u0627\u0644\u0642\u064f\u0631\u0652\u0622\u0646\u0650",translation:"\u201cIlluminate your homes with prayer and recitation of the Qur\u2019an.\u201d",reference:"\u0627\u0644\u0645\u0639\u062c\u0645 \u0627\u0644\u0643\u0628\u064a\u0631 \u0644\u0644\u0637\u0628\u0631\u0627\u0646\u064a",eyebrow:"\u0641\u0636\u0644 \u0627\u0644\u0642\u0631\u0622\u0646 \u0627\u0644\u0643\u0631\u064a\u0645"}],this.eventHadithLists=[{name:"\u064a\u0648\u0645 \u0639\u0631\u0641\u0629",match:({day:a,month:u})=>12===u&&9===a,hadiths:[{text:"\u0635\u0650\u064a\u064e\u0627\u0645\u064f \u064a\u064e\u0648\u0652\u0645\u0650 \u0639\u064e\u0631\u064e\u0641\u064e\u0629\u064e \u0623\u064e\u062d\u0652\u062a\u064e\u0633\u0650\u0628\u064f \u0639\u064e\u0644\u064e\u0649 \u0627\u0644\u0644\u0651\u064e\u0647\u0650 \u0623\u064e\u0646\u0652 \u064a\u064f\u0643\u064e\u0641\u0651\u0650\u0631\u064e \u0627\u0644\u0633\u0651\u064e\u0646\u064e\u0629\u064e \u0627\u0644\u0651\u064e\u062a\u0650\u064a \u0642\u064e\u0628\u0652\u0644\u064e\u0647\u064f \u0648\u064e\u0627\u0644\u0633\u0651\u064e\u0646\u064e\u0629\u064e \u0627\u0644\u0651\u064e\u062a\u0650\u064a \u0628\u064e\u0639\u0652\u062f\u064e\u0647\u064f",translation:"\u201cFasting the Day of Arafah expiates the previous year and the coming year.\u201d",reference:"\u0635\u062d\u064a\u062d \u0645\u0633\u0644\u0645",eyebrow:"\u0641\u0636\u0627\u0626\u0644 \u064a\u0648\u0645 \u0639\u0631\u0641\u0629"},{text:"\u0627\u0644\u062d\u064e\u062c\u0651\u064f \u0639\u064e\u0631\u064e\u0641\u064e\u0629\u064f",translation:"\u201cHajj is Arafah.\u201d",reference:"\u0633\u0646\u0646 \u0627\u0644\u062a\u0631\u0645\u0630\u064a",eyebrow:"\u0641\u0636\u0627\u0626\u0644 \u064a\u0648\u0645 \u0639\u0631\u0641\u0629"}]},{name:"\u064a\u0648\u0645 \u0627\u0644\u0646\u062d\u0631",match:({day:a,month:u})=>12===u&&10===a,hadiths:[{text:"\u0623\u064e\u0639\u0652\u0638\u064e\u0645\u064f \u0627\u0644\u0623\u064e\u064a\u0651\u064e\u0627\u0645\u0650 \u0639\u0650\u0646\u062f\u064e \u0627\u0644\u0644\u0651\u064e\u0647\u0650 \u064a\u064e\u0648\u0652\u0645\u064f \u0627\u0644\u0646\u0651\u064e\u062d\u0652\u0631\u0650 \u062b\u064f\u0645\u0651\u064e \u064a\u064e\u0648\u0652\u0645\u064f \u0627\u0644\u0642\u064e\u0631\u0651\u0650",translation:"\u201cThe greatest day with Allah is the Day of Sacrifice, then the Day of Rest.\u201d",reference:"\u0633\u0646\u0646 \u0623\u0628\u064a \u062f\u0627\u0648\u062f",eyebrow:"\u0641\u0636\u0627\u0626\u0644 \u064a\u0648\u0645 \u0627\u0644\u0646\u062d\u0631"},{text:"\u0645\u064e\u0627 \u0639\u064e\u0645\u0650\u0644\u064e \u0627\u0628\u0652\u0646\u064f \u0622\u062f\u064e\u0645\u064e \u064a\u064e\u0648\u0652\u0645\u064e \u0627\u0644\u0646\u0651\u064e\u062d\u0652\u0631\u0650 \u0639\u064e\u0645\u064e\u0644\u064b\u0627 \u0623\u064e\u062d\u064e\u0628\u0651\u064e \u0625\u0650\u0644\u064e\u0649 \u0627\u0644\u0644\u0651\u064e\u0647\u0650 \u0645\u0650\u0646\u0652 \u0625\u0650\u0647\u0652\u0631\u064e\u0627\u0642\u0650 \u0627\u0644\u062f\u0651\u064e\u0645\u0650",translation:"\u201cNo deed is more beloved to Allah on the Day of Sacrifice than shedding blood (of the sacrifice).\u201d",reference:"\u0633\u0646\u0646 \u0627\u0644\u062a\u0631\u0645\u0630\u064a",eyebrow:"\u0641\u0636\u0627\u0626\u0644 \u064a\u0648\u0645 \u0627\u0644\u0646\u062d\u0631"}]},{name:"\u0639\u064a\u062f \u0627\u0644\u0641\u0637\u0631",match:({day:a,month:u})=>10===u&&1===a,hadiths:[{text:"\u0646\u064e\u0647\u064e\u0649 \u0631\u064e\u0633\u064f\u0648\u0644\u064f \u0627\u0644\u0644\u0651\u064e\u0647\u0650 \ufdfa \u0639\u064e\u0646\u0652 \u0635\u064e\u0648\u0652\u0645\u0650 \u064a\u064e\u0648\u0652\u0645\u0650 \u0627\u0644\u0641\u0650\u0637\u0652\u0631\u0650 \u0648\u064e\u064a\u064e\u0648\u0652\u0645\u0650 \u0627\u0644\u0623\u064e\u0636\u0652\u062d\u064e\u0649",translation:"\u201cThe Messenger of Allah forbade fasting on the Day of Fitr and the Day of Adha.\u201d",reference:"\u0645\u062a\u0641\u0642 \u0639\u0644\u064a\u0647",eyebrow:"\u064a\u0648\u0645 \u0627\u0644\u0639\u064a\u062f"},{text:"\u0632\u064e\u0643\u064e\u0627\u0629\u064f \u0627\u0644\u0641\u0650\u0637\u0652\u0631\u0650 \u0637\u064f\u0647\u0652\u0631\u064e\u0629\u064c \u0644\u0650\u0644\u0635\u0651\u064e\u0627\u0626\u0650\u0645\u0650 \u0645\u0650\u0646\u064e \u0627\u0644\u0644\u0651\u064e\u063a\u0652\u0648\u0650 \u0648\u064e\u0627\u0644\u0631\u0651\u064e\u0641\u064e\u062b\u0650",translation:"\u201cZakat al-Fitr is a purification for the fasting person from idle talk and obscenity.\u201d",reference:"\u0633\u0646\u0646 \u0623\u0628\u064a \u062f\u0627\u0648\u062f",eyebrow:"\u064a\u0648\u0645 \u0627\u0644\u0639\u064a\u062f"}]},{name:"\u0639\u0627\u0634\u0648\u0631\u0627\u0621",match:({day:a,month:u})=>1===u&&10===a,hadiths:[{text:"\u0635\u0650\u064a\u064e\u0627\u0645\u064f \u064a\u064e\u0648\u0652\u0645\u0650 \u0639\u064e\u0627\u0634\u064f\u0648\u0631\u064e\u0627\u0621\u064e \u0623\u064e\u062d\u0652\u062a\u064e\u0633\u0650\u0628\u064f \u0639\u064e\u0644\u064e\u0649 \u0627\u0644\u0644\u0651\u064e\u0647\u0650 \u0623\u064e\u0646\u0652 \u064a\u064f\u0643\u064e\u0641\u0651\u0650\u0631\u064e \u0627\u0644\u0633\u0651\u064e\u0646\u064e\u0629\u064e \u0627\u0644\u0651\u064e\u062a\u0650\u064a \u0642\u064e\u0628\u0652\u0644\u064e\u0647\u064f",translation:"\u201cFasting the Day of Ashura expiates the previous year.\u201d",reference:"\u0635\u062d\u064a\u062d \u0645\u0633\u0644\u0645",eyebrow:"\u0641\u0636\u0627\u0626\u0644 \u0639\u0627\u0634\u0648\u0631\u0627\u0621"},{text:"\u0643\u064e\u0627\u0646\u064e \u0627\u0644\u0646\u0651\u064e\u0628\u0650\u064a\u0651\u064f \ufdfa \u064a\u064e\u062a\u064e\u062d\u064e\u0631\u0651\u064e\u0649 \u0635\u0650\u064a\u064e\u0627\u0645\u064e \u064a\u064e\u0648\u0652\u0645\u0650 \u0639\u064e\u0627\u0634\u064f\u0648\u0631\u064e\u0627\u0621\u064e",translation:"\u201cThe Prophet used to be keen on fasting the Day of Ashura.\u201d",reference:"\u0635\u062d\u064a\u062d \u0627\u0644\u0628\u062e\u0627\u0631\u064a",eyebrow:"\u0641\u0636\u0627\u0626\u0644 \u0639\u0627\u0634\u0648\u0631\u0627\u0621"}]},{name:"\u0644\u064a\u0644\u0629 \u0627\u0644\u0642\u062f\u0631",match:({day:a,month:u})=>9===u&&27===a,hadiths:[{text:"\u0645\u064e\u0646\u0652 \u0642\u064e\u0627\u0645\u064e \u0644\u064e\u064a\u0652\u0644\u064e\u0629\u064e \u0627\u0644\u0642\u064e\u062f\u0652\u0631\u0650 \u0625\u0650\u064a\u0645\u064e\u0627\u0646\u064b\u0627 \u0648\u064e\u0627\u062d\u0652\u062a\u0650\u0633\u064e\u0627\u0628\u064b\u0627 \u063a\u064f\u0641\u0650\u0631\u064e \u0644\u064e\u0647\u064f \u0645\u064e\u0627 \u062a\u064e\u0642\u064e\u062f\u0651\u064e\u0645\u064e \u0645\u0650\u0646\u0652 \u0630\u064e\u0646\u0652\u0628\u0650\u0647\u0650",translation:"\u201cWhoever stands in prayer on Laylat al-Qadr with faith and seeking reward will be forgiven.\u201d",reference:"\u0645\u062a\u0641\u0642 \u0639\u0644\u064a\u0647",eyebrow:"\u0641\u0636\u0627\u0626\u0644 \u0644\u064a\u0644\u0629 \u0627\u0644\u0642\u062f\u0631"}]},{name:"\u0631\u0645\u0636\u0627\u0646",match:({month:a})=>9===a,hadiths:[{text:"\u0625\u0650\u0630\u064e\u0627 \u062c\u064e\u0627\u0621\u064e \u0631\u064e\u0645\u064e\u0636\u064e\u0627\u0646\u064f \u0641\u064f\u062a\u0651\u0650\u062d\u064e\u062a\u0652 \u0623\u064e\u0628\u0652\u0648\u064e\u0627\u0628\u064f \u0627\u0644\u062c\u064e\u0646\u0651\u064e\u0629\u0650 \u0648\u064e\u063a\u064f\u0644\u0651\u0650\u0642\u064e\u062a\u0652 \u0623\u064e\u0628\u0652\u0648\u064e\u0627\u0628\u064f \u0627\u0644\u0646\u0651\u064e\u0627\u0631\u0650",translation:"\u201cWhen Ramadan begins, the gates of Paradise are opened and the gates of Hell are closed.\u201d",reference:"\u0645\u062a\u0641\u0642 \u0639\u0644\u064a\u0647",eyebrow:"\u0641\u0636\u0627\u0626\u0644 \u0631\u0645\u0636\u0627\u0646"},{text:"\u0645\u064e\u0646\u0652 \u0635\u064e\u0627\u0645\u064e \u0631\u064e\u0645\u064e\u0636\u064e\u0627\u0646\u064e \u0625\u0650\u064a\u0645\u064e\u0627\u0646\u064b\u0627 \u0648\u064e\u0627\u062d\u0652\u062a\u0650\u0633\u064e\u0627\u0628\u064b\u0627 \u063a\u064f\u0641\u0650\u0631\u064e \u0644\u064e\u0647\u064f \u0645\u064e\u0627 \u062a\u064e\u0642\u064e\u062f\u0651\u064e\u0645\u064e \u0645\u0650\u0646\u0652 \u0630\u064e\u0646\u0652\u0628\u0650\u0647\u0650",translation:"\u201cWhoever fasts Ramadan with faith and seeking reward will be forgiven.\u201d",reference:"\u0645\u062a\u0641\u0642 \u0639\u0644\u064a\u0647",eyebrow:"\u0641\u0636\u0627\u0626\u0644 \u0631\u0645\u0636\u0627\u0646"}]}],this.hadithList=this.resolveHadithList(),this.currentHadith$=new y.t(this.hadithList[0])}set isLoading(a){a!==this.loadingValue&&(this.loadingValue=a,a&&this.showHadithValue&&this.showNextHadith())}get isLoading(){return this.loadingValue}set showHadith(a){this.showHadithValue=a,a&&this.loadingValue&&this.showNextHadith()}get showHadith(){return this.showHadithValue}getRandomHadithIndex(){if(this.hadithList.length<=1)return 0;let a;do{a=Math.floor(Math.random()*this.hadithList.length)}while(a===this.hadithIndex);return a}showNextHadith(){this.hadithIndex=this.getRandomHadithIndex(),this.currentHadith$.next(this.hadithList[this.hadithIndex])}resolveHadithList(){const a=this.getHijriDateParts();if(a){const u=this.eventHadithLists.find(m=>m.match(a));if(u?.hadiths.length)return u.hadiths}return this.defaultHadithList}getHijriDateParts(){try{const u=new Intl.DateTimeFormat("en-US-u-ca-islamic",{day:"numeric",month:"numeric"}).formatToParts(new Date),m=u.find(f=>"day"===f.type)?.value,R=u.find(f=>"month"===f.type)?.value,r=m?Number(m):NaN,g=R?Number(R):NaN;return Number.isNaN(r)||Number.isNaN(g)?null:{day:r,month:g}}catch{return null}}static#t=this.\u0275fac=function(u){return new(u||h)};static#e=this.\u0275cmp=v.VBU({type:h,selectors:[["app-loading-overlay"]],inputs:{isLoading:"isLoading",showHadith:"showHadith"},ngContentSelectors:C,decls:3,vars:2,consts:[[1,"loading-overlay"],[1,"loading-overlay__content"]],template:function(u,m){1&u&&(v.NAR(),v.j41(0,"div",0)(1,"div",1),v.SdG(2),v.k0s()()),2&u&&v.AVh("loading",m.isLoading)},dependencies:[l.MD],styles:["[_nghost-%COMP%]{display:block;font-family:Amiri Quran}.loading-overlay[_ngcontent-%COMP%]{position:relative;font-family:Amiri Quran}.loading-overlay__content[_ngcontent-%COMP%]{transition:filter .2s ease,opacity .2s ease;font-family:Amiri Quran}.loading-overlay.loading[_ngcontent-%COMP%]   .loading-overlay__content[_ngcontent-%COMP%]{filter:blur(2px);opacity:.55;pointer-events:none;font-family:Amiri Quran}.loading-overlay__backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background-color:#ffffffb3;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);z-index:1000;pointer-events:all;font-family:Amiri Quran}.hadith-view[_ngcontent-%COMP%]{max-width:520px;width:calc(100% - 32px);padding:32px;border-radius:24px;background:linear-gradient(135deg,#095f6ef2,#113152e6);color:#fff;box-shadow:0 20px 60px #0928454d;text-align:center;font-family:Amiri Quran}.hadith-view__eyebrow[_ngcontent-%COMP%]{font-size:.85rem;letter-spacing:.12em;text-transform:uppercase;color:#ffffffe6;margin-bottom:16px}.hadith-view__quote[_ngcontent-%COMP%]{margin:0 0 16px;font-size:1.35rem;line-height:1.8;font-weight:600}.hadith-view__quote-text[_ngcontent-%COMP%]{display:inline-block}.hadith-view__reference[_ngcontent-%COMP%]{margin:0 0 8px;font-weight:500;color:#ffffffe6}.hadith-view__translation[_ngcontent-%COMP%]{margin:0;font-size:.95rem;color:#ffffffd9}"],changeDetection:0})}return h})()},8932:(A,_,s)=>{s.r(_),s.d(_,{MembershipListComponent:()=>ft});var l=s(8728),y=s(2200),v=s(8132),C=s(980),b=s(645),h=s(357),M=s(6053),a=s(2400),u=s(6848),m=s(1194),R=s(1703),r=s(9417),g=s(8834),f=s(6751),x=s(3791),T=s(5862),D=s(7509),F=s(6109),t=s(3664),I=s(4507),L=s(5079);function k(i,c){if(1&i&&(t.j41(0,"mat-option",9),t.EFF(1),t.k0s()),2&i){const e=c.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function d(i,c){if(1&i&&(t.j41(0,"mat-option",9),t.EFF(1),t.k0s()),2&i){const e=c.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}let w=(()=>{class i{constructor(){this.fb=(0,l.WQX)(r.ok),this.subscribeService=(0,l.WQX)(T.qB),this.studentSubscribeService=(0,l.WQX)(a.L),this.lookupService=(0,l.WQX)(u.s),this.toast=(0,l.WQX)(D.f),this.dialogRef=(0,l.WQX)(h.k),this.data=(0,l.WQX)(h.e),this.form=this.fb.group({subscribeTypeId:[null],subscribeId:[null,r.k0.required]}),this.types=[],this.subscribes=[],this.typeCategoryFilter=null}ngOnInit(){this.prepareResidencyFilter(),this.form.get("subscribeTypeId")?.valueChanges.subscribe(e=>{this.form.patchValue({subscribeId:null},{emitEvent:!1}),this.loadSubscribes(e??null)})}prepareResidencyFilter(){const e=this.data?.residentGroup??null;if(e&&"all"!==e)return this.typeCategoryFilter=this.mapResidencyGroupToCategory(e),void this.loadSubscribeTypes();const n=this.data?.residentId??null;n?this.lookupService.getAllNationalities().pipe((0,C.j)(()=>this.loadSubscribeTypes())).subscribe({next:o=>{const p=o.isSuccess&&Array.isArray(o.data)?o.data:[];this.typeCategoryFilter=this.resolveTypeCategory(p,n)},error:()=>{this.typeCategoryFilter=null}}):this.loadSubscribeTypes()}loadSubscribeTypes(){this.subscribeService.getAllTypes({skipCount:0,maxResultCount:100,studentId:this.data?.studentId??void 0}).subscribe({next:n=>{this.types=this.applyResidencyFilterToTypes(n.isSuccess&&n.data?.items?n.data.items:[]);const p=this.resolveDefaultSubscribeTypeSelection();this.loadSubscribes(p)},error:()=>{this.types=[],this.form.patchValue({subscribeTypeId:null},{emitEvent:!1}),this.subscribes=[]}})}submit(){const e=this.form.value.subscribeId;e&&this.studentSubscribeService.create({studentId:this.data?.studentId,studentSubscribeId:e}).subscribe({next:o=>{o.isSuccess?(this.toast.success("\u062a\u0645 \u0627\u0644\u062a\u062d\u062f\u064a\u062b \u0628\u0646\u062c\u0627\u062d"),this.dialogRef.close(!0)):this.toast.error("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0628\u0627\u0642\u0629")},error:()=>this.toast.error("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0628\u0627\u0642\u0629")})}loadSubscribes(e=null){this.typeCategoryFilter&&null==e?this.subscribes=[]:this.lookupService.getSubscribesByTypeId(e??void 0).subscribe({next:n=>{const o=this.extractSubscriptionOptions(n);this.subscribes=o},error:()=>{this.subscribes=[]}})}extractSubscriptionOptions(e){const n=P=>Array.isArray(P)?P:null,o=e?.data,p=o?.data,G=o?.result,O=o?.items,N=e?.result,bt=N?.items;return n(o)||n(p)||n(G)||n(O)||n(N)||n(bt)||[]}resolveTypeCategory(e,n){const o=e.find(p=>p.id===n);return o?(0,F.QO)(o)?T.rY.Egyptian:(0,F.JY)(o)?T.rY.Arab:T.rY.Foreign:null}applyResidencyFilterToTypes(e){return this.typeCategoryFilter?e.filter(n=>null==n.group||n.group===this.typeCategoryFilter):e}mapResidencyGroupToCategory(e){switch(e){case"egyptian":return T.rY.Egyptian;case"arab":return T.rY.Arab;case"foreign":return T.rY.Foreign;default:return null}}resolveDefaultSubscribeTypeSelection(){const e=this.form.value.subscribeTypeId;if(null!=e&&this.types.some(p=>p.id===e))return e;if(!this.typeCategoryFilter||0===this.types.length)return null!==e&&this.form.patchValue({subscribeTypeId:null},{emitEvent:!1}),null;const o=this.types[0]?.id??null;return this.form.patchValue({subscribeTypeId:o},{emitEvent:!1}),o}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-student-subscribe-dialog"]],decls:18,vars:4,consts:[["mat-dialog-title",""],[3,"formGroup"],["appearance","outline",1,"w-100"],["formControlName","subscribeTypeId"],[3,"value",4,"ngFor","ngForOf"],["formControlName","subscribeId"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-flat-button","","color","primary",3,"click","disabled"],[3,"value"]],template:function(n,o){1&n&&(t.j41(0,"h2",0),t.EFF(1,"\u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0628\u0627\u0642\u0629 \u0644\u0644\u0637\u0627\u0644\u0628"),t.k0s(),t.j41(2,"mat-dialog-content",1)(3,"mat-form-field",2)(4,"mat-label"),t.EFF(5,"\u0646\u0648\u0639 \u0627\u0644\u0628\u0627\u0642\u0629"),t.k0s(),t.j41(6,"mat-select",3),t.DNE(7,k,2,2,"mat-option",4),t.k0s()(),t.j41(8,"mat-form-field",2)(9,"mat-label"),t.EFF(10,"\u0627\u0644\u0628\u0627\u0642\u0629"),t.k0s(),t.j41(11,"mat-select",5),t.DNE(12,d,2,2,"mat-option",4),t.k0s()()(),t.j41(13,"mat-dialog-actions",6)(14,"button",7),t.EFF(15,"\u0625\u0644\u063a\u0627\u0621"),t.k0s(),t.j41(16,"button",8),t.bIt("click",function(){return o.submit()}),t.EFF(17," \u062d\u0641\u0638 "),t.k0s()()),2&n&&(t.R7$(2),t.Y8G("formGroup",o.form),t.R7$(5),t.Y8G("ngForOf",o.types),t.R7$(5),t.Y8G("ngForOf",o.subscribes),t.R7$(4),t.Y8G("disabled",o.form.invalid))},dependencies:[y.MD,y.Sq,h.l,h.a,h.b,h.M,h.c,g.Hl,g.$z,f.M,I.j,I.M,x.M,x.g,L.M,r.X1,r.BC,r.cb,r.j4,r.JD],encapsulation:2})}return i})();var E=s(2754),S=s(7753),j=s(3746),$=s(5747),B=s(6735),Y=s(8863),U=s(8018);const W=["loadMoreTrigger"],Q=i=>["/membership/view",i],V=i=>({disabled:i}),H=i=>({value:i});function X(i,c){if(1&i&&(t.j41(0,"mat-option",33),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&i){const e=c.$implicit;t.Y8G("value",e.value),t.R7$(),t.SpI(" ",t.bMT(2,2,e.translationKey)," ")}}function K(i,c){1&i&&(t.j41(0,"th",34),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&i&&(t.R7$(),t.JRh(t.bMT(2,1,"Name")))}function J(i,c){if(1&i&&(t.j41(0,"td",35)(1,"div",36)(2,"div",37),t.nrm(3,"img",38),t.k0s(),t.j41(4,"div",39)(5,"div",40),t.EFF(6),t.nI1(7,"translate"),t.k0s()()()()),2&i){const e=c.$implicit;t.R7$(6),t.JRh(e.studentName||t.bMT(7,1,"\u0644\u0627 \u064a\u0648\u062c\u062f"))}}function z(i,c){1&i&&(t.j41(0,"th",41),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&i&&(t.R7$(),t.JRh(t.bMT(2,1,"Mobile")))}function Z(i,c){if(1&i&&(t.j41(0,"td",42),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&i){const e=c.$implicit;t.R7$(),t.SpI(" ",e.studentMobile||t.bMT(2,1,"\u0644\u0627 \u064a\u0648\u062c\u062f")," ")}}function q(i,c){1&i&&(t.j41(0,"th",41),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&i&&(t.R7$(),t.JRh(t.bMT(2,1,"Start Date")))}function tt(i,c){if(1&i&&(t.j41(0,"td",42),t.EFF(1),t.nI1(2,"date"),t.nI1(3,"translate"),t.j41(4,"span",43),t.EFF(5),t.nI1(6,"date"),t.nI1(7,"translate"),t.k0s()()),2&i){const e=c.$implicit;t.R7$(),t.SpI(" ",e.startDate?t.i5U(2,2,e.startDate,"shortDate"):t.bMT(3,5,"\u0644\u0627 \u064a\u0648\u062c\u062f")," "),t.R7$(4),t.SpI(" ",e.startDate?t.i5U(6,7,e.startDate,"shortTime"):t.bMT(7,10,"\u0644\u0627 \u064a\u0648\u062c\u062f")," ")}}function et(i,c){1&i&&(t.j41(0,"th",41),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&i&&(t.R7$(),t.JRh(t.bMT(2,1,"Status")))}function it(i,c){if(1&i){const e=t.RV6();t.j41(0,"i",48),t.nI1(1,"translate"),t.bIt("click",function(){l.eBV(e);const o=t.XpG(2).$implicit,p=t.XpG();return l.Njj(p.openPaymentDetails(o.studentPaymentId))}),t.k0s()}2&i&&t.Y8G("matTooltip",t.bMT(1,1,"Payment Details"))}function nt(i,c){if(1&i&&(t.j41(0,"div",44),t.nrm(1,"i",46),t.EFF(2),t.nI1(3,"translate"),t.DNE(4,it,2,3,"i",47),t.k0s()),2&i){const e=t.XpG().$implicit;t.R7$(2),t.SpI(" ",t.bMT(3,2,"Paid")," "),t.R7$(2),t.Y8G("ngIf",e.studentPaymentId)}}function at(i,c){if(1&i){const e=t.RV6();t.j41(0,"i",48),t.nI1(1,"translate"),t.bIt("click",function(){l.eBV(e);const o=t.XpG(2).$implicit,p=t.XpG();return l.Njj(p.openPaymentDetails(o.studentPaymentId))}),t.k0s()}2&i&&t.Y8G("matTooltip",t.bMT(1,1,"Payment Details"))}function st(i,c){if(1&i&&(t.j41(0,"div",45),t.nrm(1,"i",49),t.EFF(2),t.nI1(3,"translate"),t.DNE(4,at,2,3,"i",47),t.k0s()),2&i){const e=t.XpG().$implicit;t.R7$(2),t.SpI(" ",t.bMT(3,2,"Not Paid")," "),t.R7$(2),t.Y8G("ngIf",e.studentPaymentId)}}function ot(i,c){1&i&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&i&&(t.R7$(),t.JRh(t.bMT(2,1,"\u0644\u0627 \u064a\u0648\u062c\u062f")))}function rt(i,c){if(1&i&&(t.j41(0,"td",42),t.nVh(1,nt,5,4,"div",44)(2,st,5,4,"div",45)(3,ot,3,3,"div"),t.k0s()),2&i){const e=c.$implicit;t.R7$(),t.vxM(!0===e.payStatus?1:!1===e.payStatus?2:3)}}function lt(i,c){1&i&&(t.j41(0,"th",41),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&i&&(t.R7$(),t.JRh(t.bMT(2,1,"\u0627\u0644\u0628\u0627\u0642\u0629")))}function ut(i,c){if(1&i&&(t.j41(0,"td",42),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&i){const e=c.$implicit;t.R7$(),t.SpI(" ",e.plan||t.bMT(2,1,"\u0644\u0627 \u064a\u0648\u062c\u062f")," ")}}function ct(i,c){1&i&&(t.j41(0,"th",50),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&i&&(t.R7$(),t.JRh(t.bMT(2,1,"Actions")))}function dt(i,c){if(1&i){const e=t.RV6();t.j41(0,"td",42)(1,"div",51)(2,"ul",52)(3,"li",53),t.nI1(4,"translate"),t.j41(5,"a",54),t.nrm(6,"i",55),t.k0s()(),t.j41(7,"li",56),t.nI1(8,"translate"),t.j41(9,"a",57),t.bIt("click",function(){const o=l.eBV(e).$implicit,p=t.XpG();return l.Njj(p.openSubscribeDialog(o))}),t.nrm(10,"i",58),t.k0s()()()()()}if(2&i){const e=c.$implicit,n=t.XpG();t.R7$(3),t.Y8G("matTooltip",t.bMT(4,5,"\u0639\u0631\u0636")),t.R7$(2),t.Y8G("routerLink",t.eq3(9,Q,e.studentId)),t.R7$(2),t.Y8G("matTooltip",t.bMT(8,7,"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0628\u0627\u0642\u0629"))("matTooltipDisabled",n.canEditSubscription(e)),t.R7$(2),t.Y8G("ngClass",t.eq3(11,V,!n.canEditSubscription(e)))}}function ht(i,c){1&i&&t.nrm(0,"tr",59)}function mt(i,c){1&i&&t.nrm(0,"tr",60)}function pt(i,c){if(1&i&&(t.j41(0,"tr",61)(1,"td",62),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&i){t.XpG();const e=t.sdS(12);t.R7$(2),t.SpI(" ",t.i5U(3,1,'No data matching the filter "{{ value }}"',t.eq3(4,H,e.value))," ")}}let ft=(()=>{class i{constructor(){this.service=(0,l.WQX)(a.L),this.lookupService=(0,l.WQX)(u.s),this.paymentService=(0,l.WQX)(m.NC),this.dialog=(0,l.WQX)(h.h),this.displayedColumns=["name","mobile","date","status","plan","action"],this.dataSource=new b.I6,this.totalCount=0,this.filter={skipCount:0,maxResultCount:10},this.pageIndex=0,this.pageSize=10,this.nationalities=[],this.selectedResidentId=null,this.residencyGroupOptions=E.w,this.selectedResidencyGroup="all",this.isLoading=!1,this.isLoadingMore=!1}set loadMoreTrigger(e){this.loadMoreElement=e,this.setupIntersectionObserver()}ngOnInit(){this.loadNationalities(),this.load()}ngOnDestroy(){this.intersectionObserver?.disconnect()}loadNationalities(){this.lookupService.getAllNationalities().subscribe(e=>{this.nationalities=e.isSuccess&&Array.isArray(e.data)?e.data:[]})}load(e=!1){this.filter.residentGroup=this.selectedResidencyGroup,this.isLoading=!e,this.isLoadingMore=e,this.service.getStudents(this.filter,void 0,this.selectedResidentId??void 0).pipe((0,C.j)(()=>{this.isLoading=!1,this.isLoadingMore=!1})).subscribe({next:n=>{n.isSuccess&&n.data?.items?(this.dataSource.data=e?[...this.dataSource.data,...n.data.items]:n.data.items,this.totalCount=n.data.totalCount):(e||(this.dataSource.data=[]),this.totalCount=0)},error:()=>{e||(this.dataSource.data=[]),this.totalCount=0}})}applyFilter(e){this.filter.searchTerm=e.target.value.trim().toLowerCase(),this.pageIndex=0,this.filter.skipCount=0,this.load()}onResidencyChange(e){this.selectedResidentId=e&&e>0?e:null,this.pageIndex=0,this.filter.skipCount=0,this.load()}onResidencyGroupChange(e){this.selectedResidencyGroup=e??"all",this.pageIndex=0,this.filter.skipCount=0,this.load()}setupIntersectionObserver(){this.loadMoreElement&&(this.intersectionObserver?.disconnect(),this.intersectionObserver=new IntersectionObserver(e=>{e.some(n=>n.isIntersecting)&&this.loadNextPage()},{root:null,rootMargin:"0px 0px 20% 0px"}),this.intersectionObserver.observe(this.loadMoreElement.nativeElement))}loadNextPage(){this.isLoading||this.isLoadingMore||this.hasMoreResults()&&(this.pageIndex+=1,this.filter.skipCount=this.pageIndex*this.pageSize,this.filter.maxResultCount=this.pageSize,this.load(!0))}hasMoreResults(){return this.dataSource.data.length<this.totalCount}openPaymentDetails(e){e&&this.paymentService.getPayment(e).subscribe(n=>{n.isSuccess&&n.data&&this.dialog.open(R.i,{data:n.data})})}openSubscribeDialog(e){if(!this.canEditSubscription(e))return;const n=e.residentId??null,o=this.resolveResidencyGroup(n);this.dialog.open(w,{data:{studentId:e.studentId,residentId:n,residentGroup:o}}).afterClosed().subscribe(G=>{G&&this.load()})}canEditSubscription(e){return!0!==e.isCancelled&&(!0!==e.payStatus||0===e.remainingMinutes)}resolveResidencyGroup(e){if(!e||e<=0)return null;const n=this.nationalities.find(o=>o.id===e);return n?(0,F.QO)(n)?"egyptian":(0,F.JY)(n)?"arab":"foreign":null}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-membership-list"]],viewQuery:function(n,o){if(1&n&&t.GBs(W,5),2&n){let p;t.mGM(p=t.lsd())&&(o.loadMoreTrigger=p.first)}},decls:52,vars:23,consts:[["input",""],["loadMoreTrigger",""],[3,"isLoading"],[1,"row","p-t-25"],[1,"col-12"],["padding","0",3,"cardTitle"],[1,"p-b-15"],[1,"table-containe","table-reponsive"],[1,"table-search","p-t-15","p-x-15"],[1,"row","g-3"],[1,"col-12","col-md-4"],["appearance","outline",1,"w-100"],["matInput","",3,"keyup","placeholder"],[3,"selectionChange","value"],[3,"value",4,"ngFor","ngForOf"],[1,"table-responsive"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","class","p-l-25",4,"matHeaderCellDef"],["mat-cell","","class","p-l-25",4,"matCellDef"],["matColumnDef","mobile"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","text-nowrap",4,"matCellDef"],["matColumnDef","date"],["matColumnDef","status"],["matColumnDef","plan"],["matColumnDef","action"],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[1,"app-paginator"],[1,"text-muted"],[3,"value"],["mat-header-cell","",1,"p-l-25"],["mat-cell","",1,"p-l-25"],[1,"flex","align-item-center"],[1,"flex-shrink-0"],["src","assets/images/user/avatar-1.png","alt","user-image",1,"wid-40","border-50"],[1,"flex-grow-1","m-l-15"],[1,"f-w-600"],["mat-header-cell",""],["mat-cell","",1,"text-nowrap"],[1,"text-muted","mat-small","block"],[1,"text-success-500"],[1,"text-accent-500"],[1,"fas","fa-circle","f-10","m-r-10","text-success"],["class","ti ti-credit-card m-l-10","style","cursor: pointer",3,"matTooltip","click",4,"ngIf"],[1,"ti","ti-credit-card","m-l-10",2,"cursor","pointer",3,"click","matTooltip"],[1,"fas","fa-circle","f-10","m-r-10","text-accent-500"],["mat-header-cell","",1,"text-center"],[1,"text-center","text-nowrap"],[1,"list-inline","p-l-0"],[1,"list-inline-item","m-r-10",3,"matTooltip"],[1,"avatar","avatar-xs","text-muted",3,"routerLink"],[1,"ti","ti-eye","f-20"],[1,"list-inline-item","m-r-10",3,"matTooltip","matTooltipDisabled"],["href","javascript:",1,"avatar","avatar-xs","text-muted",3,"click","ngClass"],[1,"ti","ti-edit","f-20"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(n,o){if(1&n){const p=t.RV6();t.j41(0,"app-loading-overlay",2)(1,"div",3)(2,"div",4)(3,"app-card",5),t.nI1(4,"translate"),t.j41(5,"div",6)(6,"div",7)(7,"div",8)(8,"div",9)(9,"div",10)(10,"mat-form-field",11)(11,"input",12,0),t.nI1(13,"translate"),t.bIt("keyup",function(O){return l.eBV(p),l.Njj(o.applyFilter(O))}),t.k0s(),t.j41(14,"mat-hint"),t.EFF(15),t.nI1(16,"translate"),t.k0s()()(),t.j41(17,"div",10)(18,"mat-form-field",11)(19,"mat-label"),t.EFF(20),t.nI1(21,"translate"),t.k0s(),t.j41(22,"mat-select",13),t.bIt("selectionChange",function(O){return l.eBV(p),l.Njj(o.onResidencyGroupChange(O.value))}),t.DNE(23,X,3,4,"mat-option",14),t.k0s()()()()(),t.j41(24,"div",15)(25,"table",16),t.qex(26,17),t.DNE(27,K,3,3,"th",18)(28,J,8,3,"td",19),t.bVm(),t.qex(29,20),t.DNE(30,z,3,3,"th",21)(31,Z,3,3,"td",22),t.bVm(),t.qex(32,23),t.DNE(33,q,3,3,"th",21)(34,tt,8,12,"td",22),t.bVm(),t.qex(35,24),t.DNE(36,et,3,3,"th",21)(37,rt,4,1,"td",22),t.bVm(),t.qex(38,25),t.DNE(39,lt,3,3,"th",21)(40,ut,3,3,"td",22),t.bVm(),t.qex(41,26),t.DNE(42,ct,3,3,"th",27)(43,dt,11,13,"td",22),t.bVm(),t.DNE(44,ht,1,0,"tr",28)(45,mt,1,0,"tr",29)(46,pt,4,6,"tr",30),t.k0s(),t.j41(47,"div",31,1)(49,"span",32),t.EFF(50),t.nI1(51,"translate"),t.k0s()()()()()()()()()}2&n&&(t.Y8G("isLoading",o.isLoading),t.R7$(3),t.Y8G("cardTitle",t.bMT(4,13,"Membership List")),t.R7$(8),t.Y8G("placeholder",t.bMT(13,15,"Search...")),t.R7$(4),t.JRh(t.bMT(16,17,"Residency Search Hint")),t.R7$(5),t.JRh(t.bMT(21,19,"Residency Group")),t.R7$(2),t.Y8G("value",o.selectedResidencyGroup),t.R7$(),t.Y8G("ngForOf",o.residencyGroupOptions),t.R7$(2),t.Y8G("dataSource",o.dataSource),t.R7$(19),t.Y8G("matHeaderRowDef",o.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",o.displayedColumns),t.R7$(2),t.AVh("d-none",!o.hasMoreResults()),t.R7$(3),t.SpI(" ",t.bMT(51,21,o.isLoadingMore?"Loading more...":"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644")," "))},dependencies:[y.MD,y.YU,y.Sq,y.bT,y.vh,M.G,j.fg,I.j,I.M,I.c,$.e,x.g,L.M,b.Zl,b.tL,b.ji,b.cC,b.YV,b.iL,b.KS,b.$R,b.YZ,b.NB,b.ky,B.i,Y.m,U.D9,v.iI,v.Wk,S.q],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.5;cursor:default}"]})}return i})()}}]);